(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"+ImK":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("ERkP")),l=a.__importDefault(i("aWzz"));i("1W57");const n=i("0x+l"),o=i("8jBL"),r=({title:e,description:t,bottomMargin:i,size:a})=>s.default.createElement("div",{className:i?"inline-error-container inline-error-container-bottom":"inline-error-container"},"medium"===a?s.default.createElement(o.AlertError,{color:"error",className:"medium-icon"}):s.default.createElement(n.AlertError,{color:"error",className:"small-icon"}),s.default.createElement("div",{"aria-live":"assertive",role:"alert",className:`inline-error-message-container__${a}`},s.default.createElement("div",{className:"inline-error-title"},e),s.default.createElement("div",null,t)));r.propTypes={title:l.default.string.isRequired,size:l.default.oneOf(["small","medium"]).isRequired,description:l.default.string,bottomMargin:l.default.bool},r.defaultProps={bottomMargin:!1,description:""},t.default=r},"+xlf":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("enG4"));t.default=a.default},"/zoO":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("ERkP")),l=a.__importDefault(i("aWzz")),n=i("kBJj"),o=a.__importDefault(i("Ebvs")),r=a.__importDefault(i("+xlf")),d=a.__importDefault(i("BnC3")),u=a.__importDefault(i("6wo1")),c=a.__importDefault(i("dw5F")),p=i("f16b"),f=({dispatch:e,module:t,session:i,onOpenEditImagePanel:a,setUnsavedResources:l,onUpdateDetails:n,onValidateInput:d,pluginsConfig:u,analyticsId:p})=>{switch(t.type){case c.default.LINKS:return s.default.createElement(o.default,{dispatch:e,module:t,session:i,onOpenEditImagePanel:a,setUnsavedResources:l,onUpdateDetails:n,onValidateInput:d,analyticsId:`${p}.imageModule`});case c.default.CONTENT:return s.default.createElement(r.default,{module:t,setUnsavedResources:l,pluginsConfig:u,analyticsId:`${p}`});default:return null}};f.propTypes={dispatch:l.default.func.isRequired,module:d.default.isRequired,session:u.default.isRequired,onOpenEditImagePanel:l.default.func.isRequired,setUnsavedResources:l.default.func.isRequired,onUpdateDetails:l.default.func.isRequired,onValidateInput:l.default.func.isRequired,pluginsConfig:n.optionalPluginConfigPropTypes.isRequired,...p.addAnalyticsProps},t.default=f},"0/jh":function(e,t,i){"use strict";i.r(t)},"0Kat":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importStar(i("Mse8"));t.defaultBanner=a.defaultBanner,t.defaultLogo=a.defaultLogo,t.default=a.default},"0UfF":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("ERkP")),l=a.__importDefault(i("aWzz"));i("pXEe");const n=({title:e,superTitle:t})=>s.default.createElement("header",{className:"panel-header-component"},s.default.createElement("h2",{className:"subheader panel-header-component__super-title"},t),s.default.createElement("h1",{className:"subheader panel-header-component__title"},e));n.propTypes={superTitle:l.default.string,title:l.default.string},n.defaultProps={superTitle:"",title:""},t.default=n},"0wpS":function(e,t,i){"use strict";i.r(t)},"188D":function(e,t,i){e.exports=i.p+"fb06ab22876178c6578a5011df11fc8a.png"},"1Cy1":function(e,t,i){"use strict";i.r(t)},"1W57":function(e,t,i){"use strict";i.r(t)},"2lmt":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=i("FzJq"),l=i("wg1p"),n=i("DqOQ"),o=a.__importDefault(i("vlH4")),r=a.__importDefault(i("skTy"));t.START_MODULE_XHR="module.start.xhr",t.GET_DATA="module.get.data",t.LINK_ADD="module.link.add",t.LINK_REMOVE="module.link.remove",t.LINK_UPDATE="module.link.update",t.MODULES_RECEIVED="module.all.received",t.MODULE_ADD="module.add",t.MODULE_REMOVE="module.remove",t.MODULE_UPDATE="module.update",t.IS_VISIBLE="module.visible",t.startModuleXhr=(e={})=>({type:t.START_MODULE_XHR,props:e}),t.modulesReceived=e=>({type:t.MODULES_RECEIVED,modules:e,receivedAt:Date.now()}),t.getData=e=>i=>{let a;return(a=e&&"default"!==e?s.getPageVariant("IP",e).then(e=>e&&e.available?e:null,e=>{if(e.name===r.default.NotFoundError)return null;throw e}).then(e=>e||s.getPageVariant("IP",null)):s.getPageVariant("IP",null)).then(e=>{if(!e)throw new Error("no institution pages found!");return Promise.all([i(n.pageReceived(e)),s.getModules(e.id).then(e=>{const t=e.map(e=>s.getModuleResources(e).then(t=>{return e.resources=t,e}));return Promise.all(t)}).then(e=>i(t.modulesReceived(e)))])}).catch(e=>i(l.Action(l.fail(t.GET_DATA),{err:e})))},t.addLink=(e,i)=>a=>s.addResource(i).then(s=>a(l.Action(l.ok(t.LINK_ADD),{data:s,module:e,link:i}))).catch(s=>a(l.Action(l.fail(t.LINK_ADD),{err:s,module:e,link:i}))),t.updateLink=(e,i)=>a=>s.updateResource(i).then(s=>a(l.Action(l.ok(t.LINK_UPDATE),{data:s,module:e,link:i}))).catch(s=>a(l.Action(l.fail(t.LINK_UPDATE),{err:s,module:e,link:i}))),t.removeLink=(e,i)=>a=>s.deleteResource(i).then(s=>a(l.Action(l.ok(t.LINK_REMOVE),{data:s,module:e,linkId:i}))).catch(s=>a(l.Action(l.fail(t.LINK_REMOVE),{err:s,module:e,linkId:i}))),t.updateModule=({moduleId:e,module:i})=>a=>s.callUpdateModuleAPI(i,e).then(e=>{const i={...e,moduleId:e.module.id};a(l.Action(l.ok(t.MODULE_UPDATE),i))}).catch(s=>a(l.Action(l.fail(t.MODULE_UPDATE),{err:s,moduleId:e,module:i}))),t.addModule=(e,i,a)=>n=>{let o={...e};if(!i||0===i.length)return Promise.resolve().then(()=>n(l.Action(l.fail(t.MODULE_ADD),{err:"no module resources found!",createdModule:o})));let r=[];return s.callCreateModuleAPI(o,i,a).then(e=>{r=e.updatedData,(o=e.insertedData).resources=e.resources,o.institutionRoleIds=e.institutionRoleIds,n(l.Action(l.ok(t.MODULE_ADD),{updatedModules:r,createdModule:o}))}).catch(e=>n(l.Action(l.fail(t.MODULE_ADD),{err:e,createdModule:o})))},t.removeModule=e=>i=>s.deleteModule(e).then(a=>i(l.Action(l.ok(t.MODULE_REMOVE),{data:a,moduleId:e}))).catch(a=>i(l.Action(l.fail(t.MODULE_REMOVE),{err:a,moduleId:e}))),t.checkModuleVisibility=e=>i=>s.getModuleVisibility(e).then(a=>i(l.Action(l.ok(t.IS_VISIBLE),{data:a,moduleId:e}))).catch(a=>(i(l.Action(l.fail(t.IS_VISIBLE),{err:a,moduleId:e})),Promise.reject(o.default.GET_MODULE_VISIBILITY)))},"2lnG":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K");a.__exportStar(i("2lmt"),t),a.__exportStar(i("DqOQ"),t),a.__exportStar(i("q6cp"),t),a.__exportStar(i("Rz79"),t),a.__exportStar(i("GIAz"),t);var s=i("wg1p");t.ok=s.ok,t.fail=s.fail},"2xZF":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("ERkP")),l=a.__importDefault(i("aWzz")),n=i("MC1S"),o=i("f16b"),r=a.__importDefault(i("bA9G")),d=i("0x+l");i("PFnq");const u=({currentPageIndex:e,currentViewerIndex:t,localize:i,onSwitchPage:a,onSwitchMode:l,onClickSettingsButton:o,variantId:r,viewerRoles:u,variantOptions:c,analyticsId:p})=>{const f=i.translate("ip.header.admin"),m=i.translate("ip.header.allOthers"),h=i.translate("ip.header.brandSelectLabel"),g=i.translate("ip.header.edit");return s.default.createElement("header",{className:"header"},s.default.createElement("h1",{className:"subheader header__title js-base-page-skip-link-target",tabIndex:"-1"},i.translate("ip.header.title")),(()=>{const t=(()=>c&&c.map((e,t)=>({key:e.variantId||"default",text:e.variantName,action:()=>{a(e,t),l("edit",0,"admin")}})))();if(!t||t.length<=1)return null;const i=t[e]&&t[e].text,o=`${g} ${i}`,r=s.default.createElement("div",{className:"header__brand-select-label"},h);return s.default.createElement("div",{className:"header__brand-container inline-label"},s.default.createElement(n.Dropdown,{ariaLabel:o,defaultSelectedKey:t[e]&&t[e].key,selectedKey:t[e]&&t[e].key,label:r,options:t,inlineLabel:!0,onChanged:e=>e.action&&e.action(),analyticsId:`${p}.pages`}))})(),(()=>{const e=(()=>{const e=u.map((e,t)=>({key:e.roleKey,text:e.roleName,action:()=>l("preview",t+1,e.roleKey)}));return[{key:"admin",text:f,action:()=>l("edit",0,"admin")},...e,{key:"",text:m,action:()=>l("preview",e.length+1,"")}]})(),i=e[t]&&e[t].text,a=`${g} ${i}`,o=s.default.createElement("div",{className:"header__role-select-label"},g);return s.default.createElement("div",{className:"header__role-container inline-label"},s.default.createElement(n.Dropdown,{ariaLabel:a,defaultSelectedKey:e[t]&&e[t].key,selectedKey:e[t]&&e[t].key,label:o,options:e,inlineLabel:!0,onChanged:e=>e.action&&e.action(),analyticsId:`${p}.roles`}))})(),!!o&&s.default.createElement(n.IconButton,{href:"#",className:"header__settings-button",icon:s.default.createElement(d.Settings,null),onClick:()=>{o(r||"default")},analyticsId:`${p}.brandSettings.button`,ariaLabel:i.translate("ip.header.brandSettingsTitle")}))};u.propTypes={currentPageIndex:l.default.number.isRequired,currentViewerIndex:l.default.number.isRequired,localize:r.default.isRequired,onSwitchPage:l.default.func.isRequired,onSwitchMode:l.default.func.isRequired,onClickSettingsButton:l.default.func,variantId:l.default.string,variantOptions:l.default.arrayOf(l.default.shape({variantId:l.default.string,variantName:l.default.string.isRequired})),viewerRoles:l.default.arrayOf(l.default.shape({roleKey:l.default.string.isRequired,roleName:l.default.string.isRequired})).isRequired,...o.addAnalyticsProps},u.defaultProps={onClickSettingsButton:null,variantId:"default",variantOptions:null},t.default=u},"3SOn":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("ERkP")),l=a.__importDefault(i("aWzz")),n=i("8unJ"),o=i("myse"),r=i("f16b"),d=i("0x+l"),u=i("8jBL"),c=a.__importDefault(i("bA9G")),p=a.__importDefault(i("d1Rw"));i("iiwF");class f extends s.default.Component{constructor(e){super(e),this.onEditButtonFocus=()=>{this.setState(()=>({editButtonFocused:!0}))},this.onEditButtonBlur=()=>{this.setState(()=>({editButtonFocused:!1}))},this.onDeleteButtonFocus=()=>{this.setState(()=>({deleteButtonFocused:!0}))},this.onDeleteButtonBlur=()=>{this.setState(()=>({deleteButtonFocused:!1}))},this.state={editButtonFocused:!1,deleteButtonFocused:!1}}render(){const{link:e,localize:t,handleOpenEditLinkImageButtonClick:i,handleDeleteLinkImageButtonClick:a,buttonTitle:l,analyticsId:n,analyticsEventAugmentor:r}=this.props,c=`${n}.edit.button`,p=`${n}.edit.link`,f=`${n}.delete.button`;let m;if(e.details.imageHref){const n={backgroundImage:`url('${e.details.imageHref}')`},p=this.state.editButtonFocused||this.state.deleteButtonFocused;m=s.default.createElement("div",{className:"image-thumbnail",style:n},s.default.createElement("button",{onFocus:this.onEditButtonFocus,onBlur:this.onEditButtonBlur,className:p?"image-thumbnail-edit visible":"image-thumbnail-edit","aria-label":t.translate("ip.editModule.editLinkImage",{buttonTitle:l}),onClick:r(o.AnalyticsEventTypes.CLICK_EVENT,i,c),"data-analytics-id":c,tabIndex:0},s.default.createElement(u.Pencil,null)),s.default.createElement("button",{onFocus:this.onDeleteButtonFocus,onBlur:this.onDeleteButtonBlur,className:p?"image-thumbnail-delete visible":"image-thumbnail-delete","aria-label":t.translate("ip.editModule.deleteLinkImage",{buttonTitle:l}),tabIndex:0,onClick:r(o.AnalyticsEventTypes.CLICK_EVENT,a,f),"data-analytics-id":f},s.default.createElement(d.Trash,null)),s.default.createElement("div",{className:p?"overlay visible":"overlay"}))}return this.props.hasMaxImages||m||(m=s.default.createElement("div",{className:"edit-image-button-add"},s.default.createElement("button",{className:"add-button","aria-label":t.translate("ip.editModule.addLinkImageTitle",{buttonTitle:l}),onClick:r(o.AnalyticsEventTypes.CLICK_EVENT,i,c),"data-analytics-id":c},s.default.createElement(d.Add,null)),s.default.createElement("a",{className:"small-only-link",href:void 0,onClick:r(o.AnalyticsEventTypes.CLICK_EVENT,i,p),"data-analytics-id":p},t.translate("ip.editModule.addLinkImage")))),s.default.createElement("div",{className:"edit-image-button"},m)}}t.BaseEditImageButton=f,f.propTypes={buttonTitle:l.default.string.isRequired,link:p.default.isRequired,handleDeleteLinkImageButtonClick:l.default.func.isRequired,handleOpenEditLinkImageButtonClick:l.default.func.isRequired,localize:c.default.isRequired,hasMaxImages:l.default.bool,...r.withAnalyticsProps},f.defaultProps={hasMaxImages:!1};const m=n.localizedComponentWrapper(f);t.LocalizedEditImageButton=m,t.default=o.withAnalytics(m)},"3uNv":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=i("9OUN"),l=a.__importDefault(i("L7bQ")),n=a.__importDefault(i("aLoj")),o=a.__importDefault(i("qrct")),r=a.__importDefault(i("7fuL")),d=a.__importDefault(i("MPZR")),u=s.combineReducers({module:l.default,page:n.default,role:o.default,common:r.default,session:d.default});t.default=u},"3y1u":function(e,t,i){"use strict";i.r(t)},"4M3I":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("w35b"));t.default=a.default},"4PSn":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("ERkP")),l=a.__importDefault(i("aWzz")),n=i("8unJ"),o=a.__importDefault(i("bA9G"));i("yCqE");class r extends s.default.Component{constructor(){super(...arguments),this.getLoadingText=()=>this.props.localize.translate("ip.header.loading")}render(){const{backDrop:e}=this.props,t=e?s.default.createElement("div",{className:"loading-icon__back-drop"}):"";return s.default.createElement("div",{className:"loading-icon"},t,s.default.createElement("div",{className:"loading-icon__inner"},s.default.createElement("span",{className:"sr-only"},this.getLoadingText())))}}r.propTypes={backDrop:l.default.bool,localize:o.default},r.defaultProps={backDrop:!1,localize:{}},t.default=n.localizedComponentWrapper(r)},"4jkJ":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i("HopG");const a=i("hTyS"),s=i("SLwq");t.getRoles=()=>{const e=`${a.baseRoute}/institutionRoles`;return s.fetchReturnBody(e)}},"4sPl":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={ESC:27,ENTER:13,ARROW_UP:38,ARROW_DOWN:40}},"5cGW":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("MQeD"));t.default=a.default},"5iPf":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importStar(i("kBJj"));t.default=e=>{return[...[a.link(),a.image(),a.video()],...Object.keys(e).map(t=>a[t](e[t]))]}},"6RIU":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let i=e;return e&&e.indexOf("//")<0&&("/"!==e[0]&&(i=`/${e}`),i=t?t+i:window.location.origin+i),i}},"6ZFR":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("ERkP")),l=a.__importDefault(i("aWzz")),n=i("MC1S"),o=i("myse"),r=i("f16b"),d=a.__importDefault(i("dBOD")),u=({content:e,id:t,title:i,onOk:a,onCancel:l,onOkText:r,onCancelText:u,analyticsId:c})=>s.default.createElement(d.default,{content:e,id:t,title:i,onCancel:l,analyticsId:c},s.default.createElement(n.DialogFooter,null,s.default.createElement(n.DefaultButton,{onClick:o.useAnalyticsAugmentEventOnElement("click",l,`${c}.cancel.button`),text:u,className:"js-cancel-button"}),s.default.createElement(n.DefaultButton,{onClick:o.useAnalyticsAugmentEventOnElement("click",a,`${c}.ok.button`),text:r,primary:!0,className:"js-ok-button"})));u.propTypes={content:l.default.oneOfType([l.default.string,l.default.element]).isRequired,id:l.default.string.isRequired,title:l.default.string.isRequired,onOk:l.default.func.isRequired,onCancel:l.default.func.isRequired,onOkText:l.default.string.isRequired,onCancelText:l.default.string.isRequired,...r.addAnalyticsProps},t.default=u},"6fMO":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("u60F"));t.default=a.default},"6wo1":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("aWzz")),l=a.__importDefault(i("d1Rw"));t.default=s.default.shape({image:l.default})},"6y7X":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("ERkP")),l=a.__importDefault(i("aWzz")),n=i("0x+l"),o=a.__importDefault(i("O94r")),r=i("myse"),d=i("f16b");i("imzg");class u extends s.default.Component{constructor(e){super(e),this.toggleExpanded=()=>{this.setState(e=>({expanded:!e.expanded}))},this.state={expanded:e.startExpanded}}UNSAFE_componentWillReceiveProps(e){e.startExpanded!==this.props.startExpanded&&this.setState(()=>({expanded:e.startExpanded}))}render(){const{analyticsEventAugmentor:e,analyticsId:t}=this.props,i=this.props.className?`collapsible-panel ${this.props.className}`:"collapsible-panel",a=`${t}.collapsiblePanel.toggle.button`,l=s.default.createElement("button",{className:"collapsible-panel__header","aria-expanded":this.state.expanded,onClick:e(r.AnalyticsEventTypes.CLICK_EVENT,this.toggleExpanded,a),"data-analytics-id":a},s.default.createElement("div",{className:"collapsible-panel__header-left"},this.props.headerLeft),s.default.createElement("div",{className:"collapsible-panel__header-right"},s.default.createElement("div",{className:"collapsible-panel__header-right-text"},this.props.headerRight),this.state.expanded?s.default.createElement(n.ArrowUp,{className:"collapsible-panel__header-right-chevron"}):s.default.createElement(n.ArrowDown,{className:"collapsible-panel__header-right-chevron"}))),d=o.default({"collapsible-panel__content":!0,hidden:!this.state.expanded}),u=s.default.createElement("div",{className:d,"aria-hidden":!this.state.expanded},this.props.children);return s.default.createElement("div",{className:i},l,u)}}t.BaseCollapsiblePanel=u,u.propTypes={startExpanded:l.default.bool,className:l.default.string,headerLeft:l.default.element.isRequired,headerRight:l.default.element.isRequired,children:l.default.node.isRequired,...d.withAnalyticsProps},u.defaultProps={startExpanded:!1,className:""};const c=r.withAnalytics(u);t.default=c},"6zpC":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("kqdT"));t.default=a.default},"721Y":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("ERkP")),l=a.__importDefault(i("aWzz")),n=i("nBlB"),o=i("f16b"),r=i("YxpF"),d=a.__importDefault(i("YyhZ")),u=a.__importDefault(i("d1Rw"));i("d+xE");const c=({items:e,itemOffset:t,dragPointRef:i,onInsertLink:a,onOpenEditLinkImage:l,onDeleteEditLinkImage:n,onUpdateResource:o,onValidateInput:u,onDelete:c,actions:p,state:f,translations:m,hideCutoff:h,maxLinksViewable:g,hasMaxImages:_,isImageColVisible:E,analyticsId:y})=>{const b=e.map((r,m)=>s.default.createElement(d.default,{link:r,module:r,index:m,offset:t,key:r.id,preview:s.default.createElement("div",null,s.default.createElement("div",{className:"link-name"},r.details.title)),canBeReordered:e.length>1,onInsertLink:a,hasMaxImages:_,isImageColVisible:E,dragPointRef:i,onDeleteEditLinkImage:n,onOpenEditLinkImage:l,onUpdateResource:o,onValidateInput:u,onDelete:c,actions:p,state:f,analyticsId:`${y}.item`}));if(!h&&t+e.length>g){const e=s.default.createElement("div",{key:"AllLinksCutoff",className:"module-content__divider-container"},s.default.createElement("div",{className:"module-table__row module-content__row module-content__divider",id:"split-section-divider"},s.default.createElement("span",{className:"module-content__divider-text"},m.splitSectionText)),s.default.createElement("div",{className:"module-content__divider-bar"},s.default.createElement("div",{className:"module-content__divider-bar__line"})));b.splice(g-1-t,0,e)}return s.default.createElement("div",{className:"module-table__body",id:"modules-section"},0===t&&s.default.createElement(r.InsertButton,{onClick:e=>{a(e,0)},buttonTitle:m.createLinkBtn,analyticsId:`${y}`}),b)};c.propTypes={items:l.default.arrayOf(u.default).isRequired,itemOffset:l.default.number,translations:l.default.shape().isRequired,dragPointRef:l.default.func,hasMaxImages:l.default.bool,isImageColVisible:l.default.bool,onInsertLink:l.default.func.isRequired,onDeleteEditLinkImage:l.default.func,onOpenEditLinkImage:l.default.func,onUpdateResource:l.default.func.isRequired,onValidateInput:l.default.func.isRequired,onDelete:l.default.func.isRequired,hideCutoff:l.default.bool,actions:l.default.shape().isRequired,state:l.default.shape().isRequired,maxLinksViewable:l.default.number.isRequired,...o.addAnalyticsProps},c.defaultProps={itemOffset:0,hideCutoff:!1,hasMaxImages:!1,isImageColVisible:!0,dragPointRef:()=>{},onDeleteEditLinkImage:()=>{},onOpenEditLinkImage:()=>{}},t.default=n.DragNDropContainer(c)},"79sU":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("0UfF"));t.default=a.default},"7Bmz":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("+ImK"));t.default=a.default},"7ONb":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("c6tI"));t.sanitizeLinkUrl=s.default;const l=a.__importDefault(i("5iPf"));t.configureEditorPlugins=l.default;const n=a.__importDefault(i("6RIU"));t.convertToAbsoluteUrl=n.default;var o=i("ATuK");t.validateIsEmpty=o.validateIsEmpty,t.validateTooLong=o.validateTooLong,t.validateAll=o.validateAll;var r=i("8rgp");t.getDisplayName=r.getDisplayName,t.omit=r.omit,t.values=r.values,t.trimStringValues=r.trimStringValues;var d=i("iVn3");t.getImageOrientation=d.getImageOrientation,t.isValidImageOrientation=d.isValidImageOrientation,t.determineImageOrientation=d.determineImageOrientation;var u=i("sTma");t.generateAudienceLabel=u.generateAudienceLabel,t.areRolesValid=u.areRolesValid,t.filterValidRoles=u.filterValidRoles},"7fW2":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("6y7X"));t.default=a.default},"7fuL":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("Rz79"),s={error:!1,errorType:""},l=".ok",n=".fail";t.default=function(e=s,t){if(t&&t.type){if(t.type.endsWith(l))return{...e,error:!1,errorType:""};if(t.type.endsWith(n))return{...e,error:!0,errorType:t.err.name};if(t.type===a.SET_FEATURE_FLAGS)return{...e,featureFlags:t.flags};if(t.type===a.CLEAR_ERROR)return{...e,error:!1,errorType:""}}return e}},"81Z+":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("kTYZ"));t.default=a.default},"8FZW":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("/zoO"));t.default=a.default},"8W9E":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("XFZ8"));t.default=a.default},"8iF6":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("ERkP")),l=a.__importDefault(i("aWzz")),n=a.__importDefault(i("5cGW")),o=i("f16b");i("Upev");const r=({buttonText:e,buttonAriaLabel:t,generateDropdownOptions:i,description:a,headline:l,image:o,permission:r,analyticsId:d})=>{let u;return u=r?s.default.createElement("div",{className:"hero-zero-message__dropdown_wrapper"},s.default.createElement(n.default,{index:0,generateDropdownOptions:i,title:e,ariaLabel:t,analyticsId:`${d}.create`})):"",s.default.createElement("div",{className:"hero-zero-message"},s.default.createElement("div",{className:"hero-zero-message__image",dangerouslySetInnerHTML:{__html:o}}),s.default.createElement("h3",{className:"subheader hero-zero-message__headline"},l),s.default.createElement("p",{className:"hero-zero-message__description"},a),u)};r.propTypes={headline:l.default.string,image:l.default.string,description:l.default.string,permission:l.default.bool,buttonText:l.default.string.isRequired,buttonAriaLabel:l.default.string.isRequired,generateDropdownOptions:l.default.func.isRequired,...o.addAnalyticsProps},r.defaultProps={headline:"",image:"",description:"",permission:!1},t.default=r},"8rgp":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.omit=(e,...t)=>Object.keys(e).reduce((i,a)=>(-1===t.indexOf(a)&&(i[a]=e[a]),i),{}),t.values=e=>Object.keys(e).map(t=>e[t]),t.getDisplayName=e=>e.displayName||e.name||"Component",t.trimStringValues=e=>e?"string"==typeof e?e.trim():Object.keys(e).reduce((i,a)=>("string"==typeof e[a]?i[a]=e[a].trim():Array.isArray(e[a])||"object"==typeof e[a]?i[a]=t.trimStringValues(e[a]):i[a]=e[a],i),Array.isArray(e)?[]:{}):e},"95+z":function(e,t){e.exports='<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 200 200"><defs><style>.cls-1{fill:none;}.cls-2{fill:#fcb92a;}.cls-3{fill:#fff170;}.cls-4{fill:#c08f2d;}.cls-5{fill:#7f5d25;}.cls-6{clip-path:url(#clip-path);}.cls-7{fill:#8e6f51;}.cls-8{fill:#d7a57d;}.cls-9{fill:#80614c;}.cls-10{fill:#d8b655;}.cls-11{fill:#806a34;}.cls-12{clip-path:url(#clip-path-6);}.cls-13{fill:#ffddac;}.cls-14{fill:#333;opacity:0.1;isolation:isolate;}.cls-15{clip-path:url(#clip-path-7);}.cls-16{fill:#81b166;}.cls-17{fill:#93ca74;}.cls-18{clip-path:url(#clip-path-11);}</style><clipPath id="clip-path"><circle class="cls-1" cx="99.8" cy="99.9" r="99.8"></circle></clipPath><clipPath id="clip-path-6"><circle class="cls-1" cx="100" cy="100" r="100"></circle></clipPath><clipPath id="clip-path-7"><path class="cls-1" d="M139.3,120s-0.8-1.2-7.3-1.2-8.7,1.2-8.7,1.2V98.2h16V120Z"></path></clipPath><clipPath id="clip-path-11"><path class="cls-1" d="M75.3,144.7s-4.6-.3-19.1-0.3-20.2.3-20.2,0.3V90.1H75.3v54.6Z"></path></clipPath></defs><title>Illustrations_ZeroState_Desert</title><circle class="cls-2" cx="99.8" cy="99.9" r="99.8"></circle><circle class="cls-3" cx="22.4" cy="83.9" r="7.2"></circle><circle class="cls-1" cx="99.8" cy="99.9" r="99.8"></circle><path class="cls-4" d="M94.2,123.5L6.5,127.8S45,104.2,48.9,98.2,94.2,123.5,94.2,123.5Z"></path><path class="cls-5" d="M50.2,97.5c4.1,2.3,25.9,28,25.9,28l18.1-2s-10.5-7.7-22.4-16.7S50.2,97.5,50.2,97.5Z"></path><path class="cls-4" d="M128.8,117H31.7s31.4-7.9,46.2-19.5c6.4-5,9.6-4.3,12.8-4C96.7,94.5,128.8,117,128.8,117Z"></path><path class="cls-5" d="M95.2,95.4s14.2,16.2,13.4,19.1-5.9,2.2-5.9,2.2h26.2c0.7-.2-17.1-12.3-23-15.9A56.85,56.85,0,0,0,95.2,95.4Z"></path><g class="cls-6"><path class="cls-7" d="M197.4,125.2a100.82,100.82,0,0,0,3.2-25.3V98.3c-1,.5-2,1-3,1.6-33.8,19.6-51.9,25.3-51.9,25.3h51.7Z"></path></g><g class="cls-6"><path class="cls-8" d="M222.5,125.2H125.3S172.5,99,177.2,98.3,222.5,125.2,222.5,125.2Z"></path></g><g class="cls-6"><path class="cls-9" d="M178.3,98.3c11.2,9.2,19,26.8,19,26.8h25.2l-23.2-16a109.05,109.05,0,0,0-13.4-7.7A80.16,80.16,0,0,0,178.3,98.3Z"></path></g><g class="cls-6"><path class="cls-10" d="M201.4,129.6H104.2s40.3-24.4,51.9-25.3C165.2,103.6,201.4,129.6,201.4,129.6Z"></path></g><g class="cls-6"><path class="cls-11" d="M157.3,104.3c1.8,1.7,7.8,6.9,11.7,12.3a59.87,59.87,0,0,1,7,12.7l29.2,1s-14.4-8.3-24.3-15.4a73.3,73.3,0,0,0-17.8-9.1A40.72,40.72,0,0,0,157.3,104.3Z"></path></g><g class="cls-12"><path class="cls-13" d="M196.3,126.9c-35.2-9-72.7-13-96.3-13-26.7,0-64.5,3.3-96.4,13A100,100,0,0,0,196.3,126.9Z"></path></g><path class="cls-13" d="M136.3,123.5h-9.9v-4.2a40.17,40.17,0,0,0,9.8,0v4.2h0.1Z"></path><path class="cls-14" d="M192.7,136.5l-59.2-17.7h-1.1l-2.4.1,60,24C190.9,140.8,191.8,138.7,192.7,136.5Z"></path><g class="cls-15"><path class="cls-16" d="M132,120.6h0a1.54,1.54,0,0,1-1.5-1.5V102.4a1.54,1.54,0,0,1,1.5-1.5h0a1.54,1.54,0,0,1,1.5,1.5v16.7A1.54,1.54,0,0,1,132,120.6Z"></path></g><g class="cls-15"><path class="cls-17" d="M131.4,120.6h0a1.54,1.54,0,0,1-1.5-1.5V102.4a1.54,1.54,0,0,1,1.5-1.5h0a1.54,1.54,0,0,1,1.5,1.5v16.7A1.54,1.54,0,0,1,131.4,120.6Z"></path></g><g class="cls-15"><path class="cls-17" d="M131.3,113.6q-6.6,0-6.6-5.1a0.8,0.8,0,1,1,1.6,0c0,1.7.6,3.5,5,3.5A0.8,0.8,0,1,1,131.3,113.6Z"></path></g><g class="cls-15"><path class="cls-17" d="M132.9,109.3a0.8,0.8,0,0,1,0-1.6c1.6,0,2.5-.7,2.5-2a0.8,0.8,0,0,1,1.6,0C136.9,107.9,135.4,109.3,132.9,109.3Z"></path></g><path class="cls-14" d="M146.1,188.4L60,143l-8.6,1.4,80.1,50.2A104.89,104.89,0,0,0,146.1,188.4Z"></path><g class="cls-18"><path class="cls-16" d="M58.8,118a2.4,2.4,0,0,1,0-4.8c5.6,0,6-2,6-4.8a2.4,2.4,0,0,1,4.8,0C69.6,114.7,66,118,58.8,118Z"></path></g><g class="cls-18"><path class="cls-17" d="M52.8,128c-11.6,0-14-4.4-14-11.1a2.4,2.4,0,0,1,4.8,0c0,4.1.4,6.3,9.2,6.3A2.4,2.4,0,1,1,52.8,128Z"></path></g><g class="cls-18"><path class="cls-16" d="M56.4,145.8h0a4.23,4.23,0,0,1-4.2-4.2V94.3a4.23,4.23,0,0,1,4.2-4.2h0a4.23,4.23,0,0,1,4.2,4.2v47.2A4.25,4.25,0,0,1,56.4,145.8Z"></path></g><g class="cls-18"><path class="cls-17" d="M54.6,145.8h0a4.23,4.23,0,0,1-4.2-4.2V94.3a4.23,4.23,0,0,1,4.2-4.2h0a4.23,4.23,0,0,1,4.2,4.2v47.2A4.25,4.25,0,0,1,54.6,145.8Z"></path></g></svg>'},"9wzl":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("ERkP")),l=a.__importDefault(i("aWzz")),n=i("8unJ"),o=i("uDfI"),r=i("7ONb"),d=a.__importDefault(i("dw5F")),u=a.__importDefault(i("bA9G")),c=a.__importDefault(i("uxYL")),p=a.__importDefault(i("Et+e")),f=a.__importDefault(i("bLwh")),m=a.__importDefault(i("6wo1")),h=i("2lnG"),g=i("FzJq"),_=a.__importDefault(i("GRnb"));t.default=e=>{class t extends s.default.Component{constructor(e){super(e),this.getResourceValidity=()=>this.props.type===d.default.LINKS,this.sanitizeSequenceNumber=e=>{let t=Number(e);const i=this.props.moduleList.modules.length>0?this.props.moduleList.modules.map(e=>Number(e.sequence)).reduce((e,t)=>Math.max(e,t)):0;return t=(t=(t=Number.isNaN(t)?0:t)<0?0:t)>i?i+1:t},this.saveModule=e=>{this.props.dispatchStartModuleXhr();const t=r.omit(e,"id","resources","institutionRoleIds"),i=e.resources.map(e=>r.omit(e,"id","moduleId")),a=e.institutionRoleIds;return this.props.dispatchAddModule(t,i,a)},this.createdSessionModule=!1,this.timeout=null,this.props.shouldCreateSession&&this.createSessionModule()}componentDidUpdate(e){!e.session.module&&this.props.shouldCreateSession&&this.createSessionModule()}componentWillUnmount(){this.timeout&&clearTimeout(this.timeout)}getTranslations(){const e=this.props.localize.translate;return{moduleName:e("ip.defaultData.moduleName"),imageResourceTitle:e("ip.defaultData.imageResourceTitle"),imageResourceDescription:e("ip.defaultData.imageResourceDescription"),defaultLinkTitle:e("ip.defaultData.linkName")}}translationsReady(){return this.getTranslations().moduleName}createSessionModule(){if(this.createdSessionModule)return;if(this.props.session.module||this.props.page.loading||this.props.moduleList.loading)return;if(!this.translationsReady())return void(this.timeout=setTimeout(()=>this.createSessionModule(),100));this.timeout=null;const e=this.getTranslations(),{module:t,resources:i}=g.createDefaultPostDataWithTempIds(this.props.type,e);t.resources=i,t.customPageId=this.props.page.id,t.sequence=this.sanitizeSequenceNumber(this.props.sequence),this.createdSessionModule=!0,this.props.dispatchSetSessionModule(t)}render(){const t=this.props.session.module;return t?s.default.createElement(e,Object.assign({module:t,role:this.props.role,saveModule:this.saveModule,startDirty:!0,resourceStartValid:this.getResourceValidity()},r.omit(this.props,"type","sequence","shouldCreateSession","page","localize","dispatchStartModuleXhr","dispatchSetSessionModule","dispatchAddModule","moduleList"))):s.default.createElement(_.default,null)}}const i=r.values(d.default);t.propTypes={type:l.default.oneOf(i).isRequired,sequence:l.default.string.isRequired,session:m.default.isRequired,shouldCreateSession:l.default.bool,localize:u.default.isRequired,page:p.default.isRequired,dispatchStartModuleXhr:l.default.func.isRequired,dispatchSetSessionModule:l.default.func.isRequired,dispatchAddModule:l.default.func.isRequired,moduleList:c.default.isRequired,role:f.default.isRequired},t.defaultProps={shouldCreateSession:!1},t.displayName=`SessionModule(${r.getDisplayName(e)})`;return o.connect(e=>({session:e.session,page:e.page,moduleList:e.module,role:e.role}),e=>({dispatch:e,dispatchStartModuleXhr:()=>e(h.startModuleXhr()),dispatchSetSessionModule:t=>e(h.setSessionModule(t)),dispatchAddModule:(t,i,a)=>e(h.addModule(t,i,a))}))(n.localizedComponentWrapper(t))}},ATuK:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TEXT_LIMIT=140;const a=e=>({isValid:!1,errorMessage:e});t.validateIsEmpty=(e,t="")=>{return e.trim()?{isValid:!0,errorMessage:""}:a(t)},t.validateTooLong=(e,i="")=>{return e.trim().length>t.TEXT_LIMIT?a(i):{isValid:!0,errorMessage:""}},t.validateAll=(e,i="",a="")=>{const s=t.validateIsEmpty(e,i);return s.isValid?t.validateTooLong(e,a):s}},AisW:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("ERkP")),l=a.__importDefault(i("aWzz")),n=i("MC1S"),o=i("myse"),r=i("f16b"),d=i("0x+l");i("fDgs");const u=a.__importDefault(i("4sPl"));class c extends s.default.Component{constructor(e){super(e),this.onFinishEdit=e=>{if(this.stopBlur)return void(this.stopBlur=!1);const t=this.props.onValidateInput(this.state.curContent);Promise.resolve(this.props.onValueChange(this.props.id,this.state.curContent,this.props.attr)).catch(()=>{this.setState({curContent:this.props.content})}),t.isValid&&this.setState(e=>({isEditing:!1,lastContent:e.curContent}),()=>{this.props.onInputEdit(this.state.isEditing),e&&this.parentDiv.focus()})},this.onCancelEdit=()=>{this.setState(e=>({isEditing:!1,curContent:e.lastContent}),()=>{this.props.onInputEdit(this.state.isEditing),this.parentDiv.focus()})},this.onEnterEdit=()=>{this.setState({isEditing:!0},()=>{this.textInput.focus(),this.props.onInputEdit(this.state.isEditing)})},this.onPressKey=e=>{e.keyCode===u.default.ENTER&&this.onFinishEdit(!0),e.keyCode===u.default.ESC&&this.onCancelEdit()},this.onChangeInput=e=>{this.setState({curContent:e})},this.onInputBlur=()=>{this.onFinishEdit(!1)},this.getClasses=e=>{let t="";return this.props.isHeader&&(t=` inline-edit-container--header${e}`),`inline-edit-container${e}${t}`},this.getErrorMessage=e=>{const t=this.props.onValidateInput(e);return t.isValid||t.errorMessage?Promise.resolve(t.errorMessage):new Promise(t=>{setTimeout(()=>this.getErrorMessage(e).then(e=>t(e)),0)})},this.stopBlur=!1;const{content:t,onValidateInput:i}=e;this.state={isEditing:!i(t).isValid,curContent:t,lastContent:t}}UNSAFE_componentWillReceiveProps(e){e.content!==this.state.curContent&&this.onChangeInput(e.content)}render(){const{analyticsEventAugmentor:e,analyticsId:t}=this.props,i=`${this.props.buttonTitle}`,a=`${this.props.id}-${this.props.attr}`,l=`${t}.edit.inline.input`,r=`${t}.edit.inline.button`;return this.state.isEditing?s.default.createElement("div",{className:this.getClasses("")},s.default.createElement(n.TextField,{className:"inline-edit-text-field",ref:e=>{this.textInput=e},onBlur:this.onInputBlur,onKeyDown:this.onPressKey,onChanged:this.onChangeInput,value:this.state.curContent,placeholder:this.props.placeholder,onGetErrorMessage:this.getErrorMessage,deferredValidationTime:0,ariaLabel:i})):s.default.createElement("div",{className:this.getClasses(""),tabIndex:-1,ref:e=>{this.parentDiv=e}},s.default.createElement("span",{id:a,className:this.getClasses("__link"),onClick:e(o.AnalyticsEventTypes.CLICK_EVENT,this.onEnterEdit,l),"data-analytics-id":l,role:"presentation"},this.state.curContent?s.default.createElement("span",{className:this.getClasses("__text")},this.state.curContent):s.default.createElement("span",{className:this.getClasses("__text-placeholder")},this.props.placeholder),s.default.createElement("button",{"aria-label":i,className:this.getClasses("__edit-button"),onClick:e(o.AnalyticsEventTypes.CLICK_EVENT,()=>{this.onEnterEdit()},r),"data-analytics-id":r,tabIndex:0},s.default.createElement(d.Edit,{className:this.getClasses("__edit")}))))}}t.BaseInlineEdit=c,c.propTypes={id:l.default.string.isRequired,content:l.default.string.isRequired,attr:l.default.string,buttonTitle:l.default.string.isRequired,onValidateInput:l.default.func,onValueChange:l.default.func,onInputEdit:l.default.func,isHeader:l.default.bool,placeholder:l.default.string,...r.withAnalyticsProps},c.defaultProps={onValidateInput:()=>({isValid:!0,errorMessage:""}),onValueChange:()=>{},onInputEdit:()=>{},attr:null,isHeader:!1,placeholder:""};const p=o.withAnalytics(c);t.default=p},Bk9K:function(e,t,i){"use strict";i.r(t)},BnC3:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("aWzz")),l=a.__importDefault(i("dw5F")),n=a.__importDefault(i("d1Rw")),o=i("7ONb").values(l.default);t.default=s.default.shape({available:s.default.bool.isRequired,customPageId:s.default.string,id:s.default.string.isRequired,sequence:s.default.number.isRequired,title:s.default.string.isRequired,type:s.default.oneOf(o).isRequired,resources:s.default.arrayOf(n.default),institutionRoleIds:s.default.arrayOf(s.default.string)})},Bxgz:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("hiIv"));t.default=a.default},C18T:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K");i("HopG");const s=i("hTyS"),l=i("SLwq"),n=a.__importDefault(i("e0LE"));t.getModuleResources=e=>{const t=`${s.baseRoute}/module/${e.id}/resources`;return l.fetchReturnBody(t)},t.getModule=e=>{const t=`${s.baseRoute}/module/${e}`;return l.fetchReturnBody(t)},t.getModuleVisibility=e=>{const t=`${s.baseRoute}/module/${e}/is-visible`,i=n.default.V2;return l.fetchReturnBody(t,null,!1,i)},t.getModules=e=>{let t=`${s.baseRoute}/custom-page/${e}/modules`;const i=n.default.V2;return e||(t=`${s.baseRoute}/module`),l.fetchReturnBody(t,null,!1,i)},t.callCreateModuleAPI=(e,t,i)=>{const a={...l.getFetchOptions(l.POST,n.default.V3),body:JSON.stringify({module:e,resources:t,institutionRoleIds:i})},o=`${s.baseRoute}/module`;return l.fetchReturnBody(o,a)},t.callUpdateModuleAPI=(e,t)=>{const i={...l.getFetchOptions(l.PATCH,n.default.V2),body:JSON.stringify({module:e})},a=`${s.baseRoute}/module/${t}`;return l.fetchReturnBody(a,i)},t.deleteModule=e=>{const t=`${s.baseRoute}/module/${e}?force=true`;return l.fetchReturnBody(t,l.getFetchOptions(l.DELETE))},t.addResource=e=>{const t={...l.getFetchOptions(l.POST),body:JSON.stringify(e)},i=`${s.baseRoute}/module-resource`;return l.fetchReturnBody(i,t)},t.updateResource=e=>{const t={...l.getFetchOptions(l.PATCH),body:JSON.stringify(e)},i=`${s.baseRoute}/module-resource/${e.id}`;return l.fetchReturnBody(i,t)},t.deleteResource=e=>{const t=`${s.baseRoute}/module-resource/${e}`;return l.fetchReturnBody(t,l.getFetchOptions(l.DELETE))},t.getXSRFToken=()=>{const e=`${s.baseUltraRoute}/utilities/xsrfToken`;return fetch(e,l.getFetchOptions(l.GET)).then(e=>e.json())}},C1TO:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("ERkP")),l=a.__importDefault(i("aWzz")),n=i("8unJ"),o=i("f16b");i("N4x8");const r=i("2lnG"),d=i("FzJq"),u=a.__importDefault(i("fY1r")),c=i("YxpF"),p=a.__importDefault(i("Wl1g")),f=i("xK1l"),m=a.__importDefault(i("bA9G")),h=a.__importDefault(i("BnC3")),g=a.__importDefault(i("6wo1")),_=a.__importDefault(i("rB6G")),E=a.__importDefault(i("D3Id")),y=i("iOHJ"),b=i("7ONb");class I extends s.default.Component{constructor(e){super(e),this.onReorderLinks=(e,t)=>{const i=this.props.module.resources.filter(e=>!this.isLinkResource(e)),a=this.props.module.resources.filter(t=>this.isLinkResource(t)&&!e.includes(t)),s=[...a[0]&&a[0].details.imageHref?[...a,...e]:[...e,...a],...i];this.props.setUnsavedResources(s,this.validateResources(s),()=>{document.getElementById(`dnd-${t.id}`).focus()})},this.onUpdateResource=(e,t,i)=>{const a=this.props.module.resources.findIndex(t=>t.id===e);if(-1!==a&&t!==this.props.module.resources[a].details[i]){const s=this.props.module.resources.map((e,s)=>s===a?{...e,details:{...e.details,[i]:t}}:e);this.props.setUnsavedResources(s,this.validateResources(s),()=>{const t=document.getElementById(`${e}-${i}`);t&&t.focus()})}},this.onDelete=(e,t)=>{e.preventDefault();const i=this.props.module.resources,a=i.findIndex(e=>e.id===t),s=[...i.slice(0,a),...i.slice(a+1)];this.props.setUnsavedResources(s,this.validateResources(s),()=>{this.jumpToFocus(a-1)})},this.onInsertLink=(e,t)=>{e.preventDefault();const i=this.props.module.resources,a=d.defaultLinkResourceData(this.translations.defaultLinkTitle,this.props.module.id),s=i.filter(this.isLinkResource),l=this.props.module.resources.filter(e=>!this.isLinkResource(e)),n=this.props.module.resources.filter(e=>this.isLinkResource(e)&&e.details.imageHref).length,o=n>t?n:t,r=[...s.slice(0,o),a,...s.slice(o),...l];this.props.setUnsavedResources(r,this.validateResources(r),()=>{this.jumpIntoFocusNewLink(o)})},this.onImageOrientationToggleClick=e=>{const t=b.getImageOrientation(this.props.module);if(e!==t){const i={...this.props.module.details,imageOrientation:e},a=this.saveOrRestoreImageHrefs(t,e);this.props.onUpdateDetails(i,b.isValidImageOrientation(i.imageOrientation)),this.props.setUnsavedResources(a,this.validateResources(a))}},this.onDeleteEditLinkImage=(e,t)=>{this.setState(()=>({resourceId:t,isShowPopup:!0}))},this.onOpenEditLinkImage=(e,t)=>{this.props.dispatch(r.setSessionImage(t)),this.props.onOpenEditImagePanel(t)},this.onPopupCancel=()=>{this.setState(()=>({resourceId:null,isShowPopup:!1}))},this.onPopupOk=()=>{const e=this.props.module.resources.map(e=>e.id===this.state.resourceId?{...e,details:{...e.details,imageHref:"",imageId:""}}:e);this.props.setUnsavedResources(e,this.validateResources(e)),this.setState({resourceId:null,isShowPopup:!1}),this.props.dispatch(r.setSessionImage(null))},this.saveOrRestoreImageHrefs=(e,t)=>{this.props.dispatch(r.setSessionImage(null));const i=[],a=t===E.default.NONE,s=e===E.default.NONE;for(let e=0;e<this.props.module.resources.length;e++){let t=this.props.module.resources[e];this.isLinkResource(t)&&(a&&t.details.imageHref?(this.resourceImages[t.id]={imageHref:t.details.imageHref,imageId:t.details.imageId},t={...t,details:{...t.details,imageHref:"",imageId:""}}):s&&(t={...t,details:{...t.details,imageHref:this.resourceImages[t.id]?this.resourceImages[t.id].imageHref:"",imageId:this.resourceImages[t.id]?this.resourceImages[t.id].imageId:""}},delete this.resourceImages[t.id]),i.push(t))}return i},this.isImageResource=e=>e.type===_.default.IMAGE,this.isLinkResource=e=>e.type===_.default.LINK,this.hasValidTitleAndHref=e=>this.props.onValidateInput(e.details.title).isValid&&b.validateIsEmpty(e.details.href).isValid,this.jumpToFocus=e=>{let t=e;-1===t&&(t=0);const i=document.querySelectorAll("#modules-section .module-table__row-container .module-table__row")[t];i&&i.focus()},this.jumpIntoFocusNewLink=e=>{let t=e;-1===t&&(t=0);const i=document.querySelectorAll("#modules-section .module-table__row-container .module-table__row")[t];if(i){const e=i.querySelector(".inline-edit-container__link");e&&e.click()}},this.validateResources=e=>e.length&&e.filter(this.isLinkResource).every(e=>this.hasValidTitleAndHref(e)),this.translations={},this.state={resourceId:null,isShowPopup:!1},this.resourceImages={}}UNSAFE_componentWillReceiveProps(e){let t=!1,i=e.module.resources;const a=[];if(!b.getImageOrientation(e.module)){const t={...e.module.details,imageOrientation:E.default.LEFT};e.onUpdateDetails(t,b.isValidImageOrientation(t.imageOrientation))}const s=e.session.image;if(s){const e=s.details?s.details.imageHref:null;i=i.map(i=>i.id===s.id&&e!==i.details.imageHref?(t=!0,s):i)}const l=[],n=[],o=[];let r=-1,d=!1;for(let e=0;e<i.length;e++){const t=i[e];this.isLinkResource(t)?t.details.imageHref?(d=r>=0&&e>r,n.push(t)):(r<0&&(r=e),o.push(t)):l.push(t)}if(d&&(i=[...n,...o,...l],t=!0),i.some(e=>this.isImageResource(e))&&(i=i.filter(e=>!this.isImageResource(e)),t=!0),t){const t=[...i,...a];e.setUnsavedResources(t,this.validateResources(t))}}render(){const e=this.props.localize.translate,{analyticsId:t}=this.props;this.translations.createLinkBtn=e("ip.editModule.createLinkBtn"),this.translations.validateModuleName=e("ip.editModule.validateModuleName"),this.translations.validateTooLongMessage=e("ip.editModule.validateTooLongMessage"),this.translations.splitSectionText=e("ip.editModule.splitSectionText"),this.translations.incompleteLink=e("ip.editModule.incompleteLink"),this.translations.incompleteContent=e("ip.editModule.incompleteContent"),this.translations.defaultLinkTitle=e("ip.defaultData.linkName");const i=b.determineImageOrientation(this.props.module),a=i!==E.default.NONE,l=[],n=[];for(let e=0;e<this.props.module.resources.length;e++){const t=this.props.module.resources[e];this.isLinkResource(t)&&(t.details.imageHref&&a?l.push(t):n.push(t))}const o=l.length>=y.MAX_IMAGE_LINKS,r=s.default.createElement("div",null,0===l.length&&0===n.length&&s.default.createElement(c.InsertButton,{onClick:e=>{this.onInsertLink(e,0)},buttonTitle:this.translations.createLinkBtn,analyticsId:`${t}`}),l.length>0&&s.default.createElement(p.default,{items:l,hasMaxImages:o,isImageColVisible:a,onReorderItem:this.onReorderLinks,scrollContainerId:"edit-module-section",translations:this.translations,onUpdateResource:this.onUpdateResource,onValidateInput:this.props.onValidateInput,onDelete:this.onDelete,onInsertLink:this.onInsertLink,maxLinksViewable:y.MAX_LINKS_PER_COLUMN*(i===E.default.NONE?y.NUM_LINK_COLUMNS_WITHOUT_IMAGE:y.NUM_LINK_COLUMNS_WITH_IMAGE),onDeleteEditLinkImage:this.onDeleteEditLinkImage,onOpenEditLinkImage:this.onOpenEditLinkImage,analyticsId:`${t}.editSection`}),n.length>0&&s.default.createElement(p.default,{items:n,itemOffset:l.length,hasMaxImages:o,isImageColVisible:a,onReorderItem:this.onReorderLinks,scrollContainerId:"edit-module-section",translations:this.translations,onUpdateResource:this.onUpdateResource,onValidateInput:this.props.onValidateInput,onDelete:this.onDelete,onInsertLink:this.onInsertLink,maxLinksViewable:y.MAX_LINKS_PER_COLUMN*(i===E.default.NONE?y.NUM_LINK_COLUMNS_WITHOUT_IMAGE:y.NUM_LINK_COLUMNS_WITH_IMAGE),onDeleteEditLinkImage:this.onDeleteEditLinkImage,onOpenEditLinkImage:this.onOpenEditLinkImage,analyticsId:`${t}.editSection`}));return s.default.createElement("div",{className:"edit-image-links-module"},this.state.isShowPopup?s.default.createElement(f.ConfirmationPopup,{title:e("ip.editPage.confirmDeleteTitle"),id:"inline-link-image-delete-confirmation",content:e("ip.editPage.confirmRemoveImageContentWarning"),onOk:this.onPopupOk,onOkText:e("ip.editPage.confirmDeleteBtn"),onCancel:this.onPopupCancel,onCancelText:e("ip.editPage.cancelDeleteBtn"),analyticsId:`${t}.confirmation.popup`}):"",s.default.createElement("div",null,s.default.createElement("h4",{className:"subheader edit-image-links-module__section-heading"},e("ip.editModule.moduleLayout")),s.default.createElement(u.default,{onChanged:this.onImageOrientationToggleClick,selectedId:i,analyticsId:`${t}.imageOrientation.toggle`})),s.default.createElement("h4",{className:"subheader edit-image-links-module__section-heading"},e("ip.editModule.moduleContent")),s.default.createElement("div",{className:"module-table"},s.default.createElement("div",{className:"module-table__head module-content__head"},s.default.createElement("div",{className:"module-table__heading-row"},a&&s.default.createElement("div",{className:"module-table__heading module-content__link-image-column"},e("ip.editModule.contentLinkImage")),s.default.createElement("div",{className:"module-table__heading module-content__name-column"},e("ip.editModule.contentLinkName")),s.default.createElement("div",{className:"module-table__heading module-content__url-column"},e("ip.editModule.contentURL")),s.default.createElement("div",{className:"module-table__row-actions"}))),r))}}I.propTypes={dispatch:l.default.func.isRequired,module:h.default.isRequired,session:g.default.isRequired,setUnsavedResources:l.default.func.isRequired,onOpenEditImagePanel:l.default.func.isRequired,onUpdateDetails:l.default.func.isRequired,onValidateInput:l.default.func.isRequired,localize:m.default.isRequired,...o.addAnalyticsProps},t.default=n.localizedComponentWrapper(I)},CUQY:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("v8Bx"));t.default=a.default},D3Id:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={LEFT:"LEFT",RIGHT:"RIGHT",NONE:"NONE"}},DqOQ:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=i("FzJq"),l=i("wg1p"),n=a.__importDefault(i("e0LE")),o=a.__importDefault(i("vlH4")),r=i("q6cp");t.START_PAGE_XHR="page.start.xhr",t.PAGE_RECEIVED="page.received",t.FETCH_PAGE="page.fetch",t.PAGE_UPDATE="page.update",t.PAGE_DELETE="page.delete",t.FETCH_PREFERENCE="page.fetch.preference",t.REORDER_MODULES="page.reorder.modules",t.fetchPage=()=>({type:t.FETCH_PAGE,payload:s.getPages()}),t.startPageXhr=()=>({type:t.START_PAGE_XHR}),t.pageReceived=e=>({type:t.PAGE_RECEIVED,page:e,receivedAt:Date.now()}),t.updatePage=e=>i=>s.updatePages(e).then(a=>i(l.Action(l.ok(t.PAGE_UPDATE),{data:a,page:e.page}))).catch(a=>(i(l.Action(l.fail(t.PAGE_UPDATE),{err:a,page:e.page})),Promise.reject(o.default.UPDATE_PAGES))),t.fetchPreferenceAndRoles=()=>e=>s.canEditFetch(n.default.V2).then(i=>{i.canEdit&&(e(r.startRoleXhr()),e(r.fetchRoles())),e(l.Action(l.ok(t.FETCH_PREFERENCE),{data:i}))}).catch(i=>e(l.Action(l.fail(t.FETCH_PREFERENCE),{err:i}))),t.reorderModules=(e,i)=>a=>s.reorderModulesPost(e,i).then(e=>a(l.Action(l.ok(t.REORDER_MODULES),{data:e,reorderedModules:i}))).catch(e=>a(l.Action(l.fail(t.REORDER_MODULES),{err:e}))),t.ensurePage=(e,i,a)=>n=>s.ensurePageVariant("IP",e,i,a).then(e=>n(l.Action(l.ok(t.PAGE_UPDATE),{data:e}))).catch(e=>n(l.Action(l.fail(t.PAGE_UPDATE),{err:e}))),t.deletePage=e=>i=>s.deletePageVariant(e).then(e=>i(l.Action(l.ok(t.PAGE_DELETE),{data:e}))).catch(e=>i(l.Action(l.fail(t.PAGE_DELETE),{err:e})))},Ebvs:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("C1TO"));t.default=a.default},"Et+e":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("aWzz"));t.default=a.default.shape({available:a.default.bool,bannerId:a.default.string,createdt:a.default.string,createid:a.default.string,editIp:a.default.bool,id:a.default.string,loading:a.default.bool,logoId:a.default.string,message:a.default.string,modifydt:a.default.string,modifyid:a.default.string,org:a.default.string,title:a.default.string,type:a.default.string})},Ewol:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("ERkP")),l=a.__importDefault(i("aWzz")),n=i("8unJ"),o=i("MC1S"),r=i("AuQm"),d=i("f16b");i("Vsq4");const u=a.__importDefault(i("D3Id")),c=a.__importDefault(i("bA9G")),p=i("7ONb");class f extends s.default.Component{constructor(e){super(e),this.state={}}render(){const{onChanged:e,selectedId:t,localize:i,analyticsId:a}=this.props,l=i.translate;return s.default.createElement("div",{className:"image-orientation image-orientation-toggle"},s.default.createElement(o.SquareToggle,{type:o.SquareToggleType.fillContainer,onChanged:e,selectedId:t,radioGroup:"image-orientations",analyticsId:`${a}.squareToggleGroup`,options:[{altText:l("ip.editModule.imageOrientationOptionTitle.left"),id:u.default.LEFT,icon:s.default.createElement(r.HelpfulLinksLayoutLeft,{className:"image-orientation image-orientation-option"})},{altText:l("ip.editModule.imageOrientationOptionTitle.right"),id:u.default.RIGHT,icon:s.default.createElement(r.HelpfulLinksLayoutRight,{className:"image-orientation image-orientation-option"})},{altText:l("ip.editModule.imageOrientationOptionTitle.none"),id:u.default.NONE,icon:s.default.createElement(r.HelpfulLinksLayoutText,{className:"image-orientation image-orientation-option"})}]}))}}f.propTypes={onChanged:l.default.func.isRequired,selectedId:l.default.oneOf(p.values(u.default)).isRequired,localize:c.default.isRequired,...d.addAnalyticsProps},t.default=n.localizedComponentWrapper(f)},FUVp:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("ERkP")),l=a.__importDefault(i("aWzz")),n=i("8unJ"),o=i("kBJj"),r=i("0x+l");i("0wpS");const d=i("xK1l"),u=a.__importDefault(i("7fW2")),c=a.__importDefault(i("aqxk")),p=a.__importDefault(i("6fMO")),f=i("7ONb"),m=a.__importDefault(i("bA9G")),h=a.__importDefault(i("BnC3")),g=a.__importDefault(i("bLwh")),_=a.__importDefault(i("6wo1")),E=a.__importDefault(i("8FZW")),y=a.__importDefault(i("iD9B")),b=a.__importDefault(i("PfBW")),I=i("2lnG");class D extends s.default.Component{constructor(e){super(e),this.onUpdateDetails=(e,t)=>{if(e){const i={...this.state.module,details:e};this.setState(()=>({module:i,isModuleDirty:!0,isModuleValid:t}))}},this.onUpdateInstitutionRoleIds=e=>{this.setState(t=>({module:{...t.module,institutionRoleIds:e},areRolesDirty:!0}))},this.onUpdateTitle=(e,t)=>{if(t!==this.state.module.title){const e={...this.state.module,title:t},i=f.validateAll(t).isValid;this.setState(()=>({module:e,isModuleDirty:!0,isModuleValid:i}))}},this.onSave=()=>{const e=f.trimStringValues(this.state.module);this.props.saveModule(e,this.state.isModuleDirty,this.state.areResourcesDirty,this.state.areRolesDirty).then(()=>{this.props.onClose()})},this.onCancel=()=>{this.state.isModuleDirty||this.state.areResourcesDirty||this.state.areRolesDirty?this.setState(()=>({popupProps:{title:this.translations.closeTitle,id:"edit-module-cancel-confirmation",content:this.translations.closeContent,onOk:this.onPopupOk,onCancel:this.onPopupCancel,onOkText:this.translations.closeBtn,onCancelText:this.translations.cancelBtnText}})):this.props.onClose()},this.onPopupOk=()=>{this.setState(()=>({popupProps:null})),this.props.onClose()},this.onPopupCancel=()=>{this.setState(()=>({popupProps:null}))},this.setUnsavedResources=(e,t,i=(()=>{}),a=!0)=>{this.setState(i=>({module:{...i.module,resources:e},areResourcesDirty:a,areResourcesValid:t}),i)},this.filterValidRolesOnModule=e=>e&&e.institutionRoleIds?{...e,institutionRoleIds:f.filterValidRoles(e.institutionRoleIds,this.props.role.roles).map(e=>e.key)}:e,this.overrideFocusAndOpenEditImagePanel=e=>{let t=null;e&&(t=e.id,e.details.imageHref?this.props.setFocusOverride(`#dnd-${e.id}.module-table__row-container .edit-image-button .add-button`,".institution-page-container"):this.props.setFocusOverride(`#dnd-${e.id}.module-table__row-container .edit-image-button .image-thumbnail-edit`,".institution-page-container")),this.props.onOpenEditImagePanel(t)},this.generateAudienceLabel=()=>{const e=this.props.localize.translate("ip.editModule.rolesSelector.allUsers"),t=this.props.localize.translate("ip.editModule.rolesSelector.multipleRoles"),i=this.props.localize.translate("ip.editModule.rolesSelector.unknownRole");return s.default.createElement("span",{className:"audience-container"},this.state.hasInvalidRoles&&s.default.createElement(r.Attention,{className:"attention-icon"}),f.generateAudienceLabel(this.state.module.institutionRoleIds,this.props.role.roles,e,t,i))},this.clearSessionImage=()=>this.props.dispatch(I.setSessionImage(void 0)),this.validateModuleHeaderInput=e=>f.validateAll(e,this.translations.validateModuleName,this.translations.validateTooLongMessage),this.handleModuleHeaderEdit=e=>this.setState(()=>({isHeaderEditing:e})),this.emptyCallback=()=>{};const{module:t}=e,i=!(!t||!t.institutionRoleIds||this.props.role.loading)&&!f.areRolesValid(t.institutionRoleIds,this.props.role.roles||[]);this.state={module:i?this.filterValidRolesOnModule(t):t,isModuleDirty:e.startDirty,areResourcesDirty:e.startDirty,areRolesDirty:e.startDirty||i,isModuleValid:!0,areResourcesValid:e.resourceStartValid,popupProps:null,isHeaderEditing:!1,hasInvalidRoles:i},this.translations={}}UNSAFE_componentWillReceiveProps(e){if(!n.shallowEqual(e.module,this.props.module)||e.role.loading!==this.props.role.loading){const t=e.module&&e.module.institutionRoleIds&&!e.role.loading&&!f.areRolesValid(e.module.institutionRoleIds,e.role.roles||[]);this.setState(()=>({module:t?this.filterValidRolesOnModule(e.module):e.module,hasInvalidRoles:t}))}}componentWillUnmount(){this.props.dispatch(I.clearSessionData())}render(){const e=this.state.isModuleDirty||this.state.areResourcesDirty||this.state.areRolesDirty,t=!this.state.isModuleValid||!this.state.areResourcesValid,i=!e||t,a="institutionPage.editModule",l=this.props.localize.translate;return this.translations.closeTitle=l("ip.editModule.closeTitle"),this.translations.closeContent=l("ip.editModule.closeContent"),this.translations.closeBtn=l("ip.editModule.closeBtn"),this.translations.cancelBtnText=l("ip.editModule.cancelBtnText"),this.translations.validateModuleName=l("ip.editModule.validateModuleName"),this.translations.validateTooLongMessage=l("ip.editModule.validateTooLongMessage"),this.translations.incompleteBtn=l("ip.editModule.incompleteBtn"),s.default.createElement("div",null,s.default.createElement("div",{className:"edit-module-page flex-page-container"},s.default.createElement("div",{id:"edit-module-section",className:"flex-page-content has-footer"},this.state.popupProps?s.default.createElement(d.ConfirmationPopup,Object.assign({},this.state.popupProps,{analyticsId:`${a}.confirmation.popup`})):"",s.default.createElement("div",{className:`page-header ${this.state.isHeaderEditing?"-is-editing":""}`},s.default.createElement("span",{className:"page-header__super-title"},l("ip.editModule.pageHeader")),s.default.createElement(c.default,{id:this.state.module.id,content:this.state.module.title,attr:"title",buttonTitle:l("ip.editModule.editModuleName"),onValueChange:this.onUpdateTitle,onValidateInput:this.validateModuleHeaderInput,onInputEdit:this.handleModuleHeaderEdit,isHeader:!0,analyticsId:`${a}.title`})),s.default.createElement(u.default,{className:"module-roles-panel",headerLeft:s.default.createElement("span",null,l("ip.editModule.rolesSelector.label")),headerRight:this.generateAudienceLabel(),startExpanded:this.props.expandRoles||this.state.hasInvalidRoles,analyticsId:`${a}.moduleRolesPanel`},s.default.createElement("div",{className:"module-roles-panel__content"},s.default.createElement("h2",{className:"subheader"},l("ip.editModule.rolesSelector.instructionsHeader")),l("ip.editModule.rolesSelector.instructionsDetails"),this.state.hasInvalidRoles&&s.default.createElement("div",{className:"module-roles-panel__unknown-role-error"},l("ip.moduleList.unknownRoleErrorMessage")),s.default.createElement(b.default,{institutionRoleIds:this.state.module?this.state.module.institutionRoleIds:[],role:this.props.role,expandRoles:this.props.expandRoles||this.state.hasInvalidRoles,onUpdateInstitutionRoleIds:this.onUpdateInstitutionRoleIds,analyticsId:`${a}.moduleRolesPicker`}))),s.default.createElement("div",{className:"module-preview-component"},s.default.createElement("div",{className:"module-preview-component__container"},s.default.createElement("h3",{className:"subheader module-preview-component__title"},l("ip.moduleList.previewText")),s.default.createElement("h3",{className:"preview__title"},this.state.module.title),s.default.createElement(y.default,{module:this.state.module,dispatch:this.emptyCallback,locale:this.props.currentLocale,openAll:this.emptyCallback,pluginsConfig:this.props.pluginsConfig,preview:!0,analyticsId:`${a}.previewModule`}))),s.default.createElement("div",{className:"module-editor-component"},s.default.createElement(E.default,{dispatch:this.props.dispatch,module:this.state.module,session:this.props.session,onOpenEditImagePanel:this.overrideFocusAndOpenEditImagePanel,setUnsavedResources:this.setUnsavedResources,localize:this.props.localize,onUpdateDetails:this.onUpdateDetails,onValidateInput:f.validateAll,pluginsConfig:this.props.pluginsConfig,analyticsId:`${a}.content`})))),s.default.createElement(p.default,{clickPrimary:this.onSave,textPrimary:l("ip.editModule.saveBtnText"),ariaPrimary:l("ip.editModule.saveChangesAria"),disabledPrimary:i,clickSecondary:this.onCancel,textSecondary:l("ip.editModule.cancelBtnText"),ariaSecondary:l("ip.editModule.cancelChangesAria"),analyticsId:`${a}.footer`}))}}D.propTypes={dispatch:l.default.func.isRequired,module:h.default,role:g.default.isRequired,localize:m.default.isRequired,currentLocale:l.default.string.isRequired,session:_.default.isRequired,onClose:l.default.func.isRequired,onOpenEditImagePanel:l.default.func.isRequired,setFocusOverride:l.default.func.isRequired,saveModule:l.default.func.isRequired,startDirty:l.default.bool,resourceStartValid:l.default.bool,pluginsConfig:o.optionalPluginConfigPropTypes.isRequired,expandRoles:l.default.bool},D.defaultProps={module:null,startDirty:!1,resourceStartValid:!0,expandRoles:!1},t.default=n.localizedComponentWrapper(D)},FzJq:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K");a.__exportStar(i("hTyS"),t),a.__exportStar(i("hb3l"),t),a.__exportStar(i("SLwq"),t),a.__exportStar(i("C18T"),t),a.__exportStar(i("TtT0"),t),a.__exportStar(i("4jkJ"),t)},GIAz:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SET_SESSION_IMAGE="session.set.image",t.SET_SESSION_MODULE="session.set.module",t.CLEAR_SESSION_DATA="session.clear.all",t.setSessionImage=e=>({type:t.SET_SESSION_IMAGE,resource:e}),t.setSessionModule=e=>({type:t.SET_SESSION_MODULE,module:e}),t.clearSessionData=()=>({type:t.CLEAR_SESSION_DATA})},GRnb:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("4PSn"));t.default=a.default},HlfI:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("ERkP")),l=a.__importDefault(i("aWzz")),n=i("Dz4E"),o=i("0x+l"),r=i("myse"),d=a.__importDefault(i("YF1/")),u=i("f16b");i("s/PA");class c extends s.default.Component{constructor(e){super(e),this.onMenuClose=()=>{this.setState(()=>({isOpen:!1}))},this.toggle=()=>{this.setState(e=>({isOpen:!e.isOpen}))},this.state={isOpen:!1},this.menuId=d.default()}render(){const{generateDropdownOptions:e,index:t,openedTitle:i,closedTitle:a,ariaLabel:l,analyticsId:d,analyticsEventAugmentor:u}=this.props,c=e(t),p=this.state.isOpen?"institution-page__create-new-bar__line active":"institution-page__create-new-bar__line",f=this.state.isOpen?"institution-page__create-new-bar__add-icon active":"institution-page__create-new-bar__add-icon";return s.default.createElement("button",{onClick:u(r.AnalyticsEventTypes.CLICK_EVENT,this.toggle,`${d}.toggle.button`),ref:e=>{this.buttonElement=e},className:"institution-page__create-new-bar js-module-create-button ",title:this.state.isOpen?i:a,"aria-label":l,"aria-haspopup":!0,"aria-expanded":this.state.isOpen,"aria-controls":this.state.isOpen?this.menuId:null},s.default.createElement("div",{className:p}),s.default.createElement(o.Add,{className:f}),this.state.isOpen?s.default.createElement(n.ContextualMenu,{id:this.menuId,shouldFocusOnMount:!0,directionalHint:5,target:this.buttonElement,onDismiss:this.onMenuClose,items:c,className:"institution-page__insert-menu",analyticsId:`${d}.contextualMenu`}):"")}}t.BaseInsertButtonDropdown=c,c.propTypes={index:l.default.number.isRequired,generateDropdownOptions:l.default.func.isRequired,openedTitle:l.default.string.isRequired,closedTitle:l.default.string.isRequired,ariaLabel:l.default.string.isRequired,...u.withAnalyticsProps};const p=r.withAnalytics(c);t.default=p},HopG:function(e,t){!function(e){"use strict";if(!e.fetch){var t={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(t.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=function(e){return e&&DataView.prototype.isPrototypeOf(e)},s=ArrayBuffer.isView||function(e){return e&&i.indexOf(Object.prototype.toString.call(e))>-1};u.prototype.append=function(e,t){e=o(e),t=r(t);var i=this.map[e];this.map[e]=i?i+","+t:t},u.prototype.delete=function(e){delete this.map[o(e)]},u.prototype.get=function(e){return e=o(e),this.has(e)?this.map[e]:null},u.prototype.has=function(e){return this.map.hasOwnProperty(o(e))},u.prototype.set=function(e,t){this.map[o(e)]=r(t)},u.prototype.forEach=function(e,t){for(var i in this.map)this.map.hasOwnProperty(i)&&e.call(t,this.map[i],i,this)},u.prototype.keys=function(){var e=[];return this.forEach((function(t,i){e.push(i)})),d(e)},u.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},u.prototype.entries=function(){var e=[];return this.forEach((function(t,i){e.push([i,t])})),d(e)},t.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);var l=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},h.call(g.prototype),h.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},E.error=function(){var e=new E(null,{status:0,statusText:""});return e.type="error",e};var n=[301,302,303,307,308];E.redirect=function(e,t){if(-1===n.indexOf(t))throw new RangeError("Invalid status code");return new E(null,{status:t,headers:{location:e}})},e.Headers=u,e.Request=g,e.Response=E,e.fetch=function(e,i){return new Promise((function(a,s){var l=new g(e,i),n=new XMLHttpRequest;n.onload=function(){var e,t,i={status:n.status,statusText:n.statusText,headers:(e=n.getAllResponseHeaders()||"",t=new u,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var i=e.split(":"),a=i.shift().trim();if(a){var s=i.join(":").trim();t.append(a,s)}})),t)};i.url="responseURL"in n?n.responseURL:i.headers.get("X-Request-URL");var s="response"in n?n.response:n.responseText;a(new E(s,i))},n.onerror=function(){s(new TypeError("Network request failed"))},n.ontimeout=function(){s(new TypeError("Network request failed"))},n.open(l.method,l.url,!0),"include"===l.credentials?n.withCredentials=!0:"omit"===l.credentials&&(n.withCredentials=!1),"responseType"in n&&t.blob&&(n.responseType="blob"),l.headers.forEach((function(e,t){n.setRequestHeader(t,e)})),n.send(void 0===l._bodyInit?null:l._bodyInit)}))},e.fetch.polyfill=!0}function o(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function r(e){return"string"!=typeof e&&(e=String(e)),e}function d(e){var i={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(i[Symbol.iterator]=function(){return i}),i}function u(e){this.map={},e instanceof u?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function c(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(e){return new Promise((function(t,i){e.onload=function(){t(e.result)},e.onerror=function(){i(e.error)}}))}function f(e){var t=new FileReader,i=p(t);return t.readAsArrayBuffer(e),i}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function h(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(t.arrayBuffer&&t.blob&&a(e))this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!t.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!s(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=m(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=c(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?c(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(f)}),this.text=function(){var e,t,i,a=c(this);if(a)return a;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,i=p(t),t.readAsText(e),i;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),i=new Array(t.length),a=0;a<t.length;a++)i[a]=String.fromCharCode(t[a]);return i.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}function g(e,t){var i,a,s=(t=t||{}).body;if(e instanceof g){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new u(e.headers)),this.method=e.method,this.mode=e.mode,s||null==e._bodyInit||(s=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new u(t.headers)),this.method=(i=t.method||this.method||"GET",a=i.toUpperCase(),l.indexOf(a)>-1?a:i),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&s)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(s)}function _(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var i=e.split("="),a=i.shift().replace(/\+/g," "),s=i.join("=").replace(/\+/g," ");t.append(decodeURIComponent(a),decodeURIComponent(s))}})),t}function E(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new u(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!=typeof self?self:this)},IGFp:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("skTy"));class s extends Error{constructor(e){super(e),this.name=a.default.NotFoundError}}t.default=s},K0BL:function(e,t,i){"use strict";i.r(t)},L7bQ:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("2lnG");function s(e,t){return[...e.slice(0,t),...e.slice(t+1)]}function l(e,t,i){return[...e.slice(0,t),i,...e.slice(t+1)]}function n(e,t){return e.sequence-t.sequence}const o={loading:!0,modules:null,receivedAt:null};t.default=(e=o,t)=>{if(t.type.startsWith("module.")&&t.type.endsWith(".fail"))return{...e,loading:!1};const i=t.module;switch(t.type){case a.START_MODULE_XHR:return{...e,loading:!0,...t.props};case a.MODULES_RECEIVED:{const i=t.modules.sort(n);return{...e,modules:i,loading:!1,receivedAt:Date.now()}}case a.ok(a.LINK_ADD):{const a=e.modules,l=a.findIndex(e=>e.id===i.id),n={...t.link,id:t.data[0].id},o=[...i.resources,n],r={...i,resources:o};return{...e,modules:[...s(a,l),r]}}case a.ok(a.LINK_UPDATE):{const a=e.modules,s=a.findIndex(e=>e.id===i.id),n=i.resources.findIndex(e=>e.id===t.link.id),o=l(i.resources,n,t.link),r={...i};return r.resources=o,{...e,loading:!1,modules:l(a,s,r)}}case a.ok(a.LINK_REMOVE):{const a=e.modules,l=a.findIndex(e=>e.id===i.id),n=i.resources.findIndex(e=>e.id===t.linkId),o=s(i.resources,n),r={...i,resources:o};return{...e,modules:[...s(a,l),r]}}case a.ok(a.MODULE_ADD):{const i=e.modules,a=[...function(e,t){const i={},a=t;return e&&(e.forEach(e=>{t.forEach((t,a)=>{t.id===e.id&&(i[a]={...e,resources:t.resources,institutionRoleIds:t.institutionRoleIds})})}),Object.keys(i).forEach(e=>{a[e]=i[e]})),a}(t.updatedModules,i),t.createdModule].sort(n);return{...e,loading:!1,modules:a}}case a.ok(a.MODULE_REMOVE):{const{moduleId:i}=t,a=e.modules,l=a.findIndex(e=>e.id===i);return-1!==l?{...e,loading:!1,modules:s(a,l)}:e}case a.ok(a.MODULE_UPDATE):{const i=e.modules,{moduleId:a,module:s,resources:n,institutionRoleIds:o}=t,r=i.findIndex(e=>e.id===a);if(-1!==r){const t={...i[r],...s};return n&&(t.resources=n),o&&(t.institutionRoleIds=o),{...e,modules:l(i,r,t),loading:!1}}return{...e,loading:!1}}case a.ok(a.REORDER_MODULES):{const i=e.modules;if(i){const a=i.map(e=>{const i=t.data.findIndex(t=>t.id===e.id);return-1===i?e:{...e,sequence:t.data[i].sequence}}).sort(n);return{...e,modules:a,loading:!1}}const a=t.reorderedModules.map((e,t)=>({...e,sequence:t}));return{...e,modules:a,loading:!1}}default:return e}}},LOsK:function(e,t,i){"use strict";i.r(t)},MPZR:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("GIAz"),s={image:void 0,module:void 0};t.default=function(e=s,t){switch(t.type){case a.SET_SESSION_IMAGE:return{...e,image:t.resource};case a.SET_SESSION_MODULE:return{...e,module:t.module};case a.CLEAR_SESSION_DATA:return{...e,image:void 0,module:void 0};default:return e}}},MQeD:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("ERkP")),l=a.__importDefault(i("aWzz")),n=i("MC1S"),o=i("myse"),r=a.__importDefault(i("YF1/")),d=i("f16b");class u extends s.default.Component{constructor(e){super(e),this.onMenuClose=()=>{this.setState(()=>({isOpen:!1}))},this.toggle=()=>{this.setState(e=>({isOpen:!e.isOpen}))},this.state={isOpen:!1},this.menuId=r.default()}render(){const{generateDropdownOptions:e,index:t,title:i,ariaLabel:a,analyticsId:l,analyticsEventAugmentor:r}=this.props,d=e(t),u=`${l}.toggle.button`;return s.default.createElement("button",{onClick:r(o.AnalyticsEventTypes.CLICK_EVENT,this.toggle,u),"data-analytics-id":u,ref:e=>{this.buttonElement=e},className:"button button--primary hero-zero-message__button js-module-create-button","aria-label":a,"aria-haspopup":!0,"aria-expanded":this.state.isOpen,"aria-controls":this.state.isOpen?this.menuId:null},i,this.state.isOpen?s.default.createElement(n.ContextualMenu,{id:this.menuId,shouldFocusOnMount:!0,directionalHint:5,target:this.buttonElement,onDismiss:this.onMenuClose,items:d,className:"institution-page__insert-menu",analyticsId:`${l}.contextualMenu`}):"")}}t.BaseHeroZeroCreateButton=u,u.propTypes={index:l.default.number.isRequired,generateDropdownOptions:l.default.func.isRequired,title:l.default.string.isRequired,ariaLabel:l.default.string.isRequired,...d.withAnalyticsProps};const c=o.withAnalytics(u);t.default=c},MRKp:function(e,t,i){"use strict";i.r(t)},Mse8:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("ERkP")),l=i("0x+l"),n=a.__importDefault(i("aWzz")),o=i("myse"),r=i("f16b");i("3y1u");const d=i("7ONb"),u=a.__importDefault(i("aqxk")),c=i("UfMt");t.defaultBanner=c;const p=i("188D");t.defaultLogo=p;const f=({bgUrl:e,logoUrl:t,title:i,onModifyImage:a,permission:n,onUpdateTitle:r,localeText:f,analyticsId:m})=>{const h=o.useAnalyticsAugmentEventOnElement("click",()=>{a("banner")},`${m}.edit.banner.button`),g=n?s.default.createElement("button",{className:"banner__edit-button banner__edit-button--banner",onClick:h,title:f.editBannerTitle,"aria-label":f.editBannerTitle},s.default.createElement(l.Edit,{className:"svg-icon svg-icon--small-icon"})):"",_=o.useAnalyticsAugmentEventOnElement("click",()=>{a("logo")},`${m}.edit.logo.button`),E=n?s.default.createElement("button",{className:"banner__edit-button banner__edit-button--logo",onClick:_,title:f.editLogoTitle,"aria-label":f.editLogoTitle},s.default.createElement(l.Edit,{className:"svg-icon svg-icon--small-icon"})):"",y={backgroundImage:`url('${d.convertToAbsoluteUrl(e)||c}')`},b={backgroundImage:`url('${d.convertToAbsoluteUrl(t)||p}')`},I=n?s.default.createElement(u.default,{id:"ip-headline",content:i,attr:"title",buttonTitle:f.editIPTitle,onValueChange:r,onValidateInput:e=>d.validateTooLong(e,f.invalidLongTitle),isHeader:!0,analyticsId:`${m}.title`}):i;return s.default.createElement("div",{className:"banner",style:y},g,s.default.createElement("div",{className:"banner__logo-container"},s.default.createElement("div",{className:"banner__logo",style:b}),E),s.default.createElement("h2",{className:"banner__title"},s.default.createElement("span",{className:"banner__title-text"},I)))};t.BaseBanner=f,f.propTypes={bgUrl:n.default.string,logoUrl:n.default.string,title:n.default.string.isRequired,onModifyImage:n.default.func,onUpdateTitle:n.default.func,permission:n.default.bool.isRequired,localeText:n.default.shape({editBannerTitle:n.default.string.isRequired,editIPTitle:n.default.string.isRequired,editLogoTitle:n.default.string.isRequired,invalidLongTitle:n.default.string.isRequired}).isRequired,analyticsId:n.default.string},f.defaultProps={bgUrl:"",logoUrl:"",onModifyImage:()=>{},onUpdateTitle:()=>{},...r.addAnalyticsProps};const m=f;t.default=m},Myz1:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("ERkP")),l=i("uDfI"),n=a.__importDefault(i("aWzz")),o=i("8unJ"),r=i("myse"),d=i("f16b"),u=i("2lnG"),c=a.__importDefault(i("GRnb")),p=i("xK1l"),f=a.__importDefault(i("Y/Sv")),m=a.__importDefault(i("6fMO")),h=a.__importDefault(i("4M3I")),g=a.__importDefault(i("nH+s")),_=a.__importDefault(i("hR7O")),E=a.__importDefault(i("bA9G")),y=a.__importDefault(i("Et+e")),b=a.__importDefault(i("vlH4")),I=i("7ONb");i("LOsK");const D=i("0x+l"),v=i("8jBL"),R=i("tN4z"),P=i("UfMt"),C=i("188D");function M(e){const{page:t,type:i,imageToSave:a}=e,s=t.loading?null:t;let l=!1;if(s){l=!!("logo"===i?s.logoId:s.bannerId)}return{page:s,imageIsLoading:!1,enableTrashIcon:l,imageIsError:!1,saveDisabled:!0,isShowPopup:!1,imageUrl:a?a.url:"",imageId:a?a.id:""}}class k extends s.default.Component{constructor(e){super(e),this.onInsertImage=()=>{const{type:e}=this.props,t=this.state.imageUrl;if(t){const i=new Image;i.src=I.convertToAbsoluteUrl(t),this.setState({imageIsLoading:!0}),i.onload=()=>{const i="logo"===e?{logoId:t}:{bannerId:t};this.setState(e=>({page:{id:e.page.id,...i},saveDisabled:!1,imageIsLoading:!1,enableTrashIcon:!0}))},i.onerror=()=>{this.setState({imageIsError:!0,imageIsLoading:!1,imageUrl:"",imageId:""})}}},this.onPopupOk=()=>{const{type:e}=this.props,t="logo"===e?{logoId:""}:{bannerId:""};this.setState(e=>({page:{id:e.page.id,...t},saveDisabled:!1,isShowPopup:!1,enableTrashIcon:!1,imageUrl:"",imageId:""}))},this.onPopupCancel=()=>{this.setState({isShowPopup:!1})},this.onInputChange=e=>{this.setState({imageUrl:e.target.value})},this.onCloseError=()=>{this.setState({imageIsError:!1,imageUrl:"",imageId:"",isShowPopup:!1}),this.props.onClose()},this.clickCancel=()=>{this.props.onClose()},this.clickSave=()=>{const{dispatch:e}=this.props;e(u.startPageXhr());const t={page:I.trimStringValues(this.state.page),imageIds:[this.state.imageId]};e(u.updatePage(t)).then(()=>{this.props.onClose()}).catch(e=>{if(e!==b.default.UPDATE_PAGES)throw e})},this.clickDeleteOnPreview=()=>{this.setState({isShowPopup:!0})},this.state=M(e)}componentDidMount(){this.state.imageUrl&&this.onInsertImage()}componentDidUpdate(){const{page:e,imageToSave:t}=this.props;e.loading||null!==this.state.page||this.setState(M(this.props)),t&&t.url!==this.state.imageUrl&&this.setState({imageUrl:t.url,imageId:t.id},this.onInsertImage)}render(){const e="institutionPage.editImage.page";if(this.props.page.loading)return s.default.createElement("div",{className:"edit-logo-component"},s.default.createElement(c.default,null));const t=this.props.localize.translate,{page:i,enableTrashIcon:a}=this.state,l=`${e}.deleteImage.button`,n=a?s.default.createElement("button",{className:"edit-logo-component__delete-icon","aria-label":t("ip.editPage.deleteImageTitle"),onClick:this.props.analyticsEventAugmentor(r.AnalyticsEventTypes.CLICK_EVENT,this.clickDeleteOnPreview,l),"data-analytics-id":l},"logo"===this.props.type?s.default.createElement(v.Trash,null):s.default.createElement(D.Trash,null)):"";let o="logo"===this.props.type?i.logoId:i.bannerId;o=o?I.convertToAbsoluteUrl(o):"logo"===this.props.type?C:P;const d="logo"===this.props.type?t("ip.editPage.logoPageTitle"):t("ip.editPage.bannerPageTitle"),u=`edit-logo-component__preview edit-logo-component__preview-${this.props.type}`,g=this.props.page.loading&&this.props.page.id?s.default.createElement(c.default,{backDrop:!0}):"",_=this.state.imageIsLoading?s.default.createElement(R.AnalyticsCircularProgress,null):null,E=[{text:t("ip.editPage.invalidImageBtn"),action:this.onCloseError}],y=this.props.imageToSave?t("ip.editPage.confirmRemoveImageContent"):t("ip.editPage.confirmRemoveImageContentWarning"),b="logo"===this.props.type?t("ip.editPage.imagePixelDimensionMessageLogo"):t("ip.editPage.imagePixelDimensionMessageBanner");return s.default.createElement("div",null,s.default.createElement("div",{className:"edit-logo-component flex-page-container"},g,this.state.isShowPopup?s.default.createElement(p.ConfirmationPopup,{title:t("ip.editPage.confirmDeleteTitle"),id:"image-delete-confirmation",content:y,onOk:this.onPopupOk,onOkText:t("ip.editPage.confirmDeleteBtn"),onCancel:this.onPopupCancel,onCancelText:t("ip.editPage.cancelDeleteBtn"),analyticsId:`${e}.confirmation.popup`}):"",this.state.imageIsError?s.default.createElement(p.CustomPopup,{title:t("ip.editPage.invalidImageSelectedTitle"),id:"edit-page-image-error",content:t("ip.editPage.invalidImageSelectedContent"),onCancel:this.onCloseError,customControls:E,elementToFocusOnDismiss:this.contentCollectionLauncher,analyticsId:`${e}.error.popup`}):"",s.default.createElement("div",{className:"flex-page-content has-footer"},s.default.createElement(f.default,{superTitle:t("ip.editPage.superTitle"),title:d,browserSettingsHref:this.props.contentCollectionSettings.browserSettingsHref,analyticsId:`${e}.header`}),s.default.createElement("div",{className:"flex-page-content__grow edit-logo-component__content"},s.default.createElement("div",{className:u},n,_,s.default.createElement("img",{className:"edit-logo-component__preview-img",src:o,alt:""})),s.default.createElement("div",{className:"edit-logo-component__content-collection"},s.default.createElement(h.default,{focusRef:e=>{this.contentCollectionLauncher=e},customClasses:"edit-logo-component__content_collection_button",contentCollectionSettings:this.props.contentCollectionSettings,analyticsId:`${e}.content.launcher`,imageDimensionMessage:b}),!this.state.saveDisabled&&this.state.imageUrl&&s.default.createElement("div",{role:"alert","aria-live":"assertive",className:"edit-logo-component__content-collection-warning",id:"edit-logo-component-content-collection-warning"},t("ip.editPage.contentCollectionPermissionMessage"))),s.default.createElement("div",null,s.default.createElement("span",{className:"edit-logo-component__user-message"},b))))),s.default.createElement(m.default,{clickPrimary:this.clickSave,disabledPrimary:this.state.saveDisabled,textPrimary:t("ip.editPage.saveChangesBtn"),ariaPrimary:t("ip.editPage.saveChangesAria"),clickSecondary:this.clickCancel,textSecondary:t("ip.editPage.cancelChangesBtn"),ariaSecondary:t("ip.editPage.cancelChangesAria"),analyticsId:`${e}.footer`}))}}k.propTypes={dispatch:n.default.func.isRequired,type:n.default.string.isRequired,page:y.default.isRequired,onClose:n.default.func.isRequired,localize:E.default.isRequired,contentCollectionSettings:_.default,imageToSave:g.default,...d.withAnalyticsProps},k.defaultProps={imageToSave:null,contentCollectionSettings:null};const L=l.connect(e=>({page:e.page}))(o.localizedComponentWrapper(k));t.LocalizedEditPageImage=L,t.default=r.withAnalytics(L)},N0gT:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("ERkP")),l=a.__importDefault(i("aWzz")),n=a.__importDefault(i("GRnb"));i("i2QJ");const o=i("N5Iw");class r extends s.default.Component{constructor(e){super(e),this.loadImage=e=>{if(e){const t=new Image;t.src=e,this.setState(()=>({isLoading:!0})),t.onload=()=>{this.setState(()=>({isLoading:!1,isError:!1}))},t.onerror=()=>{this.setState(()=>({isLoading:!1,isError:!0}))}}},this.state={isLoading:!1,isError:!1}}componentDidMount(){this.loadImage(this.props.imgUrl)}UNSAFE_componentWillReceiveProps(e){const{imgUrl:t}=e;this.props.imgUrl!==t&&this.loadImage(t)}render(){if(this.state.isLoading)return s.default.createElement(n.default,null);const e={backgroundImage:`url('${this.state.isError||!this.props.imgUrl?o:this.props.imgUrl}')`};return s.default.createElement("div",{className:`module-overview-component ${this.props.customClass}`,style:e},(this.props.title.length>0||this.props.desc.length>0)&&s.default.createElement("div",{className:"module-overview-component__overlay"},s.default.createElement("h2",{className:"subheader module-overview-component__headline",title:this.props.title},this.props.title),s.default.createElement("p",{className:"module-overview-component__description",title:this.props.desc},this.props.desc)))}}r.propTypes={imgUrl:l.default.string.isRequired,title:l.default.string,desc:l.default.string,customClass:l.default.string},r.defaultProps={title:"",desc:"",customClass:""},t.default=r},N4x8:function(e,t,i){"use strict";i.r(t)},N5Iw:function(e,t,i){e.exports=i.p+"9a6b429b7034050cdfe16b9f706d094a.png"},OOS7:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("ERkP")),l=a.__importDefault(i("aWzz")),n=i("nBlB"),o=a.__importDefault(i("CUQY")),r=a.__importDefault(i("d1Rw")),d=i("f16b"),u=({link:e,dragPointRef:t,index:i,canBeReordered:a,offset:l,onInsertLink:n,onDeleteEditLinkImage:r,onOpenEditLinkImage:d,onUpdateResource:u,onValidateInput:c,onDelete:p,hasMaxImages:f,isImageColVisible:m,analyticsId:h})=>s.default.createElement(o.default,{key:e.id,link:e,dragPointRef:t,rowIndex:i,canBeReordered:a,offset:l,onInsertLink:n,onDeleteEditLinkImage:r,onOpenEditLinkImage:d,onUpdateResource:u,onDelete:p,onValidateInput:c,hasMaxImages:f,isImageColVisible:m,analyticsId:`${h}`});u.propTypes={link:r.default.isRequired,dragPointRef:l.default.func,hasMaxImages:l.default.bool,isImageColVisible:l.default.bool,index:l.default.number.isRequired,canBeReordered:l.default.bool.isRequired,offset:l.default.number,onInsertLink:l.default.func.isRequired,onDeleteEditLinkImage:l.default.func,onOpenEditLinkImage:l.default.func,onUpdateResource:l.default.func.isRequired,onValidateInput:l.default.func.isRequired,onDelete:l.default.func.isRequired,...d.addAnalyticsProps},u.defaultProps={dragPointRef:()=>{},hasMaxImages:!1,isImageColVisible:!0,offset:0,onDeleteEditLinkImage:()=>{},onOpenEditLinkImage:()=>{}},t.default=n.DragNDropItem(u)},PFnq:function(e,t,i){"use strict";i.r(t)},PfBW:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("li8z"));t.default=a.default},"Q/C7":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("aWzz"));t.default=a.default.shape({})},R3RO:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("ERkP")),l=a.__importDefault(i("aWzz")),n=i("kBJj"),o=i("uDfI"),r=i("8unJ"),d=a.__importDefault(i("jSEH")),u=a.__importDefault(i("bA9G")),c=a.__importDefault(i("uxYL")),p=a.__importDefault(i("Et+e")),f=a.__importDefault(i("bLwh")),m=a.__importDefault(i("dw5F"));i("whYV");const h=i("2lnG"),g=a.__importDefault(i("wTRC")),_=a.__importDefault(i("0Kat")),E=a.__importDefault(i("GRnb")),y=i("xK1l"),b=a.__importDefault(i("xNW+")),I=a.__importDefault(i("7Bmz")),D=a.__importDefault(i("VwtU")),v=a.__importDefault(i("81Z+")),R=a.__importDefault(i("oIhF")),P=i("7ONb"),C=i("0x+l"),M=a.__importDefault(i("95+z")),k="dropdown-toggle";class L extends s.default.Component{constructor(e){super(e),this.onPopupOk=()=>{const{dispatch:e}=this.props,{savedId:t}=this.state;this.setState({isShowPopup:!1,savedId:null,showContentCollectionWarning:!1}),e(h.startModuleXhr()),e(h.removeModule(t))},this.onPopupCancel=()=>{this.setState({isShowPopup:!1})},this.onDeleteModule=e=>{const t=this.props.module.modules.find(t=>t.id===e),i=t.type===m.default.LINKS&&t.resources.some(e=>!!e.details.imageId);this.setState(()=>({isShowPopup:!0,savedId:e,showContentCollectionWarning:i}))},this.onSwitchPage=(e,t)=>{this.props.onSwitchPage(e.variantId||"default"),this.setState({currentPageIndex:t})},this.onSwitchMode=(e,t,i)=>{this.setState({mode:e,currentViewerIndex:t,filterKey:i})},this.onReorderModules=(e,t)=>{this.props.dispatch(h.reorderModules(this.props.page.id,e)).then(()=>{document.getElementById(`dnd-${t.id}`).focus()})},this.onModifyImage=e=>{const{openEditPageImage:t}=this.props;t(e)},this.onUpdateTitle=(e,t)=>{const{dispatch:i,page:a}=this.props;if(P.validateTooLong(t).isValid){i(h.startPageXhr());const e={page:{id:a.id,title:P.trimStringValues(t)}};return i(h.updatePage(e)).then(()=>{document.getElementById("ip-headline-title").focus()})}return Promise.resolve()},this.getRolesToImpersonate=(e,t)=>{if(!e||!t)return[];let i=[];return t.forEach(t=>{t.institutionRoleIds&&(i=t.institutionRoleIds.reduce((t,i)=>{if(!t.some(e=>e.roleKey===i)){const a=e.filter(e=>e.roleKey===i)[0];a&&t.push({roleKey:a.roleKey,roleName:a.roleName})}return t},i))}),i.sort((e,t)=>{const i=e.roleName.toLowerCase(),a=t.roleName.toLowerCase();return i<a?-1:a<i?1:0})},this.generateAudienceLabel=e=>{const t=this.props.localize.translate("ip.moduleList.allUsers"),i=this.props.localize.translate("ip.moduleList.multipleRoles");return P.generateAudienceLabel(e,this.props.role.roles,t,i)},this.areRolesValid=e=>P.areRolesValid(e,this.props.role.roles||[]),this.syncSequence=(e,t)=>{let i=!1;for(let a=0;a<t.length;a++){const s=t[a];if(e.sequence===s.sequence&&e.id!==s.id){i=!0;break}}i&&t.forEach(t=>{if(t.sequence>=e.sequence&&e.id!==t.id){t.sequence+=1}})},this.checkModuleIsValid=e=>!(!e.resources||0===e.resources.length)&&(!(!e.title||""===e.title)&&void 0!==e.available),this.createModuleDropdownOptions=e=>[{key:e,name:this.translation.optionCreateFeaturedLinksModuleText,className:"dropdown__toggle-text",onClick:()=>{this.overrideFocusAndOpenCreate(m.default.LINKS,e)},icon:s.default.createElement(C.Link,null)},{key:e,name:this.translation.optionCreateCustomContentModuleText,className:"dropdown__toggle-text",onClick:()=>{this.overrideFocusAndOpenCreate(m.default.CONTENT,e)},icon:s.default.createElement(C.CustomContent,null)}],this.filterModulesPreview=e=>{const t=e.available&&!(e.institutionRoleIds&&e.institutionRoleIds.length);return""===this.state.filterKey?t:t||e.available&&e.institutionRoleIds&&e.institutionRoleIds.includes(this.state.filterKey)},this.overrideFocusAndOpenCreate=(e,t)=>{let i=".modules-container .js-module-create-button";if(t){let e=this.props.module.modules.length;for(let i=0;i<this.props.module.modules.length;i++){if(this.props.module.modules[i].sequence>=t){e=i;break}}i=`.module-section:nth-of-type(${e}) .institution-page__create-new-bar:last-of-type`}this.props.setFocusOverride(i,".institution-page-container"),this.props.openCreate(e,t)},this.overrideFocusAndOpenEdit=(e,t=!1)=>{this.props.setFocusOverride(`#dnd-${e} .module-wrapper__header-right .${k}`,".institution-page-container"),this.props.openEdit(e,t)},this.state={mode:"edit",currentPageIndex:0,currentViewerIndex:0,isShowPopup:!1,savedId:null,showContentCollectionWarning:!1,filterKey:"",rolesToImpersonate:this.getRolesToImpersonate(e.role.roles,e.module.modules)}}UNSAFE_componentWillReceiveProps(e){if(e.role.roles===this.props.role.roles&&e.module.modules===this.props.module.modules||this.setState(()=>({rolesToImpersonate:this.getRolesToImpersonate(e.role.roles,e.module.modules)})),e.variantOptions&&e.variantOptions.length>0){const t=e.variantOptions.findIndex(t=>e.page.variantId?e.page.variantId===t.variantId:!t.variantId);if(t<0)throw new Error("institution-page: Check your configuration. The variantOptions provided do not include a brand that matches the variant or a default brand.");t!==this.state.currentPageIndex&&this.setState(()=>({currentPageIndex:t}))}}render(){const{common:e,dispatch:t,page:i,module:a,openAll:l,localize:n,openSettings:o,pluginsConfig:r,variantOptions:d,mode:u}=this.props,c=n.translate,p="institutionPage.home";this.translation={moduleName:c("ip.defaultData.moduleName"),imageResourceTitle:c("ip.defaultData.imageResourceTitle"),imageResourceDescription:c("ip.defaultData.imageResourceDescription"),optionCreateFeaturedLinksModuleText:c("ip.moduleList.createFeaturedLinksModuleText"),optionCreateCustomContentModuleText:c("ip.moduleList.createCustomContentModuleText"),insertButtonTitle:c("ip.moduleList.createModuleText"),defaultLinkTitle:c("ip.defaultData.linkName")};const f=()=>{t(h.clearError())};if(a.loading&&!a.modules||i.loading&&!i.id)return s.default.createElement("div",{className:"index-container"},e.error&&s.default.createElement(R.default,{errorType:e.errorType,callClearError:f,translate:c,analyticsId:`${p}.error.popup`}),s.default.createElement(E.default,null));const m=a.modules.filter(this.checkModuleIsValid),P=a.modules.filter(e=>!this.checkModuleIsValid(e));let C;m&&(C="preview"===this.state.mode?m.filter(this.filterModulesPreview):m);const L="admin"===u&&i.editIp&&"edit"===this.state.mode,T=c(L?"ip.moduleList.noModuleTitleAdmin":"ip.moduleList.noModuleTitleAll"),O=c(L?"ip.moduleList.noModuleDescAdmin":"ip.moduleList.noModuleDescAll"),A=c("ip.moduleList.createFirstText"),S=c("ip.moduleList.createFirstModuleAria");let N;const w=P.filter(e=>L||!1!==e.available);N=C&&C.length>0?s.default.createElement(v.default,{items:C,onReorderItem:this.onReorderModules,scrollContainerId:"home-modules-section",editable:L,createModuleDropdownOptions:this.createModuleDropdownOptions,openEdit:this.overrideFocusAndOpenEdit,onDelete:this.onDeleteModule,dispatch:this.props.dispatch,locale:this.props.currentLocale,openAll:l,pluginsConfig:r,generateAudienceLabel:this.generateAudienceLabel,areRolesValid:this.areRolesValid,moreOptionsClassName:k,analyticsId:`${p}.homeModuleSection`}):0===w.length?s.default.createElement(b.default,{headline:T,image:M.default,description:O,permission:L,buttonText:A,buttonAriaLabel:S,generateDropdownOptions:this.createModuleDropdownOptions,areRolesValid:this.areRolesValid,analyticsId:`${p}.heroZeroMessage`}):L?s.default.createElement(D.default,{createModule:this.onCreateFirstModule,buttonAriaLabel:n.translate("ip.moduleList.createFirstModuleAria"),generateDropdownOptions:this.createModuleDropdownOptions,closedTitle:n.translate("ip.moduleList.createModuleText"),openedTitle:n.translate("ip.moduleList.createModuleCancel"),index:0,analyticsId:`${p}.insertModule`}):"";const x=w.map((e,t)=>s.default.createElement(I.default,{key:e.id,title:c("ip.error.moduleLoadTitle"),size:"medium",description:c("ip.error.moduleLoadDescription"),bottomMargin:!L||t!==w.length-1})),q=a.loading&&a.modules||i.loading&&i.id?s.default.createElement(E.default,{backDrop:!0}):"",B="admin"===u&&i.editIp?s.default.createElement(g.default,{currentPageIndex:this.state.currentPageIndex,currentViewerIndex:this.state.currentViewerIndex,onSwitchPage:this.onSwitchPage,onSwitchMode:this.onSwitchMode,onClickSettingsButton:o,localize:n,variantId:i.variantId,viewerRoles:this.state.rolesToImpersonate,variantOptions:d,analyticsId:`${p}.header`}):"",U={popupTitle:c("ip.moduleList.deleteModuleTitle"),popupContent:c("ip.moduleList.deleteModuleContent"),popupContentWithWarning:c("ip.moduleList.deleteModuleContentCollectionWarning"),popupConfirm:c("ip.moduleList.deletePopupConfirm"),popupCancel:c("ip.moduleList.deletePopupCancel")},z={editBannerTitle:c("ip.banner.editBannerTitle"),editLogoTitle:c("ip.banner.editLogoTitle"),editIPTitle:c("ip.banner.editIPTitle"),invalidLongTitle:c("ip.editModule.validateTooLongMessage")},F=s.default.createElement("div",{className:`flex-page-container${L?" ip-editable":""}`},e.error&&s.default.createElement(R.default,{errorType:e.errorType,callClearError:f,translate:c,analyticsId:`${p}.error.popup`}),q,this.state.isShowPopup?s.default.createElement(y.ConfirmationPopup,{title:U.popupTitle,id:"module-delete-confirmation",content:this.state.showContentCollectionWarning?U.popupContentWithWarning:U.popupContent,onOk:this.onPopupOk,onCancel:this.onPopupCancel,onOkText:U.popupConfirm,onCancelText:U.popupCancel,analyticsId:`${p}.confirmation.popup`}):"",B,s.default.createElement("div",{id:"home-modules-section",className:"flex-page-content"},s.default.createElement(_.default,{bgUrl:i.bannerId,logoUrl:i.logoId,title:i.title||"",permission:L,onModifyImage:this.onModifyImage,onUpdateTitle:this.onUpdateTitle,localeText:z,analyticsId:`${p}.banner`}),s.default.createElement("div",{className:"modules-container"},x,N)));return s.default.createElement("div",{className:"index-container"},F)}}L.propTypes={dispatch:l.default.func.isRequired,module:c.default.isRequired,page:p.default.isRequired,role:f.default.isRequired,common:d.default.isRequired,openAll:l.default.func,openEdit:l.default.func,openEditPageImage:l.default.func,openCreate:l.default.func.isRequired,openSettings:l.default.func,setFocusOverride:l.default.func.isRequired,localize:u.default,currentLocale:l.default.string.isRequired,pluginsConfig:n.optionalPluginConfigPropTypes.isRequired,variantOptions:l.default.arrayOf(l.default.shape({variantId:l.default.string,variantName:l.default.string.isRequired})),onSwitchPage:l.default.func,mode:l.default.string},L.defaultProps={localize:{},openAll:null,openEdit:null,openEditPageImage:null,openSettings:null,variantOptions:[],onSwitchPage:null,mode:null};const T=o.connect(e=>({page:e.page,module:e.module,role:e.role,common:e.common,entitlement:e.entitlement}))(r.localizedComponentWrapper(L));t.default=T},"Rhk/":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("ERkP")),l=a.__importDefault(i("7nmT")),n=i("uDfI"),o=i("8unJ"),r=i("A4Z1");i("zeob");const d=i("2lnG"),u=a.__importDefault(i("R3RO")),c=a.__importDefault(i("iLzp")),p=a.__importDefault(i("FUVp")),f=a.__importDefault(i("nBnM")),m=a.__importDefault(i("Myz1")),h=a.__importDefault(i("SCNq")),g=i("yeoA"),_=a.__importStar(i("TtT0")),E=a.__importStar(i("C18T")),y=i("0Kat"),b=a.__importDefault(i("skTy")),I=h.default(),D=e=>()=>{I.getState().common.error||e()};function v(e,t,i,a,d,u){let c=a;null==a&&"undefined"!=typeof window&&window.location.search.match("setLang=")&&(c=window.location.search.match(/setLang=([^$&]+)/)[1]),function(e,t){l.default.render(s.default.createElement(n.Provider,{store:I},e),t)}(s.default.createElement(r.AnalyticsJssThemeProvider,{theme:"light",isRtl:i,cssReset:"none"},s.default.createElement(o.Locale,{locale:c,babelfishInstance:d,babelfishFormatInstance:u,bundlesToLoad:["institution-page/locales/[locale]/ip.json"],isRtl:i},s.default.createElement("div",{className:"ip-app"},e))),t)}const R=g.ExistingModuleSelector(p.default),P=g.ExistingModuleSelector(f.default),C=g.SessionModuleSelector(f.default),M=g.SessionModuleSelector(p.default),k={renderIp:(e,t,i,a,l,n)=>{const{openEditPageImage:o,openAll:r,openEdit:c,openCreate:p,openSettings:f,setFocusOverride:m,featureFlags:h={},editorPluginsConfig:g={},selectPage:_,variantId:E,variantOptions:y,mode:b}=n;I.dispatch(d.startModuleXhr()),I.dispatch(d.startPageXhr()),I.dispatch(d.getData(E)),I.dispatch(d.fetchPreferenceAndRoles()),I.dispatch(d.setFeatureFlags(h)),v(s.default.createElement(u.default,{onSwitchPage:_,openAll:r,openEdit:c,openEditPageImage:o,openCreate:p,openSettings:f,setFocusOverride:m,pluginsConfig:g,variantOptions:y,mode:b}),e,t,i,a,l)},renderAll:(e,t,i,a,l,n)=>{v(s.default.createElement(c.default,{moduleId:t}),e,i,a,l,n)},renderEdit:(e,t,i,a,l,n,o,r,d,u={},c)=>{v(s.default.createElement(R,{moduleId:t,onClose:D(i),onOpenEditImagePanel:a,setFocusOverride:l,pluginsConfig:u,expandRoles:c}),e,n,o,r,d)},renderEditLinkImage:(e,t,i,a,l,n,o,r,d,u)=>{v(s.default.createElement(P,{moduleId:i,linkId:t,onClose:D(a),contentCollectionSettings:d,imageToSave:u}),e,l,n,o,r)},renderCreateLinkImage:(e,t,i,a,l,n,o,r,d,u,c)=>{v(s.default.createElement(C,{linkId:t,type:i,sequence:a,onClose:D(l),contentCollectionSettings:u,imageToSave:c}),e,n,o,r,d)},renderCreate:(e,t,i,a,l,n,o,r,d,u,c={})=>{v(s.default.createElement(M,{type:t,sequence:i,shouldCreateSession:!0,onClose:D(a),onOpenEditImagePanel:l,setFocusOverride:n,pluginsConfig:c}),e,o,r,d,u)},renderEditLogo:(e,t,i,a,l,n,o,r)=>{v(s.default.createElement(m.default,{onClose:D(t),type:"logo",contentCollectionSettings:o,imageToSave:r}),e,i,a,l,n)},renderEditBanner:(e,t,i,a,l,n,o,r)=>{v(s.default.createElement(m.default,{onClose:D(t),type:"banner",contentCollectionSettings:o,imageToSave:r}),e,i,a,l,n)},destroyReactControl:e=>{l.default.unmountComponentAtNode(e)},pageService:_,moduleService:E,defaultBanner:y.defaultBanner,defaultLogo:y.defaultLogo,errorTypes:b.default};t.default=k},Rz79:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CLEAR_ERROR="global.error.clear",t.SET_FEATURE_FLAGS="global.set.featureFlags",t.clearError=()=>({type:t.CLEAR_ERROR}),t.setFeatureFlags=e=>({type:t.SET_FEATURE_FLAGS,flags:e})},SCNq:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=i("9OUN"),l=a.__importDefault(i("V8Kl")),n=a.__importDefault(i("3uNv"));t.default=()=>s.createStore(n.default,s.applyMiddleware(l.default))},SLwq:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("e0LE")),l=a.__importDefault(i("skTy")),n=a.__importDefault(i("VwWt")),o=a.__importDefault(i("IGFp"));function r(e=s.default.V1){return{Accept:`application/json; version=${e}`,"X-Blackboard-XSRF":window.__initialContext.xsrf,"Content-Type":"application/json"}}function d(e,t=s.default.V1){return{method:e,credentials:"same-origin",headers:new Headers(r(t))}}t.PATCH="PATCH",t.POST="POST",t.DELETE="DELETE",t.GET="GET",t.getHeaders=r,t.getAbsoluteUrl=function(e){const t=/^[^/]*\/\/[^/]+/.exec(window.location.href);return(t&&t[0]||"")+e},t.getFetchOptions=d,t.fetchReturnBody=function(e,i=null,a=!1,r=s.default.V1){let u=i;return u||(u=d(t.GET,r)),a?fetch(e,u).then(e=>e.json()):fetch(e,u).then(e=>e.json().then(t=>e.ok?t.return_body:(function(e){const t=e.error;if(t){if(t.detail&&t.detail.name===l.default.FilePermissionUpdateError)throw new n.default(t.message);if(t.detail&&t.detail.name===l.default.NotFoundError)throw new o.default(t.message);throw new Error(t.message)}throw new Error("Unexpected Error")}(t),null)))}},SarE:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("ERkP")),l=a.__importDefault(i("aWzz")),n=i("0x+l"),o=i("myse"),r=i("f16b");i("s/PA");const d=({onClick:e,buttonTitle:t,analyticsId:i})=>{return s.default.createElement("button",{type:"button",className:"institution-page__create-new-bar js-create-button",onClick:o.useAnalyticsAugmentEventOnElement("click",e,`${i}.insert.button`),"aria-label":t},s.default.createElement("div",{className:"institution-page__create-new-bar__line"}),s.default.createElement(n.Add,{className:"institution-page__create-new-bar__add-icon"}))};d.propTypes={onClick:l.default.func.isRequired,buttonTitle:l.default.string.isRequired,...r.addAnalyticsProps},t.default=d},Sh9o:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("nZ3+"));t.default=a.default},TE9t:function(e,t,i){"use strict";i.r(t)},TtT0:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=i("SLwq"),l=i("hTyS"),n=a.__importDefault(i("e0LE")),o=a.__importDefault(i("IGFp"));t.getCustomPageRoute=(e="IP",t=null)=>{const i=`${l.baseRoute}/custom-page?type=${e}`;return t&&"default"!==t?`${i}&variant=${t}`:i},t.reorderModulesPost=(e,t)=>{const i={...s.getFetchOptions(s.POST,n.default.V2),body:JSON.stringify(t.map(e=>e.id))},a=`${l.baseRoute}/custom-page/${e}/reorder`;return s.fetchReturnBody(a,i)},t.canEditFetch=(e=n.default.V1,t=null)=>{const i=t&&"default"!==t?`?variantId=${t}`:"",a=`${l.baseRoute}/user/can-edit${i}`;return s.fetchReturnBody(a,null,!1,e)},t.getCustomPages=(e="IP",t=!0)=>{const i=((e="IP",t=!0)=>`${l.baseRoute}/custom-pages?type=${e}&available=${t}`)(e,t);return s.fetchReturnBody(i)},t.getPages=(e="IP")=>{const i=t.getCustomPageRoute(e);return s.fetchReturnBody(i)},t.getPageVariant=(e="IP",i=null)=>{const a=t.getCustomPageRoute(e,i);return s.fetchReturnBody(a).then(e=>e[0])},t.getEffectivePageVariantId=(e,i="IP")=>t.getPageVariant(i,e).then(t=>t.available?e:null,()=>null),t.createPageVariant=(e,i,a,l)=>{const o=t.getCustomPageRoute(e),r={type:e,variantId:i,page:{variantName:a,available:l}},d={...s.getFetchOptions(s.POST,n.default.V2),body:JSON.stringify(r)};return s.fetchReturnBody(o,d)},t.updatePages=e=>{const t={...s.getFetchOptions(s.PATCH,n.default.V2),body:JSON.stringify(e)},i=`${l.baseRoute}/custom-page/${e.page.id}`;return s.fetchReturnBody(i,t)},t.deletePage=e=>{let t=null;"string"==typeof e?t=e:"id"in e&&(t=e.id);const i=`${l.baseRoute}/custom-page/${t}`;return s.fetchReturnBody(i,s.getFetchOptions(s.DELETE,n.default.V2))};t.ensurePageVariant=(e,i,a,s)=>i?t.getPageVariant(e,i).then(e=>((e,i,a)=>e.variantName===i&&e.available===a?Promise.resolve(e):t.updatePages({page:{id:e.id,variantName:i,available:a}}))(e,a,s),()=>t.createPageVariant(e,i,a,s)):Promise.resolve(null),t.deletePageVariant=(e,i)=>i?t.getPageVariant(e,i).then(t.deletePage).catch(e=>{if(e instanceof o.default)return null;throw e}):Promise.resolve(null)},U5ZW:function(e,t,i){"use strict";i.r(t)},UfMt:function(e,t,i){e.exports=i.p+"ac34f9dbe1c563c385401c07098ebdfe.png"},Upev:function(e,t,i){"use strict";i.r(t)},VQU7:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("ERkP")),l=a.__importDefault(i("aWzz")),n=i("kBJj"),o=i("7ONb");class r extends s.default.Component{shouldComponentUpdate(){return!1}render(){const e=o.configureEditorPlugins(this.props.pluginsConfig);return s.default.createElement(n.BbEditor,{bbml:this.props.startingBBML,onChange:this.props.onChange,locale:this.props.locale,plugins:e})}}r.propTypes={startingBBML:l.default.string.isRequired,onChange:l.default.func.isRequired,locale:l.default.string.isRequired,pluginsConfig:n.optionalPluginConfigPropTypes},r.defaultProps={pluginsConfig:{}},t.default=r},Vsq4:function(e,t,i){"use strict";i.r(t)},VwWt:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("skTy"));class s extends Error{constructor(e){super(e),this.name=a.default.FilePermissionUpdateError}}t.default=s},VwtU:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("bW4q"));t.default=a.default},Wl1g:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("721Y"));t.default=a.default},XFZ8:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("ERkP")),l=a.__importDefault(i("aWzz")),n=a.__importDefault(i("yaUO"));i("oA99");const o=({images:e,index:t})=>{const i=[],a=t<e.length?t:0,l=e[a];for(let t=0;t<e.length;t++)i.push(s.default.createElement("div",{className:`image-carousel-component__indicator${t===a?" active":""}`,key:e[t].id}));return s.default.createElement("div",{className:"image-carousel-component"},s.default.createElement(n.default,{imgUrl:l?l.imageHref:"",customClass:"full-width"}),s.default.createElement("div",{className:"image-carousel-component__indicator-container"},i.length>1&&i))};o.propTypes={images:l.default.arrayOf(l.default.shape({imageHref:l.default.string.isRequired,id:l.default.string.isRequired})).isRequired,index:l.default.number.isRequired},t.default=o},"Y/Sv":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("iqkx"));t.default=a.default},YxpF:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("SarE"));t.InsertButton=s.default;const l=a.__importDefault(i("HlfI"));t.InsertButtonDropdown=l.default},YyhZ:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("OOS7"));t.default=a.default},aLoj:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("2lnG"),s=i("wg1p"),l={loading:!0,editIp:!1};t.default=function(e=l,t){if(t.type.startsWith("page.")&&t.type.endsWith(".fail"))return{...e,loading:!1};switch(t.type){case a.PAGE_RECEIVED:return{...e,...t.page,loading:!1};case a.START_PAGE_XHR:return{...e,loading:!0};case s.ok(a.FETCH_PREFERENCE):return{...e,editIp:t.data.canEdit};case s.ok(a.PAGE_UPDATE):return{...e,...t.page,loading:!1};default:return e}}},af97:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("ERkP")),l=a.__importDefault(i("aWzz")),n=i("kBJj"),o=i("nBlB"),r=a.__importDefault(i("iD9B")),d=a.__importDefault(i("j8Az")),u=a.__importDefault(i("BnC3")),c=i("f16b"),p=({canBeReordered:e,module:t,editable:i,index:a,createModuleDropdownOptions:l,moreOptionsClassName:n,openEdit:o,onDelete:u,dragPointRef:c,dispatch:p,locale:f,openAll:m,pluginsConfig:h,generateAudienceLabel:g,areRolesValid:_,analyticsId:E})=>s.default.createElement("div",{id:`dnd-${t.id}`},s.default.createElement(d.default,{canBeReordered:e,editable:i,index:a,generateDropdownOptions:l,openEdit:o,onDelete:u,dragPointRef:c,module:t,dispatch:p,generateAudienceLabel:g,areRolesValid:_,moreOptionsClassName:n,analyticsId:`${E}.wrapper`},s.default.createElement(r.default,{module:t,openAll:m,dispatch:p,locale:f,pluginsConfig:h,analyticsId:`${E}`})));p.propTypes={canBeReordered:l.default.bool.isRequired,editable:l.default.bool.isRequired,index:l.default.number.isRequired,createModuleDropdownOptions:l.default.func.isRequired,openEdit:l.default.func.isRequired,onDelete:l.default.func.isRequired,dragPointRef:l.default.func.isRequired,module:u.default.isRequired,dispatch:l.default.func.isRequired,locale:l.default.string.isRequired,openAll:l.default.func.isRequired,pluginsConfig:n.optionalPluginConfigPropTypes.isRequired,generateAudienceLabel:l.default.func.isRequired,areRolesValid:l.default.func.isRequired,moreOptionsClassName:l.default.string,...c.addAnalyticsProps},p.defaultProps={moreOptionsClassName:""},t.default=o.DragNDropItem(p)},apWE:function(e,t,i){"use strict";i.r(t)},aqxk:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("AisW"));t.default=a.default},b2TE:function(e,t,i){"use strict";i.r(t)},bA9G:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("aWzz"));t.default=a.default.shape({babelfishFormatInstance:a.default.shape(),babelfishInstance:a.default.shape(),context:a.default.shape(),formatCurrency:a.default.func,formatDate:a.default.func,formatDatetime:a.default.func,formatDuration:a.default.func,formatItems:a.default.func,formatNumber:a.default.func,formatPercentage:a.default.func,formatTime:a.default.func,formatTimezone:a.default.func,formatUsername:a.default.func,formatUsernameList:a.default.func,mounted:a.default.bool,options:a.default.shape({locale:a.default.string}),refs:a.default.shape(),resolvedValues:a.default.shape(),resolving:a.default.shape(),setOptions:a.default.func,state:a.default.shape(),updater:a.default.shape()})},bLwh:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("aWzz")),l=a.__importDefault(i("kb2/"));t.default=s.default.shape({loading:s.default.bool.isRequired,roles:s.default.arrayOf(l.default)})},bW4q:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("ERkP")),l=a.__importDefault(i("aWzz")),n=i("YxpF"),o=i("f16b"),r=({index:e,openedTitle:t,closedTitle:i,buttonAriaLabel:a,generateDropdownOptions:l,analyticsId:o})=>s.default.createElement(n.InsertButtonDropdown,{index:e,generateDropdownOptions:l,openedTitle:t,closedTitle:i,ariaLabel:a,analyticsId:`${o}.dropdown`});r.propTypes={index:l.default.number.isRequired,generateDropdownOptions:l.default.func.isRequired,openedTitle:l.default.string.isRequired,closedTitle:l.default.string.isRequired,buttonAriaLabel:l.default.string.isRequired,...o.addAnalyticsProps},t.default=r},c6tI:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=["https://","http://","ftp://","mailto:"];t.default=e=>{for(let t=0;t<a.length;t++)if(e.startsWith(a[t]))return e;return"https://".concat(e)}},cPEu:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("htmO"));t.default=a.default},cvLf:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("ERkP")),l=a.__importDefault(i("aWzz")),n=i("f16b"),o=a.__importDefault(i("skTy")),r=i("xK1l"),d=a.__importDefault(i("i0wr")),u=({errorType:e,callClearError:t,translate:i,analyticsId:a})=>{switch(e){case o.default.FilePermissionUpdateError:return s.default.createElement(r.CustomPopup,{title:i("ip.filePermissionUpdateError.title"),id:"file-permission-error",subText:i("ip.filePermissionUpdateError.description"),onCancel:t,customControls:[{text:i("ip.filePermissionUpdateError.okBtn"),action:t}],analyticsId:`${a}.filePermissionError`,isAlert:!0});case o.default.Error:return s.default.createElement(r.CustomPopup,{title:i("ip.error.title"),id:"general-error",subText:i("ip.error.description"),content:s.default.createElement("div",null,s.default.createElement("div",{dangerouslySetInnerHTML:{__html:d.default}})),onCancel:t,customControls:[{text:i("ip.editModule.closeBtn"),action:t}],analyticsId:`${a}.generalError`,isAlert:!0});default:return null}};u.propTypes={errorType:l.default.string,callClearError:l.default.func,translate:l.default.func,...n.addAnalyticsProps},t.default=u},"d+xE":function(e,t,i){"use strict";i.r(t)},d1Rw:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("aWzz")),l=i("7ONb"),n=a.__importDefault(i("rB6G")),o=l.values(n.default);t.default=s.default.shape({available:s.default.bool.isRequired,id:s.default.string.isRequired,moduleId:s.default.string.isRequired,sequence:s.default.number.isRequired,type:s.default.oneOf(o).isRequired,details:s.default.shape()})},dBOD:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("ERkP")),l=a.__importDefault(i("aWzz")),n=i("myse"),o=i("caKH"),r=i("f16b");i("h6JY");const d=({content:e,id:t,title:i,subText:a,onCancel:l,children:r,elementToFocusOnDismiss:d,analyticsId:u,isAlert:c})=>{const p=`institution-page-${t}-content`;return s.default.createElement(o.UltraModalDialog,{hidden:!1,onDismiss:n.useAnalyticsAugmentEventOnElement("click",l,`${u}.cancel.dialog`),elementToFocusOnDismiss:d,dialogContentProps:{title:i,subText:a,showCloseButton:!0},modalProps:{isBlocking:!0,subtitleAriaId:p,isAlert:c}},s.default.createElement("div",{id:p},e),r)};d.propTypes={content:l.default.oneOfType([l.default.string,l.default.element]).isRequired,id:l.default.string.isRequired,title:l.default.string.isRequired,onCancel:l.default.func.isRequired,children:l.default.node.isRequired,elementToFocusOnDismiss:l.default.element,...r.addAnalyticsProps},d.defaultProps={elementToFocusOnDismiss:null},t.default=d},dw5F:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={LINKS:"LINKS",CONTENT:"CONTENT"}},e0LE:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={V1:"1.0",V2:"2.0",V3:"3.0"}},eBDh:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("ERkP")),l=a.__importDefault(i("aWzz")),n=a.__importDefault(i("O94r")),o=i("MC1S"),r=i("0x+l"),d=i("8unJ"),u=i("myse"),c=i("f16b"),p=a.__importDefault(i("6zpC")),f=a.__importDefault(i("VwtU")),m=a.__importDefault(i("bA9G")),h=a.__importDefault(i("BnC3"));i("U5ZW");class g extends s.default.Component{constructor(){super(...arguments),this.onEdit=()=>this.props.openEdit(this.props.module.id),this.onEditWithRolesExpanded=()=>this.props.openEdit(this.props.module.id,!0),this.onDelete=()=>this.props.onDelete(this.props.module.id),this.generateCreateBar=(e,t)=>{const{module:i,editable:a,localize:l,generateDropdownOptions:n,analyticsId:o}=this.props,r=l.translate(t?"ip.moduleList.createModuleAfterAria":"ip.moduleList.createModuleBeforeAria",{moduleTitle:i.title});return a?s.default.createElement(f.default,{buttonAriaLabel:r,generateDropdownOptions:n,closedTitle:l.translate("ip.moduleList.createModuleText"),openedTitle:l.translate("ip.moduleList.createModuleCancel"),index:e,analyticsId:`${o}.createNewBar`}):""}}render(){const{module:e,index:t,editable:i,dispatch:a,localize:l,children:d,moreOptionsClassName:c,analyticsId:f,analyticsEventAugmentor:m}=this.props,h=this.props.areRolesValid(e.institutionRoleIds),g=n.default({"module-wrapper__button":!0,"module-wrapper__drag-point":!0,hidden:!this.props.canBeReordered}),_=`${f}.editWithRoles.link`,E=`${f}.dragModule.button`;return s.default.createElement("div",{className:"module-wrapper"},0===t?this.generateCreateBar(t,!1):"",s.default.createElement("div",{className:"module-wrapper__content drag-drop-item__highlight-area"},s.default.createElement("div",{className:"module-wrapper__header"},s.default.createElement("div",{className:"module-wrapper__header-left"},s.default.createElement("h3",{className:"subheader module-wrapper__title"},e.title),i?s.default.createElement("span",{className:"module-wrapper__visibility-controls"},s.default.createElement(p.default,{moduleId:e.id,available:e.available,dispatch:a,localize:l,analyticsId:`${f}.visibilityToggle.control`}),s.default.createElement("span",{className:"module-wrapper__audience"},s.default.createElement("span",{className:"module-wrapper__audience-spacer","aria-hidden":"true"},"|"),l.translate("ip.moduleList.audienceTitle"),s.default.createElement("a",{className:"module-wrapper__audience-link",onClick:m(u.AnalyticsEventTypes.CLICK_EVENT,this.onEditWithRolesExpanded,_),"data-analytics-id":_,href:"#"},h?this.props.generateAudienceLabel(e.institutionRoleIds):l.translate("ip.moduleList.confirmRoles")),!h&&s.default.createElement(r.Attention,{className:"attention-icon"}))):""),i?s.default.createElement("div",{className:"module-wrapper__header-right"},s.default.createElement("div",{ref:this.props.dragPointRef,id:`${e.id}-drag-point`,className:g,draggable:!0,role:"button",tabIndex:"0",title:l.translate("ip.moduleList.moveModuleTitle"),"aria-label":l.translate("ip.moduleList.moveModuleTitle"),onClick:m(u.AnalyticsEventTypes.CLICK_EVENT,()=>{},E),"data-analytics-id":E},s.default.createElement(r.MoveItemUpDown,null)),s.default.createElement(o.ActionMenu,{className:`js-dropdown-toggle ${c}`,ariaLabel:l.translate("ip.moduleList.editModuleAriaLabel",{moduleTitle:e.title}),title:l.translate("ip.moduleList.editModuleTitle"),analyticsId:`${f}.actionMenu.button`,menuProps:{items:[{key:"editModule",name:l.translate("ip.moduleList.editModuleText"),onClick:this.onEdit,icon:s.default.createElement(r.Edit,null)},{key:"deleteModule",name:l.translate("ip.moduleList.deleteModuleText"),onClick:this.onDelete,icon:s.default.createElement(r.Trash,null)}]}})):""),d),this.generateCreateBar(this.props.module.sequence+1,!0))}}t.BaseModuleWrapper=g,g.propTypes={canBeReordered:l.default.bool.isRequired,generateDropdownOptions:l.default.func.isRequired,editable:l.default.bool.isRequired,localize:m.default.isRequired,openEdit:l.default.func.isRequired,onDelete:l.default.func.isRequired,dragPointRef:l.default.func.isRequired,index:l.default.number.isRequired,children:l.default.node.isRequired,module:h.default.isRequired,dispatch:l.default.func.isRequired,generateAudienceLabel:l.default.func.isRequired,areRolesValid:l.default.func.isRequired,moreOptionsClassName:l.default.string,...c.withAnalyticsProps},g.defaultProps={moreOptionsClassName:""};const _=d.localizedComponentWrapper(g);t.LocalizedModuleWrapper=_,t.default=u.withAnalytics(_)},enG4:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("ERkP")),l=a.__importDefault(i("aWzz")),n=i("8unJ"),o=i("kBJj"),r=a.__importDefault(i("lf3n")),d=a.__importDefault(i("7Bmz")),u=a.__importDefault(i("bA9G")),c=a.__importDefault(i("BnC3"));i("TE9t");class p extends s.default.Component{constructor(e){super(e),this.editorContentChanged=e=>{if(this.hasContentChanged=this.hasContentChanged||e.isDirty,this.hasContentChanged){const t=e.toBbML(),i=[{...this.props.module.resources[0],details:{...this.props.module.resources[0].details,bbml:t}}];t?t&&this.state.errorMessage&&this.setState(()=>({errorMessage:null})):this.setState(()=>({errorMessage:this.translations.errorMessage})),this.props.setUnsavedResources(i,!!t)}},this.translations={},this.state={errorMessage:null},this.hasContentChanged=!1}render(){const e=this.props.localize.translate;return this.translations.errorMessage=e("ip.editModule.validateContent"),s.default.createElement("div",{className:"edit-content-module"},s.default.createElement("h4",{className:"edit-content-module__section-heading"},e("ip.editModule.moduleContent")),s.default.createElement("div",{className:"content-editor bb-editor-fill"},s.default.createElement(r.default,{startingBBML:this.props.module.resources[0].details.bbml,onChange:this.editorContentChanged,locale:this.props.currentLocale,localize:this.props.localize,pluginsConfig:this.props.pluginsConfig})),this.state.errorMessage?s.default.createElement("div",{className:"edit-content-module-error"},s.default.createElement(d.default,{size:"small",title:this.state.errorMessage})):"")}}p.propTypes={module:c.default.isRequired,setUnsavedResources:l.default.func.isRequired,localize:u.default.isRequired,currentLocale:l.default.string.isRequired,pluginsConfig:o.optionalPluginConfigPropTypes.isRequired},t.default=n.localizedComponentWrapper(p)},f16b:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("aWzz");t.addAnalyticsProps={analyticsId:a.PropTypes.string.isRequired},t.withAnalyticsProps={analyticsEventAugmentor:a.PropTypes.func.isRequired}},fDgs:function(e,t,i){"use strict";i.r(t)},fY1r:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("Ewol"));t.default=a.default},fohi:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("ERkP")),l=a.__importDefault(i("aWzz")),n=i("kBJj"),o=a.__importDefault(i("cPEu")),r=a.__importDefault(i("Sh9o")),d=a.__importDefault(i("Bxgz")),u=a.__importDefault(i("BnC3")),c=a.__importDefault(i("dw5F")),p=a.__importDefault(i("rB6G")),f=i("f16b"),m=({module:e,dispatch:t,openAll:i,locale:a,pluginsConfig:l,preview:n,analyticsId:u})=>{switch(e.type){case c.default.LINKS:return!e.resources.some(e=>e.type===p.default.IMAGE)||n?s.default.createElement(r.default,{module:e,dispatch:t,openAll:i,preview:n,analyticsId:`${u}.imageModule`}):s.default.createElement(o.default,{module:e,dispatch:t,openAll:i,preview:n,analyticsId:`${u}.featureModule`});case c.default.CONTENT:return s.default.createElement(d.default,{module:e,locale:a,pluginsConfig:l,preview:n});default:return null}};m.propTypes={module:u.default.isRequired,dispatch:l.default.func.isRequired,locale:l.default.string.isRequired,openAll:l.default.func.isRequired,pluginsConfig:n.optionalPluginConfigPropTypes.isRequired,preview:l.default.bool,...f.addAnalyticsProps},m.defaultProps={preview:!1},t.default=m},h6JY:function(e,t,i){"use strict";i.r(t)},hR7O:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("aWzz"));t.default=a.default.shape({pickerHref:a.default.string.isRequired,openWindowSettingModal:a.default.func.isRequired,shouldShowWindowSettingModal:a.default.bool.isRequired,shouldOpenInNewWindow:a.default.bool,browserSettingsHref:a.default.string.isRequired})},hTyS:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("SLwq");t.baseRoute=a.getAbsoluteUrl("/institution/api"),t.baseUltraRoute=a.getAbsoluteUrl("/learn/api/v1")},hb3l:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("YF1/")),l=a.__importDefault(i("dw5F")),n=a.__importDefault(i("rB6G")),o=a.__importDefault(i("D3Id"));t.createDefaultModuleData=(e="",t)=>{return{available:!1,type:t,title:e,details:{},institutionRoleIds:[]}},t.defaultLinkResourceData=(e,t)=>{const i={};return t&&(i.id=s.default(),i.moduleId=t),{...i,type:n.default.LINK,available:!0,sequence:2,details:{href:"https://www.blackboard.com",title:e,imageHref:""}}};const r=[{href:"https://www.google.com",title:"Google"},{href:"https://www.bing.com",title:"Bing"},{href:"https://www.youtube.com",title:"YouTube"},{href:"https://www.facebook.com",title:"Facebook"},{href:"https://www.instagram.com",title:"Instagram"}],d=(e="")=>({type:n.default.CONTENT,available:!0,sequence:1,details:{bbml:e}});t.createDefaultPostData=(e,i)=>{const a=t.createDefaultModuleData(i.moduleName,e);let s=[];switch(e){case l.default.LINKS:{const e=t.defaultLinkResourceData(i.defaultLinkTitle),l=r.map((t,i)=>({...e,details:{...e.details,...t},sequence:i+2}));a.details.imageOrientation=o.default.LEFT,s=l;break}case l.default.CONTENT:s=[d("")];break;default:return{}}return{module:a,resources:s}},t.createDefaultPostDataWithTempIds=(e,i)=>{const a=t.createDefaultPostData(e,i);a.module.id=s.default();const l=a.resources.map(e=>({...e,id:s.default(),moduleId:a.module.id}));return a.resources=l,a}},hiIv:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("ERkP")),l=a.__importDefault(i("aWzz")),n=i("kBJj"),o=i("7ONb"),r=a.__importDefault(i("BnC3"));i("0/jh");const d=({module:e,pluginsConfig:t,preview:i,locale:a})=>{const l=o.configureEditorPlugins(t);return s.default.createElement("div",{className:"content-component__container bb-editor-fill"},s.default.createElement(n.BbEditor,{isToolbarHidden:!0,isReadOnly:!0,bbml:e.resources[0].details.bbml,plugins:l,isDisabled:i,locale:a}))};d.propTypes={locale:l.default.string.isRequired,module:r.default.isRequired,pluginsConfig:n.optionalPluginConfigPropTypes.isRequired,preview:l.default.bool},d.defaultProps={preview:!1},t.default=d},htmO:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("ERkP")),l=a.__importDefault(i("aWzz")),n=i("f16b"),o=a.__importDefault(i("yaUO")),r=a.__importDefault(i("mFPq")),d=a.__importDefault(i("rB6G")),u=a.__importDefault(i("BnC3")),c=a.__importDefault(i("vlH4")),p=i("2lnG");i("1Cy1");class f extends s.default.Component{constructor(){super(...arguments),this.openAllLinksPeek=e=>{const{openAll:t,dispatch:i}=this.props;return i(p.checkModuleVisibility(e)).then(()=>{t(e)}).catch(e=>{if(e!==c.default.GET_MODULE_VISIBILITY)throw e})}}render(){const{module:e,analyticsId:t}=this.props,i=e.resources.filter(e=>e.type===d.default.IMAGE)[0],a=i?{url:i.details.href,title:i.details.title,desc:i.details.desc}:{url:""},l=e.resources.filter(e=>e.type===d.default.LINK).map(e=>{return{link:e.details.href,title:e.details.title,id:e.id}}),n=l?s.default.createElement(r.default,{items:l,openAll:this.openAllLinksPeek,moduleId:e.id,disableLinks:this.props.preview,customClasses:"featured-link-list",analyticsId:`${t}.featuredLink.linkList`}):"";return s.default.createElement("div",{className:"featured-links-component__container"},s.default.createElement(o.default,{imgUrl:a.url,title:a.title,desc:a.desc}),n)}}f.propTypes={module:u.default.isRequired,dispatch:l.default.func.isRequired,openAll:l.default.func.isRequired,preview:l.default.bool,...n.addAnalyticsProps},f.defaultProps={preview:!1},t.default=f},i0wr:function(e,t){e.exports='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 600 600" enable-background="new 0 0 600 600" xml:space="preserve"><rect x="398.6" y="231.1" transform="matrix(0.9254 0.3791 -0.3791 0.9254 122.4013 -137.2872)" fill="#FCCC9D" width="22.5" height="22.2"></rect><path fill="#FCCC9D" d="M394,207.2c0,0,23.5-1.3,24.5-2.1c4.6-10.1,16.5-14.7,26.8-10.3c10.4,4.5,13.4,16,10.7,26.9 C448.8,250.3,391,254.7,394,207.2z"></path><g><ellipse transform="matrix(0.9975 -7.117025e-02 7.117025e-02 0.9975 -10.1287 30.6884)" fill="#F1F2F2" cx="425.6" cy="157.5" rx="27.6" ry="7.6"></ellipse><ellipse transform="matrix(0.9975 -7.117025e-02 7.117025e-02 0.9975 -15.9342 31.3111)" fill="#F1F2F2" cx="431.4" cy="239.3" rx="18.9" ry="5.2"></ellipse><polygon fill="#F1F2F2" points="453.1,155.5 398.1,159.4 412.5,240.6 450.3,237.9 "></polygon><path fill="#3C2415" d="M402.7,163.2c5,1.8,13.7,2.5,23.4,1.9c9.7-0.7,18.2-2.7,22.9-5.2c-5-1.8-13.7-2.5-23.4-1.9 C415.9,158.8,407.5,160.8,402.7,163.2z"></path><path fill="#D1D3D4" d="M424.8,149.9c-15.7,1.1-28.2,5.6-27.9,9.9c0.3,4.3,13.3,7,29.1,5.8c15.7-1.1,28.2-5.6,27.9-9.9 C453.6,151.4,440.5,148.8,424.8,149.9z M426,164.2c-13.7,1-25-1.3-25.3-5c-0.3-3.7,10.6-7.6,24.3-8.5c13.7-1,25,1.3,25.3,5 C450.6,159.4,439.7,163.2,426,164.2z"></path></g><path fill="#FCCC9D" d="M404.5,240c-1.4,0-2.8-0.5-4-1.5c-1-0.8-9.7-8.6-10.2-19.4c-0.3-6,2.1-11.7,6.9-16.6c1.5-1.5,3.3-2.3,4.9-3 c2.5-1.1,3.9-1.7,4.8-4.1c1.2-3.2,4.8-4.7,8-3.5c3.2,1.2,4.7,4.8,3.5,8c-2.9,7.4-8.5,9.8-11.6,11c-0.4,0.2-0.9,0.4-1.1,0.5 c-2.2,2.3-3.2,4.7-3.1,7.1c0.3,5.5,5.8,10.5,5.9,10.6c2.6,2.2,2.9,6.1,0.7,8.7C407.9,239.3,406.2,240,404.5,240z"></path><path fill="#FCCC9D" d="M449,224c-4.5,0-8.1-3.6-8.2-8c-0.4-20.5,8.6-36.4,8.9-37c2.3-3.9,7.3-5.3,11.2-3c3.9,2.2,5.3,7.2,3,11.2 c-0.2,0.3-7.1,12.8-6.8,28.6c0.1,4.5-3.5,8.3-8,8.3C449.1,224,449.1,224,449,224z"></path><g><path fill="#F1F2F2" d="M420.2,257.2c0.8-1.7,1.7-3.3,2.5-5.1l-25.1-12.6c-3.1,6.4-3.1,6.4-3.1,6.4L420.2,257.2z"></path><path fill="#B5CF5C" d="M355.6,317.7c-1.1,0-2.2,0-3.3-0.1c-41.3-3.3-63-70.6-65.4-78.2c-2.3-7.6,1.9-15.6,9.5-17.9 c7.6-2.3,15.6,1.9,17.9,9.5c7,22.7,24.6,56.8,40.2,58c11.2,0.9,26.9-16.8,41.8-47.4l25.8,12.6C401.3,296.8,379.5,317.7,355.6,317.7 z"></path><path fill="#A4BD5B" d="M356.2,313.6c-1.1,0-2.2,0-3.3-0.1c-9.2-0.7-17.5-4.7-24.7-10.4c-1.6-20.3-3.9-38.2-6-51.9 c-0.7-1.5-1.4-3.1-2-4.6c2.5,14.5,5.5,35.6,7.4,60.6c7.3,5.7,15.5,9.7,24.7,10.4c1.1,0.1,2.2,0.1,3.3,0.1 c23.9,0,45.7-20.8,66.5-63.5l-1.1-0.5C400.7,293.9,379.4,313.6,356.2,313.6z"></path></g><path fill="#B5CF5C" d="M280,423.3c-0.6,0-1.2,0-1.9,0c-27.1-1-48.3-23.8-47.3-51c2.5-66.7-11-135.7-11.1-136.4 c-7.4-37.3,20.4-39.9,39.7-36.6c9.7,1.7,50.6,5.2,56.8,26.8c0.9,3.2,15.8,71.8,12.9,149.9C328.1,402.5,306.3,423.3,280,423.3z"></path><path opacity="0.25" fill="#3C2415" d="M282.9,315.2c-11.2-11.5-2.5-17.6-7.5-19.9c-7.2-3.4-5.1-11.8-5.1-16.3c0,0,2-14.4-0.3-17.1 c-11.3-13.5,7.8-17.2,9.5-22.6c0.6-2.1,20.8-16.9,16.8,5.4c-2.6,14.7-3.4,18.1,5.4,20.2c10.8,2.7,11.7,37.7,2.9,37.1 c-2.4-0.1-0.5,31.7-7.4,28.3c-6.3-3.1-1.8-8.6-6.8-10.4C284.9,317.9,284.6,316.9,282.9,315.2z"></path><g opacity="0.25"><path opacity="0.5" fill="#3C2415" d="M294.7,254.9c0.3-2.6,0.9-5.9,1.6-10.3c0.5-3,0.6-5.3,0.4-7.1c-0.1,0.9-0.2,1.9-0.4,3 C295.1,247.6,294.2,252,294.7,254.9z"></path><path opacity="0.5" fill="#3C2415" d="M270,257.8c-1.8-2.1-2.8-4-3.3-5.7c-0.8,2.6-0.1,5.7,3.3,9.8c0.7,0.8,1,2.5,1.1,4.6 C271.2,262.8,271.1,259,270,257.8z"></path><path opacity="0.5" fill="#3C2415" d="M304.6,297.9c-2.4-0.1-0.5,31.7-7.4,28.3c-6.3-3.1-1.8-8.6-6.8-10.4c-5.5-2-5.7-3-7.4-4.7 c-4.2-4.3-5.6-7.8-6-10.7c-0.3,3.3-0.5,8.2,6,14.8c1.7,1.7,1.9,2.7,7.4,4.7c5,1.8,0.5,7.4,6.8,10.4c7,3.4,5.1-28.5,7.4-28.3 c4.3,0.3,6.3-8,5.9-16.8C310.2,292.3,308.2,298.1,304.6,297.9z"></path><path opacity="0.5" fill="#3C2415" d="M275.4,291.2c-3.8-1.8-5-5-5.3-8.3c-0.3,4.4-0.2,9.9,5.3,12.4c0.8,0.4,1.3,0.9,1.5,1.5 C277.2,294,277.7,292.2,275.4,291.2z"></path></g><path fill="#FCCC9D" d="M215.1,371.8c-3.7-0.4-8.2-3.6-11.4-6.6c-1-4.1-3.6-7.7-7.5-9.9c-7.4-4.1-16.8-1.4-20.9,6 c-0.1,0.2-9,16-23.7,29.4c-6.3,5.7-6.8,15.4-1,21.7c3,3.3,7.2,5,11.4,5c3.7,0,7.4-1.3,10.3-4c12.7-11.5,21.7-24.1,26.4-31.4 c4.1,2.9,9.2,5.4,14.7,6c0.3,0,0.6,0,0.9,0c4.1,0,7.7-3.1,8.1-7.3C222.9,376.3,219.6,372.2,215.1,371.8z"></path><g><path fill="#B5CF5C" d="M171.6,359.9c-17.2-57-0.3-98.9,17-120.6c18.6-23.5,41.6-37.3,42.6-37.7c7.3-3.1,15.7,0.4,18.8,7.7 c3,7.3-0.4,30-7.7,33.1c-2.9,1.3-68.7,24.5-43.2,109.2C201.3,359.2,173.5,366.1,171.6,359.9z"></path><path fill="#F1F2F2" d="M171.4,359.3c0.1,0.2,0.1,0.4,0.2,0.6c2.5,7.2,29.4,0.1,27.6-7.4C195.7,357.4,179.1,360.6,171.4,359.3z"></path><path fill="#A4BD5B" d="M222.5,253.3l0.7,3.9c5.3-6.3,17.9-14.1,19-14.5C241.1,243.1,232.7,245.6,222.5,253.3z"></path></g><polygon fill="#F1F2F2" points="280,202.9 277.3,218.5 284,207.8 293,224.3 289.3,200.4 275.4,192.7 "></polygon><path fill="#FCCC9D" d="M277.3,217.6c-0.4,0-4.7-12.1-5-12.2c-9-0.6-25.9-1.8-25.9-1.8c0.3-4.5,3.3-44.5,16.5-68.7 c4.3-8,14.3-10.9,22.2-6.6c8,4.3,10.9,14.3,6.6,22.2c-8.3,15.3-10.2,45.4-10.9,55.5L277.3,217.6z"></path><polygon fill="#C19A78" points="258.7,181.5 282,191 281.2,200.4 "></polygon><path fill="#FCCC9D" d="M330.8,60.6l-26.2-5.3c-14.5-4.8-30.4,3.2-35.2,17.7l-4.5,22c-1.7-0.7-3.5-1.1-5.4-1.1 c-8,0-14.5,6.5-14.5,14.5c0,7.9,6.3,14.3,14.2,14.5l-6.4,31.1c-4.8,14.5,3.2,30.4,17.7,35.2l15.9,5.3c14.5,4.8,30.4-3.2,35.2-17.7 l6.5-19.7l5.7,2.3c1,0.4,2.1,0.6,3.1,0.6c3.2,0,6.3-1.9,7.6-5.1c1.7-4.2-0.3-9-4.5-10.7l-6.8-2.8l15.1-45.8 C353.3,81.2,345.3,65.4,330.8,60.6z"></path><polygon fill="#C19A78" points="327.2,159.9 328.1,157.2 321.5,154.9 "></polygon><path fill="#C19A78" d="M259.8,103.5c-2.1,0-3.9,1.2-4.9,2.8c0.8-0.5,1.8-0.8,2.9-0.8c3.2,0,5.7,2.6,5.7,5.7c0,1-0.3,2-0.8,2.9 c1.7-1,2.8-2.8,2.8-4.9C265.5,106,262.9,103.5,259.8,103.5z"></path><path fill="#333333" d="M347.8,49.4c-20-33.2-67-24.1-74-3.5c0,0-37.6-3.2-22.6,50.8c2.3-1.6,5.2-2.6,8.2-2.6 c5.8,0,10.8,3.5,13.1,8.5c16.5-9.4,17.1-30.3,17.1-30.3c39.8,42.8,80.6,20.8,97.6,3.2C387.2,75.5,365.3,78.5,347.8,49.4z"></path><polygon fill="#F1F2F2" points="273.3,202.3 277.3,217.6 269.7,207.4 262.1,224.6 236.1,199 245.6,178 "></polygon><g><path fill="#B0BBCB" d="M329.1,375.9c0.4-9.5,0.4-24,0.4-24c-63.9-13.4-98.4,10.3-98.4,10.3c0.1,8,0,1.9-0.3,10 c-0.4,10.8,2.7,20.8,8.2,29.1c-2.7,18.4-11.2,67.6-34.4,139.5h41c15.1-38,26-90,31.1-117.7c0.4,0,0.9,0.1,1.3,0.1 c0.6,0,1.2,0,1.9,0c2.5,0,4.9-0.2,7.3-0.5c1.4,25.2,1.5,64-0.9,118.1h41.2c3.3-76.1,1.2-127-0.6-152 C328.1,384.8,328.9,380.4,329.1,375.9z"></path><g><path fill="#A1ADBB" d="M234.9,372.3c0.3-8.1,0.4-2,0.3-10c0,0,31.9-20.7,94.3-8.2c0-1.3,0-2.1,0-2.1 c-63.9-13.4-98.4,10.3-98.4,10.3c0.1,8,0,1.9-0.3,10c-0.4,10.8,2.7,20.8,8.2,29.1c-2.7,18.4-11.2,67.6-34.4,139.5h4.1 c23.1-71.9,31.7-121.1,34.4-139.5C237.6,393.1,234.5,383,234.9,372.3z"></path><path fill="#A1ADBB" d="M291.3,422.8c-1.3,0.2-2.7,0.3-4.1,0.4c1.4,25.2,1.5,63.9-0.9,117.7h4.1 C292.8,486.8,292.8,447.9,291.3,422.8z"></path><path fill="#A1ADBB" d="M281.7,423.2c-0.3,0-0.6,0-0.8-0.1c0,0,0,0.1,0,0.1C281.1,423.3,281.4,423.2,281.7,423.2z"></path></g></g><path fill="#E7E7E7" d="M447.4,566.1H142.3c-4.3,0-7.9-3.6-7.9-7.9v-0.6c0-4.3,3.6-7.9,7.9-7.9h305.1c4.3,0,7.9,3.6,7.9,7.9v0.6 C455.3,562.5,451.8,566.1,447.4,566.1z"></path><path fill="#E7E7E7" d="M183.3,576.3c-4.3,0-7.9-3.6-7.9-7.9v-0.6c0-4.3,3.6-7.9,7.9-7.9H388c4.3,0,7.9,3.6,7.9,7.9v0.6 c0,4.3-3.6,7.9-7.9,7.9"></path><path fill="#333333" d="M246.6,555.7h-73.7c-5.4,0-9.7-4.4-9.7-9.7v-0.7c0-5.4,4.4-9.7,9.7-9.7h73.7c5.4,0,9.7,4.4,9.7,9.7v0.7 C256.3,551.3,251.9,555.7,246.6,555.7z"></path><path fill="#333333" d="M361.4,555.7h-73.7c-5.4,0-9.7-4.4-9.7-9.7v-0.7c0-5.4,4.4-9.7,9.7-9.7h73.7c5.4,0,9.7,4.4,9.7,9.7v0.7 C371.1,551.3,366.7,555.7,361.4,555.7z"></path></svg>'},i2QJ:function(e,t,i){"use strict";i.r(t)},iD9B:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("fohi"));t.default=a.default},iLzp:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("ERkP")),l=a.__importDefault(i("aWzz")),n=i("uDfI"),o=i("8unJ"),r=a.__importDefault(i("GRnb")),d=a.__importDefault(i("79sU")),u=a.__importDefault(i("rB6G")),c=a.__importDefault(i("bA9G")),p=a.__importDefault(i("uxYL")),f=i("7ONb");i("r9mI");class m extends s.default.Component{constructor(e){super(e),this.state={}}render(){const{moduleId:e,module:t,localize:i}=this.props;if(t.loading)return s.default.createElement("div",{className:"view-all-page-component"},s.default.createElement(r.default,null));const a=t.modules.filter(t=>t.id===e)[0],l=a.resources.filter(e=>e.type===u.default.LINK).map(e=>({title:e.details.title,link:e.details.href,id:e.id})).map(e=>s.default.createElement("li",{className:"view-all-page-component__list-item",key:e.id},s.default.createElement("a",{className:"view-all-page-component__anchor",href:f.sanitizeLinkUrl(e.link),rel:"noopener noreferrer",target:"_blank",alt:e.title},e.title)));return s.default.createElement("div",{className:"flex-page-container"},s.default.createElement("div",{className:"view-all-page-component flex-page-content"},s.default.createElement(d.default,{superTitle:i.translate("ip.editPage.superTitle"),title:a.title}),s.default.createElement("ul",{className:"view-all-page-component__list"},l)))}}m.propTypes={moduleId:l.default.string.isRequired,module:p.default,localize:c.default.isRequired},m.defaultProps={module:null};t.default=n.connect(e=>({module:e.module}))(o.localizedComponentWrapper(m))},iOHJ:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_IMAGE_LINKS=1,t.MAX_LINKS_PER_COLUMN=5,t.NUM_LINK_COLUMNS_WITH_IMAGE=1,t.NUM_LINK_COLUMNS_WITHOUT_IMAGE=2},iVn3:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=i("8rgp"),l=a.__importDefault(i("D3Id"));t.getImageOrientation=e=>e&&e.details&&e.details.imageOrientation,t.isValidImageOrientation=e=>s.values(l.default).includes(e),t.determineImageOrientation=e=>{const i=t.getImageOrientation(e);return t.isValidImageOrientation(i)?i:l.default.LEFT}},iiwF:function(e,t,i){"use strict";i.r(t)},imzg:function(e,t,i){"use strict";i.r(t)},iqkx:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("ERkP")),l=a.__importDefault(i("aWzz")),n=i("8jBL"),o=i("8unJ"),r=i("myse"),d=i("f16b"),u=a.__importDefault(i("bA9G"));i("r3nL");class c extends s.default.Component{render(){const{title:e,superTitle:t,browserSettingsHref:i,localize:a,analyticsId:l,analyticsEventAugmentor:o}=this.props,d=`${l}.settings.link`;return s.default.createElement("header",{className:"panel-header-component panel-settings-header"},s.default.createElement("h2",{className:"subheader panel-header-component__super-title"},t),s.default.createElement("div",{className:"panel-settings-header__title-row"},s.default.createElement("h1",{className:"subheader panel-header-component__title"},e),s.default.createElement("a",{className:"icon super-clear button js-open-settings",title:a.translate("ip.editPage.browserSettings"),href:i,onClick:o(r.AnalyticsEventTypes.CLICK_EVENT,()=>{},d),"data-analytics-id":d},s.default.createElement(n.Settings,null),s.default.createElement("span",{className:"sr-only"},a.translate("ip.editPage.browserSettings")))))}}t.BasePanelSettingsHeader=c,c.propTypes={superTitle:l.default.string,title:l.default.string,browserSettingsHref:l.default.string.isRequired,localize:u.default.isRequired,...d.withAnalyticsProps},c.defaultProps={superTitle:"",title:""};const p=o.localizedComponentWrapper(c);t.LocalizedPanelSettingsHeader=p,t.default=r.withAnalytics(p)},j8Az:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("eBDh"));t.default=a.default},jSEH:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("aWzz")),l=a.__importDefault(i("Q/C7"));t.default=s.default.shape({error:s.default.bool.isRequired,errorType:s.default.string.isRequired,featureFlags:l.default.isRequired})},kTYZ:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("ERkP")),l=a.__importDefault(i("aWzz")),n=i("kBJj"),o=i("nBlB"),r=a.__importDefault(i("lWSA")),d=a.__importDefault(i("BnC3")),u=i("f16b");i("Bk9K");const c=({items:e,state:t,actions:i,editable:a,createModuleDropdownOptions:l,moreOptionsClassName:n,openEdit:o,onDelete:d,dispatch:u,locale:c,openAll:p,pluginsConfig:f,generateAudienceLabel:m,areRolesValid:h,analyticsId:g})=>s.default.createElement("div",null,e.map((_,E)=>s.default.createElement(r.default,{canBeReordered:e.length>1,module:_,index:E,key:_.id,preview:s.default.createElement("div",{className:"module-list-preview"},_.title),state:t,actions:i,editable:a,createModuleDropdownOptions:l,openEdit:o,onDelete:d,dispatch:u,locale:c,openAll:p,pluginsConfig:f,generateAudienceLabel:m,areRolesValid:h,moreOptionsClassName:n,analyticsId:`${g}.moduleItem`})));c.propTypes={items:l.default.arrayOf(d.default).isRequired,state:l.default.shape().isRequired,actions:l.default.shape().isRequired,editable:l.default.bool.isRequired,createModuleDropdownOptions:l.default.func.isRequired,openEdit:l.default.func.isRequired,onDelete:l.default.func.isRequired,dispatch:l.default.func.isRequired,locale:l.default.string.isRequired,openAll:l.default.func.isRequired,pluginsConfig:n.optionalPluginConfigPropTypes.isRequired,generateAudienceLabel:l.default.func.isRequired,areRolesValid:l.default.func.isRequired,moreOptionsClassName:l.default.string,...u.addAnalyticsProps},c.defaultProps={moreOptionsClassName:""},t.default=o.DragNDropContainer(c)},"kb2/":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("aWzz"));t.default=a.default.shape({roleId:a.default.string.isRequired,roleKey:a.default.string.isRequired,roleName:a.default.string.isRequired,description:a.default.string.isRequired,custom:a.default.bool.isRequired})},kqdT:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("ERkP")),l=a.__importDefault(i("aWzz")),n=i("MC1S"),o=i("8jBL"),r=i("2lnG"),d=a.__importDefault(i("bA9G")),u=i("f16b");i("K0BL");const c={HIDDEN:"HIDDEN",VISIBLE:"VISIBLE"};class p extends s.default.Component{constructor(){super(...arguments),this.onToggleOptionChanged=e=>this.toggleVisible(e.key===c.VISIBLE),this.dropdownControllingButton=null,this.dispatchStartModuleXhr=()=>this.props.dispatch(r.startModuleXhr()),this.dispatchUpdateModule=e=>this.props.dispatch(r.updateModule({module:e,moduleId:e.id})),this.toggleVisible=e=>{const t={id:this.props.moduleId,available:e};this.dispatchStartModuleXhr(),this.dispatchUpdateModule(t).then(()=>{const e=this.dropdownControllingButton;e&&e.focus()})}}render(){const{available:e,localize:t,analyticsId:i}=this.props,a=[{key:c.HIDDEN,text:t.translate("ip.moduleList.userHidden"),itemType:n.DropdownMenuItemType.Normal,index:0,ariaLabel:t.translate("ip.moduleList.userHidden"),icon:s.default.createElement(o.Invisible,null)},{key:c.VISIBLE,text:t.translate("ip.moduleList.userVisible"),itemType:n.DropdownMenuItemType.Normal,index:1,ariaLabel:t.translate("ip.moduleList.userVisible"),icon:s.default.createElement(o.Visible,null)}];return s.default.createElement("div",{className:"institution-page-visibility-toggle__wrapper"},s.default.createElement(n.Dropdown,{ref:e=>{this.dropdownControllingButton=e&&e.refs&&e.refs.root&&e.refs.root.querySelectorAll("button")[0]},calloutProps:{className:"institution-page-visibility-toggle__callout"},options:a,iconDropdown:!0,hideBorders:!0,selectedKey:e?c.VISIBLE:c.HIDDEN,onChanged:this.onToggleOptionChanged,analyticsId:`${i}`}))}}t.default=p,p.propTypes={moduleId:l.default.string.isRequired,available:l.default.bool.isRequired,dispatch:l.default.func.isRequired,localize:d.default.isRequired,...u.addAnalyticsProps}},lWSA:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("af97"));t.default=a.default},lf3n:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("VQU7"));t.default=a.default},li8z:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("ERkP")),l=a.__importDefault(i("aWzz")),n=i("8unJ"),o=i("MC1S"),r=i("myse"),d=i("f16b");i("apWE");const u=a.__importDefault(i("bA9G")),c=a.__importDefault(i("bLwh")),p=i("7ONb"),f="";class m extends s.default.Component{constructor(e){super(e),this.onEmptyInputFocus=e=>this.getFilteredSuggestions(e),this.onFilterChanged=(e,t)=>{const i=this.getFilteredSuggestions(t);return e?i.filter(t=>t.name.toLowerCase().startsWith(e.toLowerCase())):i},this.onSelectedChange=(e,t)=>{this.state.selectedItems.forEach((t,i)=>{-1===e.indexOf(t)&&(i<e.length?this.nextFocus=i:e.length?this.nextFocus=e.length-1:this.shouldFocusPickerOnNextUpdate=!0)});let i=[];t&&this.isAllUsers([t])||(i=e.reduce((e,t)=>(t.key!==f&&e.push(t.key),e),[])),this.props.onUpdateInstitutionRoleIds(i)},this.getFilteredSuggestions=e=>{const t=this.isAllUsers(e)?[]:this.allUsers();return this.props.role.roles.reduce((t,i)=>(e.some(e=>e.key===i.roleKey)||t.push({key:i.roleKey,name:i.roleName}),t),t)},this.getSelectedItems=(e,t)=>p.filterValidRoles(e,t.roles),this.getItemAddedStatusMessage=e=>this.props.localize.translate("ip.editModule.rolesSelector.selectionAdded",{item:e.name}),this.removeButtonAriaLabel=e=>this.props.localize.translate("ip.editModule.rolesSelector.removeSelection",{item:e.name}),this.allUsers=()=>[{key:f,name:this.translations.allUsers}],this.isAllUsers=e=>1===e.length&&e[0].key===f,this.allUsersStringPopulated=()=>""!==this.props.localize.translate("ip.moduleList.allUsers"),this.translations={};const t=this.getSelectedItems(e.institutionRoleIds,e.role);this.state={hasFocusedInput:!1,isLoading:e.role.loading,selectedItems:t,disabledPickerItems:!t.length}}UNSAFE_componentWillReceiveProps(e){const t={};e.expandRoles&&!this.state.hasFocusedInput&&this.allUsersStringPopulated()&&(this.shouldFocusPickerOnNextUpdate=!0,t.hasFocusedInput=!0);const i=e.institutionRoleIds!==this.props.institutionRoleIds,a=e.role.roles!==this.props.role.roles;if(i||a){const i=this.getSelectedItems(e.institutionRoleIds,e.role);e.role.loading||i.length===e.institutionRoleIds.length?(t.isLoading=e.role.loading,t.selectedItems=i,t.disabledPickerItems=!i.length):e.onUpdateInstitutionRoleIds(i.map(e=>e.key))}this.setState(()=>t)}componentDidUpdate(){if(this.shouldFocusPickerOnNextUpdate&&this.picker&&(this.shouldFocusPickerOnNextUpdate=!1,this.picker.input.focus()),null!==this.nextFocus&&this.picker){const e=document.querySelectorAll("button.ms-TagItem-close")[this.nextFocus];e&&e.focus(),this.nextFocus=null}}render(){const{translate:e}=this.props.localize;return this.translations.allUsers=e("ip.moduleList.allUsers"),this.translations.inputPlaceholder=e("ip.editModule.rolesSelector.inputPlaceholder"),this.translations.noResults=e("ip.editModule.rolesSelector.noResults"),this.translations.suggestionsAvailable=e("ip.editModule.rolesSelector.suggestionsAvailable"),s.default.createElement("div",{className:"role-picker-container"},s.default.createElement(o.TagPicker,{horizontalLayout:!0,componentRef:e=>{this.picker=e},disabledPickerItems:this.state.disabledPickerItems,onEmptyInputFocus:this.onEmptyInputFocus,onChange:this.onSelectedChange,onResolveSuggestions:this.onFilterChanged,selectedItems:this.state.selectedItems.length?this.state.selectedItems:this.allUsers(),isLoading:this.state.isLoading,getItemAddedStatusMessage:this.getItemAddedStatusMessage,removeButtonAriaLabel:this.removeButtonAriaLabel,pickerSuggestionsProps:{noResultsFoundText:this.translations.noResults,suggestionsAvailableAlertText:this.translations.suggestionsAvailable},inputLabel:this.translations.inputPlaceholder,analyticsId:`${this.props.analyticsId}.tagPicker`}))}}t.BaseRolePicker=m,m.propTypes={role:c.default.isRequired,institutionRoleIds:l.default.arrayOf(l.default.string).isRequired,expandRoles:l.default.bool.isRequired,onUpdateInstitutionRoleIds:l.default.func.isRequired,localize:u.default.isRequired,...d.withAnalyticsProps};const h=n.localizedComponentWrapper(m);t.LocalizedRolePicker=h,t.default=r.withAnalytics(h)},mFPq:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("ERkP")),l=a.__importDefault(i("aWzz")),n=a.__importDefault(i("O94r")),o=i("8unJ"),r=i("myse"),d=i("f16b"),u=a.__importDefault(i("bA9G")),c=i("iOHJ"),p=i("7ONb");i("ucOn");class f extends s.default.Component{constructor(e){super(e),this.state={disableTabIndex:e.disableLinks?{tabIndex:-1}:{}},this.boundConvertLinkToListItem=this.convertLinkToListItem.bind(this),this.boundOpenAllWrapper=this.openAllWrapper.bind(this)}openAllWrapper(e){this.props.disableLinks||(e.preventDefault(),this.props.openAll(this.props.moduleId))}changeActiveLinkIdWrapper(e,t){t<this.props.maxActiveLinkIndex&&this.props.changeActiveLinkId(e)}singleLinkClassName(e){return n.default({"disable-link":this.props.disableLinks,"link-list-component__link":!0,"-black":!0,active:this.props.maxActiveLinkIndex>1&&e===this.props.activeLinkIndex})}convertLinkToListItem(e,t){const i=`${this.props.analyticsId}.link`;return s.default.createElement("li",{className:"link-list-component__list-item",key:e.id},s.default.createElement("a",Object.assign({},this.props.disableLinks?{}:{href:p.sanitizeLinkUrl(e.link)},{rel:"noopener noreferrer",target:"_blank",role:"link"},this.state.disableTabIndex,{className:this.singleLinkClassName(t),onMouseMove:()=>this.changeActiveLinkIdWrapper(e.id,t),onFocus:()=>this.changeActiveLinkIdWrapper(e.id,t),onClick:this.props.analyticsEventAugmentor(r.AnalyticsEventTypes.CLICK_EVENT,()=>{},i),"data-analytics-id":i}),e.title))}render(){const{maxColumns:e,disableLinks:t,customClasses:i,localize:a,items:l,analyticsId:o,analyticsEventAugmentor:d}=this.props,u=[...l],p=[];for(let t=1;t<e&&u.length>c.MAX_LINKS_PER_COLUMN;t++)p.push(s.default.createElement("div",{className:"link-list-component__column",key:t},s.default.createElement("ul",{className:"link-list-component__list"},u.splice(0,c.MAX_LINKS_PER_COLUMN).map(this.boundConvertLinkToListItem))));const f=u.length>c.MAX_LINKS_PER_COLUMN,m=n.default({"disabled-view-all":t,"link-list-component__link":!0,"link-list-component__show-all-button":!0}),h=`${o}.view-all.button`,g=f?s.default.createElement("li",{className:"link-list-component__list-item js-show-all-list-item"},s.default.createElement("button",Object.assign({},this.state.disableTabIndex,{"aria-disabled":t,className:m,onClick:d(r.AnalyticsEventTypes.CLICK_EVENT,this.boundOpenAllWrapper,h),"data-analytics-id":h}),s.default.createElement("span",{className:"link-list-component__show-all"},a.translate("ip.moduleList.showAllText",{linkCount:l.length})))):"",_=(f?u.slice(0,c.MAX_LINKS_PER_COLUMN-1):u).map(this.boundConvertLinkToListItem),E=s.default.createElement("div",{className:"link-list-component__column"},s.default.createElement("ul",{className:"link-list-component__list"},_,g)),y=i?`link-list-component ${i}`:"link-list-component";return s.default.createElement("div",{className:y},p,E)}}t.BaseLinkList=f,f.getDerivedStateFromProps=(e,t)=>{let i=null;return e.disableLinks&&!t.disableTabIndex.tabIndex?i={disableTabIndex:{tabIndex:-1}}:!e.disableLinks&&t.disableTabIndex.tabIndex&&(i={disableTabIndex:{}}),i},f.propTypes={activeLinkIndex:l.default.number,items:l.default.arrayOf(l.default.shape({title:l.default.string.isRequired,link:l.default.string.isRequired,id:l.default.string.isRequired})).isRequired,openAll:l.default.func,changeActiveLinkId:l.default.func,maxActiveLinkIndex:l.default.number,moduleId:l.default.string,disableLinks:l.default.bool,maxColumns:l.default.oneOf([c.NUM_LINK_COLUMNS_WITH_IMAGE,c.NUM_LINK_COLUMNS_WITHOUT_IMAGE]),customClasses:l.default.string,localize:u.default.isRequired,...d.withAnalyticsProps},f.defaultProps={activeLinkIndex:-1,disableLinks:!1,openAll:()=>{},changeActiveLinkId:()=>{},maxActiveLinkIndex:-1,moduleId:null,maxColumns:c.NUM_LINK_COLUMNS_WITH_IMAGE,customClasses:null};const m=o.localizedComponentWrapper(f);t.LocalizedLinkList=m,t.default=r.withAnalytics(m)},mjNg:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("3SOn"));t.default=a.default},nBnM:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("ERkP")),l=a.__importDefault(i("aWzz")),n=i("8unJ"),o=i("myse"),r=i("f16b"),d=i("2lnG"),u=i("xK1l"),c=a.__importDefault(i("Y/Sv")),p=a.__importDefault(i("6fMO")),f=a.__importDefault(i("4M3I")),m=a.__importDefault(i("nH+s")),h=a.__importDefault(i("hR7O")),g=a.__importDefault(i("bA9G")),_=a.__importDefault(i("6wo1")),E=i("7ONb"),y=i("tN4z");i("b2TE");const b=i("0x+l"),I=i("N5Iw");function D(e,t,i){const{session:a,imageToSave:s}=e,l=a.image||null;let n=!1,o="",r="";return l&&(n=!!l.details[t],o=s?s.url:l.details[t],r=s?s.id:l.details[i]),{resource:l,imageUrl:o,imageId:r,enableTrashIcon:n,saveDisabled:!0,isShowPopup:!1,imageIsLoading:!1,imageIsError:!1}}class v extends s.default.Component{constructor(e){super(e),this.onInsertImage=()=>{const e=this.state.imageUrl;if(e){const t=new Image;t.src=E.convertToAbsoluteUrl(e),this.setState({imageIsLoading:!0}),t.onload=()=>{const t=e;this.setState(e=>({resource:{...e.resource,details:{...e.resource.details,[this.hrefKey]:t,[this.imageIdKey]:e.imageId}},saveDisabled:!1,imageIsLoading:!1,enableTrashIcon:!0}))},t.onerror=()=>{this.setState({imageIsError:!0,imageIsLoading:!1,imageUrl:""})}}},this.onPopupOk=()=>{this.setState(e=>({resource:{...e.resource,details:{...e.resource.details,[this.hrefKey]:"",[this.imageIdKey]:""}},saveDisabled:!1,isShowPopup:!1,enableTrashIcon:!1,imageUrl:"",imageId:""}))},this.onPopupCancel=()=>{this.setState({isShowPopup:!1})},this.onInputChange=e=>{e.target.value.trim(),this.setState({imageUrl:e.target.value})},this.onCloseError=()=>{this.setState({imageIsError:!1,imageUrl:"",imageId:""})},this.clickDeleteOnPreview=()=>{this.setState({isShowPopup:!0})},this.clickSave=()=>{this.props.dispatch(d.setSessionImage(this.state.resource)),this.props.onClose()},this.clickCancel=()=>{this.props.onClose()},this.hrefKey="imageHref",this.imageIdKey="imageId",this.state=D(e,this.hrefKey,this.imageIdKey)}componentDidMount(){this.props.imageToSave&&this.state.imageUrl&&this.onInsertImage()}UNSAFE_componentWillReceiveProps(e){e.session.image&&e.session.image.id!==e.linkId&&e.onClose(),null===this.state.resource&&this.setState(D(e,this.hrefKey)),e.imageToSave&&e.imageToSave.url!==this.state.imageUrl&&this.setState(()=>({imageUrl:e.imageToSave.url,imageId:e.imageToSave.id}),this.onInsertImage)}render(){const e="institutionPage.editImage.resource",t=this.props.localize.translate,{resource:i,enableTrashIcon:a}=this.state,l=`${e}.deleteImage.button`,n=a?s.default.createElement("button",{className:"edit-image-component__delete-icon",onClick:this.props.analyticsEventAugmentor(o.AnalyticsEventTypes.CLICK_EVENT,this.clickDeleteOnPreview,l),"data-analytics-id":l,"aria-label":t("ip.editPage.deleteImageTitle")},s.default.createElement(b.Trash,null)):"",r=this.state.imageIsLoading?s.default.createElement(y.AnalyticsCircularProgress,null):null,d=[{text:t("ip.editPage.invalidImageBtn"),action:this.onCloseError}],m=i&&i.details[this.hrefKey]?E.convertToAbsoluteUrl(i.details[this.hrefKey]):I,h=this.props.imageToSave?t("ip.editPage.confirmRemoveImageContent"):t("ip.editPage.confirmRemoveImageContentWarning");return s.default.createElement("div",null,s.default.createElement("div",{className:"edit-image-component flex-page-container"},this.state.isShowPopup?s.default.createElement(u.ConfirmationPopup,{title:t("ip.editPage.confirmDeleteTitle"),id:"resource-image-delete-confirmation",content:h,onOk:this.onPopupOk,onOkText:t("ip.editPage.confirmDeleteBtn"),onCancel:this.onPopupCancel,onCancelText:t("ip.editPage.cancelDeleteBtn"),analyticsId:`${e}.confirmation.popup`}):"",this.state.imageIsError?s.default.createElement(u.CustomPopup,{title:t("ip.editPage.invalidImageSelectedTitle"),id:"edit-resource-image-error",content:t("ip.editPage.invalidImageSelectedContent"),onCancel:this.onCloseError,customControls:d,elementToFocusOnDismiss:this.contentCollectionLauncher,analyticsId:`${e}.error.popup`}):"",s.default.createElement("div",{className:"flex-page-content has-footer"},s.default.createElement(c.default,{superTitle:t("ip.editPage.superTitle"),title:t("ip.editPage.editLinkImage"),browserSettingsHref:this.props.contentCollectionSettings.browserSettingsHref,analyticsId:`${e}.header`}),s.default.createElement("div",{className:"flex-page-content__grow edit-image-component__content"},s.default.createElement("div",{className:"edit-image-component__preview"},n,r,s.default.createElement("img",{className:"edit-image-component__preview-img",src:m,alt:""})),s.default.createElement("div",{className:"edit-image-component__content-collection"},s.default.createElement(f.default,{customClasses:"edit-logo-component__content_collection_button",contentCollectionSettings:this.props.contentCollectionSettings,focusRef:e=>{this.contentCollectionLauncher=e},analyticsId:`${e}.content.launcher`}),!this.state.saveDisabled&&this.state.imageUrl&&s.default.createElement("div",{role:"alert","aria-live":"assertive",className:"edit-image-component__content-collection-warning",id:"edit-image-component-content-collection-warning"},t("ip.editPage.contentCollectionResourcePermissionMessage")))))),s.default.createElement(p.default,{clickPrimary:this.clickSave,disabledPrimary:this.state.saveDisabled,textPrimary:t("ip.editPage.saveChangesBtn"),ariaPrimary:t("ip.editPage.saveChangesAria"),clickSecondary:this.clickCancel,textSecondary:t("ip.editPage.cancelChangesBtn"),ariaSecondary:t("ip.editPage.cancelChangesAria"),analyticsId:`${e}.footer`}))}}v.propTypes={dispatch:l.default.func.isRequired,linkId:l.default.string,session:_.default.isRequired,localize:g.default.isRequired,onClose:l.default.func.isRequired,contentCollectionSettings:h.default,imageToSave:m.default,...r.withAnalyticsProps},v.defaultProps={linkId:null,imageToSave:null,contentCollectionSettings:null};const R=n.localizedComponentWrapper(v);t.LocalizedEditResourceImage=R,t.default=o.withAnalytics(R)},"nH+s":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("aWzz"));t.default=a.default.shape({url:a.default.string.isRequired,id:a.default.string.isRequired})},"nZ3+":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("ERkP")),l=a.__importDefault(i("aWzz")),n=i("8unJ"),o=i("myse"),r=i("f16b"),d=a.__importDefault(i("8W9E")),u=a.__importDefault(i("mFPq")),c=a.__importDefault(i("rB6G")),p=a.__importDefault(i("D3Id")),f=i("iOHJ"),m=a.__importDefault(i("BnC3")),h=a.__importDefault(i("vlH4")),g=i("2lnG"),_=i("7ONb");i("MRKp");class E extends s.default.Component{constructor(e){super(e),this.onChangeActiveLinkId=e=>this.setState(()=>({activeLinkIndex:this.getLinkIndexById(e)})),this.getLinkResources=e=>e.reduce((e,t)=>(t.type===c.default.LINK&&e.push({imageHref:t.details.imageHref||"",link:t.details.href,title:t.details.title,id:t.id}),e),[]),this.getLinkResourcesWithImage=e=>e.filter(e=>e.imageHref),this.getLinkIndexById=e=>this.state.linkResources.map(e=>e.id).indexOf(e),this.openAllLinksPeek=e=>{const{openAll:t,dispatch:i}=this.props;return i(g.checkModuleVisibility(e)).then(()=>{t(e)}).catch(e=>{if(e!==h.default.GET_MODULE_VISIBILITY)throw e})};const t=this.getLinkResources(e.module.resources),i=this.getLinkResourcesWithImage(t),a=i.length?0:-1;this.state={activeLinkIndex:a,linkResources:t,linkResourcesWithImage:i}}UNSAFE_componentWillReceiveProps(e){if(!n.shallowEqual(e.module.resources,this.props.module.resources)){const t=this.getLinkResources(e.module.resources),i=this.getLinkResourcesWithImage(t);let a=this.state.activeLinkIndex;-1===a&&i.length?a=0:a>=0&&!i.length&&(a=-1),this.setState(()=>({activeLinkIndex:a,linkResources:t,linkResourcesWithImage:i}))}}render(){const{module:e,analyticsId:t}=this.props;switch(_.determineImageOrientation(e)){case p.default.RIGHT:return s.default.createElement("div",{className:"image-links-component__container-right"},s.default.createElement(u.default,{activeLinkIndex:this.state.activeLinkIndex,items:this.state.linkResources,openAll:this.openAllLinksPeek,changeActiveLinkId:this.onChangeActiveLinkId,maxActiveLinkIndex:this.state.linkResourcesWithImage.length,moduleId:e.id,disableLinks:this.props.preview,customClasses:"link-list-image-right",analyticsId:`${t}.imageOrientationRight.linkList`}),s.default.createElement(d.default,{images:this.state.linkResourcesWithImage,index:this.state.activeLinkIndex}));case p.default.NONE:return s.default.createElement("div",{className:"image-links-component__container"},s.default.createElement(u.default,{items:this.state.linkResources,openAll:this.openAllLinksPeek,moduleId:e.id,disableLinks:this.props.preview,maxColumns:f.NUM_LINK_COLUMNS_WITHOUT_IMAGE,customClasses:"link-list-no-image",analyticsId:`${t}.imageOrientationNone.linkList`}));default:return s.default.createElement("div",{className:"image-links-component__container-left"},s.default.createElement(d.default,{images:this.state.linkResourcesWithImage,index:this.state.activeLinkIndex}),s.default.createElement(u.default,{activeLinkIndex:this.state.activeLinkIndex,items:this.state.linkResources,openAll:this.openAllLinksPeek,changeActiveLinkId:this.onChangeActiveLinkId,maxActiveLinkIndex:this.state.linkResourcesWithImage.length,moduleId:e.id,disableLinks:this.props.preview,customClasses:"link-list-image-left",analyticsId:`${t}.imageOrientationLeft.linkList`}))}}}t.BaseImageLinksModule=E,E.propTypes={module:m.default.isRequired,dispatch:l.default.func.isRequired,openAll:l.default.func.isRequired,preview:l.default.bool,...r.withAnalyticsProps},E.defaultProps={preview:!1};const y=o.withAnalytics(E);t.default=y},o5pc:function(e,t,i){"use strict";i.r(t)},oA99:function(e,t,i){"use strict";i.r(t)},oIhF:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("cvLf"));t.default=a.default},pXEe:function(e,t,i){"use strict";i.r(t)},q6cp:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("FzJq"),s=i("wg1p");t.START_ROLE_XHR="role.start.xhr",t.ROLES_RECEIVED="role.received",t.FETCH_ROLES="role.get.all",t.startRoleXhr=()=>({type:t.START_ROLE_XHR}),t.rolesReceived=e=>({type:t.ROLES_RECEIVED,roles:e}),t.fetchRoles=()=>e=>a.getRoles().then(i=>e(t.rolesReceived(i))).catch(i=>e(s.Action(s.fail(t.FETCH_ROLES),{err:i})))},qrct:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("2lnG"),s={loading:!0,roles:null};t.default=function(e=s,t){if(t.type.startsWith("role.")&&t.type.endsWith(".fail"))return{...e,loading:!1};switch(t.type){case a.ROLES_RECEIVED:return{...e,roles:t.roles,loading:!1};case a.START_ROLE_XHR:return{...e,loading:!0};default:return e}}},r3nL:function(e,t,i){"use strict";i.r(t)},r9mI:function(e,t,i){"use strict";i.r(t)},rB6G:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={LINK:"LINK",IMAGE:"IMAGE",CONTENT:"CONTENT",LAYOUT:"LAYOUT"}},raco:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("ERkP")),l=a.__importDefault(i("aWzz")),n=i("MC1S"),o=a.__importDefault(i("dBOD")),r=i("f16b"),d=({content:e,id:t,title:i,subText:a,customControls:l,onCancel:r,elementToFocusOnDismiss:d,analyticsId:u,isAlert:c})=>{const p=e=>t=>{e.action(t)};return s.default.createElement(o.default,{content:e,id:t,title:i,subText:a,onCancel:r,elementToFocusOnDismiss:d,analyticsId:`${u}`,isAlert:c},s.default.createElement(n.DialogFooter,null,l.map((e,t)=>s.default.createElement(n.DefaultButton,{key:e.text,onClick:p(e),text:e.text,primary:t===l.length-1,className:`js-${e.id}-button`,analyticsId:`${u}.${e.text}.button`}))))};d.propTypes={content:l.default.oneOfType([l.default.string,l.default.element]).isRequired,id:l.default.string.isRequired,title:l.default.string.isRequired,customControls:l.default.arrayOf(l.default.shape({action:l.default.func,text:l.default.string})).isRequired,onCancel:l.default.func,elementToFocusOnDismiss:l.default.element,...r.addAnalyticsProps},d.defaultProps={onCancel:()=>{},elementToFocusOnDismiss:null},t.default=d},"s/PA":function(e,t,i){"use strict";i.r(t)},sTma:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.areRolesValid=(e,t)=>{for(let i=0;i<(e||[]).length;i++)if(!t.some(t=>t.roleKey===e[i]))return!1;return!0},t.filterValidRoles=(e,t)=>e.reduce((e,i)=>{const a=(t||[]).find(e=>e.roleKey===i);return a&&e.push({key:a.roleKey,name:a.roleName}),e},[]),t.generateAudienceLabel=(e,t,i,a)=>{let s;switch((e||[]).length){case 0:s=i;break;case 1:s=((e,t)=>{const i=(t||[]).find(t=>t.roleKey===e);return i&&i.roleName||e})(e[0],t);break;default:s=a}return s}},skTy:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={Error:"Error",FilePermissionUpdateError:"FilePermissionUpdateError",NotFoundError:"NotFoundError"}},u60F:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("ERkP")),l=a.__importDefault(i("aWzz")),n=i("myse"),o=i("f16b");i("o5pc");const r=({ariaPrimary:e,clickPrimary:t,disabledPrimary:i,textPrimary:a,ariaSecondary:l,clickSecondary:o,disabledSecondary:r,textSecondary:d,analyticsId:u})=>s.default.createElement("footer",{className:"panel-footer-component"},s.default.createElement("div",{className:"panel-footer-component__buttons"},s.default.createElement("button",{className:"button button--secondary panel-footer-component__button",onClick:n.useAnalyticsAugmentEventOnElement("click",o,`${u}.${d}.button`),disabled:r,"aria-label":l},d),s.default.createElement("button",{className:"button button--primary panel-footer-component__button",onClick:n.useAnalyticsAugmentEventOnElement("click",t,`${u}.${a}.button`),disabled:i,"aria-label":e},a)));r.propTypes={ariaPrimary:l.default.string.isRequired,clickPrimary:l.default.func.isRequired,disabledPrimary:l.default.bool,textPrimary:l.default.string.isRequired,ariaSecondary:l.default.string.isRequired,clickSecondary:l.default.func.isRequired,disabledSecondary:l.default.bool,textSecondary:l.default.string.isRequired,...o.addAnalyticsProps},r.defaultProps={disabledPrimary:!1,disabledSecondary:!1},t.default=r},ucOn:function(e,t,i){"use strict";i.r(t)},uxYL:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("aWzz")),l=a.__importDefault(i("BnC3"));t.default=s.default.shape({loading:s.default.bool.isRequired,modules:s.default.arrayOf(l.default),receivedAt:s.default.number})},v8Bx:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("ERkP")),l=a.__importDefault(i("aWzz")),n=a.__importDefault(i("O94r")),o=i("myse"),r=i("0x+l"),d=i("8unJ"),u=a.__importDefault(i("aqxk")),c=a.__importDefault(i("bA9G")),p=a.__importDefault(i("d1Rw")),f=i("YxpF"),m=a.__importDefault(i("mjNg")),h=i("7ONb"),g=i("f16b");class _ extends s.default.Component{constructor(e){super(e),this.validateLinkNameInput=e=>this.props.onValidateInput(e,this.translations.linkNamePlaceholder,this.translations.validateTooLongMessage),this.validateLinkNameInput=e=>this.props.onValidateInput(e,this.translations.linkNamePlaceholder,this.translations.validateTooLongMessage),this.validateLinkURLInput=e=>h.validateIsEmpty(e,this.translations.linkURLPlaceholder),this.handleAddLinkButtonClick=e=>this.props.onInsertLink(e,this.props.rowIndex+1+this.props.offset),this.handleDeleteButtonClick=e=>this.props.onDelete(e,this.props.link.id),this.handleOpenEditLinkImageButtonClick=e=>this.props.onOpenEditLinkImage(e,this.props.link),this.handleDeleteLinkImageButtonClick=e=>this.props.onDeleteEditLinkImage(e,this.props.link.id),this.translations={}}render(){const{link:e,dragPointRef:t,localize:i,canBeReordered:a,onUpdateResource:l,hasMaxImages:d,isImageColVisible:c,analyticsId:p,analyticsEventAugmentor:h}=this.props,g=i.translate;this.translations.validateTooLongMessage=g("ip.editModule.validateTooLongMessage"),this.translations.linkNamePlaceholder=g("ip.editModule.linkNamePlaceholder"),this.translations.linkURLPlaceholder=g("ip.editModule.linkURLPlaceholder"),this.translations.createLinkBtn=g("ip.editModule.createLinkBtn");const _=e.details.title,E=n.default({"module-table__button":!0,"drag-point":!0,hidden:!a});return s.default.createElement("div",{className:"module-table__row-container",id:`dnd-${e.id}`,key:e.id},s.default.createElement("div",{className:"module-table__row module-content__row drag-drop-item__highlight-area",tabIndex:-1},s.default.createElement("div",{className:"module-table__cells module-content__cells"},c&&s.default.createElement(m.default,{link:e,hasMaxImages:d,handleOpenEditLinkImageButtonClick:this.handleOpenEditLinkImageButtonClick,handleDeleteLinkImageButtonClick:this.handleDeleteLinkImageButtonClick,buttonTitle:_,analyticsId:`${p}.imageEdit`}),s.default.createElement("div",{className:"module-table__cell module-content__name-column"},s.default.createElement(u.default,{id:e.id,content:e.details.title,attr:"title",buttonTitle:g("ip.editModule.editLinkName",{linkName:_}),onValueChange:l,onValidateInput:this.validateLinkNameInput,placeholder:this.translations.linkNamePlaceholder,analyticsId:`${p}.titleEdit`})),s.default.createElement("div",{className:"module-table__cell module-content__url-column"},s.default.createElement(u.default,{id:e.id,content:e.details.href,attr:"href",buttonTitle:g("ip.editModule.editLinkURL",{linkName:_}),onValueChange:l,onValidateInput:this.validateLinkURLInput,placeholder:this.translations.linkURLPlaceholder,analyticsId:`${p}.urlEdit`}))),s.default.createElement("div",{className:"module-table__row-actions module-content__buttons"},s.default.createElement("div",{ref:t,className:E,draggable:!0,role:"button",tabIndex:"0",id:`${e.id}-drag-point`,"aria-label":g("ip.editModule.moveLinkBtn",{linkName:_})},s.default.createElement(r.MoveItemUpDown,null)),s.default.createElement("button",{onClick:h(o.AnalyticsEventTypes.CLICK_EVENT,this.handleDeleteButtonClick,`${p}.delete-item.button`),className:"module-table__button","aria-label":g("ip.editModule.deleteLinkBtn",{linkName:_})},s.default.createElement(r.Trash,null)))),s.default.createElement(f.InsertButton,{onClick:this.handleAddLinkButtonClick,buttonTitle:this.translations.createLinkBtn,analyticsId:`${p}`}))}}t.BaseLinkResourceRow=_,_.defaultProps={offset:0,onDeleteEditLinkImage:()=>{},onOpenEditLinkImage:()=>{},hasMaxImages:!1,isImageColVisible:!0},_.propTypes={link:p.default.isRequired,rowIndex:l.default.number.isRequired,offset:l.default.number,localize:c.default.isRequired,canBeReordered:l.default.bool.isRequired,onDelete:l.default.func.isRequired,onUpdateResource:l.default.func.isRequired,onInsertLink:l.default.func.isRequired,onDeleteEditLinkImage:l.default.func,onOpenEditLinkImage:l.default.func,onValidateInput:l.default.func.isRequired,dragPointRef:l.default.func.isRequired,hasMaxImages:l.default.bool,isImageColVisible:l.default.bool,...g.withAnalyticsProps};const E=d.localizedComponentWrapper(_);t.LocalizedLinkResourceRow=E,t.default=o.withAnalytics(E)},vlH4:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={UPDATE_PAGES:"updatePages failure",GET_MODULE_VISIBILITY:"getModuleVisibility failure"}},w35b:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("ERkP")),l=a.__importDefault(i("aWzz")),n=i("8unJ"),o=i("myse"),r=i("f16b"),d=a.__importDefault(i("hR7O")),u=a.__importDefault(i("bA9G"));class c extends s.default.Component{render(){const{contentCollectionSettings:e,customClasses:t,localize:i,focusRef:a,analyticsId:l,analyticsEventAugmentor:n,imageDimensionMessage:r}=this.props,d=i.translate,u=`${l}.insertFromCollection.link`,c=`${l}.insertFromCollection.button`;return e.shouldShowWindowSettingModal?s.default.createElement("button",{className:`button button--primary ${t}`,onClick:n(o.AnalyticsEventTypes.CLICK_EVENT,e.openWindowSettingModal,c),"data-analytics-id":c,"aria-label":d("ip.editPage.insertFromContentCollectionAria"),ref:a},d("ip.editPage.insertFromContentCollectionBtn")):s.default.createElement("a",{className:`button button--primary ${t}`,href:e.pickerHref,target:e.shouldOpenInNewWindow?"_blank":"","aria-label":`${d("ip.editPage.insertFromContentCollectionAria")} ${r}`,ref:a,rel:e.shouldOpenInNewWindow?"opener":"",onClick:n(o.AnalyticsEventTypes.CLICK_EVENT,()=>{},u),"data-analytics-id":u},d("ip.editPage.insertFromContentCollectionBtn"))}}t.BaseContentCollectionLauncher=c,c.propTypes={contentCollectionSettings:d.default.isRequired,customClasses:l.default.string,localize:u.default.isRequired,focusRef:l.default.func,imageDimensionMessage:l.default.string,...r.withAnalyticsProps},c.defaultProps={customClasses:"",focusRef:()=>{},imageDimensionMessage:""};const p=n.localizedComponentWrapper(c);t.LocalizedContentCollectionLauncher=p,t.default=o.withAnalytics(p)},wTRC:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("2xZF"));t.default=a.default},wg1p:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Action=(e,t)=>({type:e,...t}),t.ok=e=>`${e}.ok`,t.fail=e=>`${e}.fail`},wgJx:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("ERkP")),l=a.__importDefault(i("aWzz")),n=i("uDfI"),o=i("7ONb"),r=a.__importDefault(i("uxYL")),d=a.__importDefault(i("bLwh")),u=a.__importDefault(i("GRnb")),c=i("2lnG");t.default=e=>{class t extends s.default.Component{constructor(){super(...arguments),this.getCurrentModule=(e,t)=>{const i=e?e.filter(e=>e.id===t):[];return i.length>0?i[0]:null},this.saveModule=e=>{const t={moduleId:e.id};return t.module=e,this.props.dispatchStartModuleXhr(),this.props.dispatchUpdateModule(t)||Promise.resolve()}}render(){const t=this.getCurrentModule(this.props.moduleList.modules,this.props.moduleId);return s.default.createElement("div",{className:"existing-module-loader"},!t||this.props.moduleList.loading?s.default.createElement(u.default,null):s.default.createElement(e,Object.assign({module:t,role:this.props.role,saveModule:this.saveModule},o.omit(this.props,"moduleList","moduleId","dispatchStartModuleXhr","dispatchUpdateModule"))))}}t.propTypes={moduleList:r.default.isRequired,role:d.default.isRequired,moduleId:l.default.string.isRequired,dispatchStartModuleXhr:l.default.func.isRequired,dispatchUpdateModule:l.default.func.isRequired},t.displayName=`ExistingModule(${o.getDisplayName(e)})`;return n.connect(e=>({moduleList:e.module,role:e.role,session:e.session}),e=>({dispatch:e,dispatchStartModuleXhr:()=>e(c.startModuleXhr()),dispatchUpdateModule:t=>e(c.updateModule(t))}))(t)}},whYV:function(e,t,i){"use strict";i.r(t)},xK1l:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K"),s=a.__importDefault(i("6ZFR"));t.ConfirmationPopup=s.default;const l=a.__importDefault(i("raco"));t.CustomPopup=l.default},"xNW+":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("8iF6"));t.default=a.default},yCqE:function(e,t,i){"use strict";i.r(t)},yaUO:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i("D57K").__importDefault(i("N0gT"));t.default=a.default},yeoA:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("9wzl");t.SessionModuleSelector=a.default;var s=i("wgJx");t.ExistingModuleSelector=s.default},zeob:function(e,t,i){"use strict";i.r(t)}}]);