(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"+IdX":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("wto5"),o=n("4vD5");i.ColorStyle.createChange=(e=o.colors.Black)=>({format:{color:e}}),t.default=i.ColorStyle},"+jc/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=n("pCoU"),r=i.__importDefault(n("oB8T")),a=new r.default.Attributor.Style("bullet-size","font-size",{scope:r.default.Scope.BLOCK});function s(e){return`${(.6715*parseFloat(e.match(/[+-]?\d+(\.\d+)?/g))+.7315).toFixed(3)}rem`}t.customListItemSizeAttributor=a;class l extends o.ListItem{optimize(e){var t,n;if(super.optimize(e),this.children.length>0){const e=this.children.head,i=e.attributes;if(i&&i.attributes.size){const t=i.attributes.size.value(e.domNode),n=s(t);return super.format("bullet-size",t),void super.format("rtl"===document.dir?"custom-indent-rtl":"custom-indent",n)}if(null===(n=null===(t=this.children.head.domNode)||void 0===t?void 0:t.style)||void 0===n?void 0:n.fontSize){const e=this.children.head.domNode.style.fontSize,t=s(e);super.format("bullet-size",e),super.format("rtl"===document.dir?"custom-indent-rtl":"custom-indent",t)}}else Object.prototype.hasOwnProperty.call(this.attributes,"bullet-size")&&super.format("bullet-size",null)}}t.CustomListItem=l},"/9DS":function(e,t,n){"use strict";var i=n("Uf5f");e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(i("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},"/Tr/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.stopImmediatePropagation(),e.stopPropagation()},t.stopEvent=function(e){return e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),!1}},"06eB":function(e,t,n){var i=n("ey2t"),o=n("qnX1"),r=n("eYkv"),a=n("UV1p"),s=n("R6B+"),l=n("hoKw"),u=Date.prototype.getTime;function c(e,t,n){var p=n||{};return!(p.strict?!r(e,t):e!==t)||(!e||!t||"object"!=typeof e&&"object"!=typeof t?p.strict?r(e,t):e==t:function(e,t,n){var r,p;if(typeof e!=typeof t)return!1;if(d(e)||d(t))return!1;if(e.prototype!==t.prototype)return!1;if(o(e)!==o(t))return!1;var h=a(e),m=a(t);if(h!==m)return!1;if(h||m)return e.source===t.source&&s(e)===s(t);if(l(e)&&l(t))return u.call(e)===u.call(t);var b=f(e),g=f(t);if(b!==g)return!1;if(b||g){if(e.length!==t.length)return!1;for(r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}if(typeof e!=typeof t)return!1;try{var y=i(e),v=i(t)}catch(e){return!1}if(y.length!==v.length)return!1;for(y.sort(),v.sort(),r=y.length-1;r>=0;r--)if(y[r]!=v[r])return!1;for(r=y.length-1;r>=0;r--)if(p=y[r],!c(e[p],t[p],n))return!1;return!0}(e,t,p))}function d(e){return null==e}function f(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}e.exports=c},"0isv":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){setTimeout(()=>{const n=document.createElement("input");n.style.width=0,n.style.height=0,n.style.opacity=0,n.setAttribute("aria-hidden","true"),n.tabIndex=-1,e.appendChild(n),n.focus(),n.remove(),t()},0)}},"0zX2":function(e,t,n){"use strict";var i=n("P0jV");e.exports=i.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var i=e;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=i.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},"1kYa":function(e,t,n){"use strict";n.r(t)},"1x17":function(e,t,n){"use strict";n.r(t);var i=n("YNvz"),o=n.n(i),r=n("V6LY"),a=n.n(r),s=n("oB8T"),l=n.n(s),u=n("nuzP"),c=n("N8r5"),d=n("iZxV"),f=n("CbbY"),p=n("wto5"),h=(new l.a.Attributor.Class("background","ql-bg",{scope:l.a.Scope.INLINE}),new p.ColorAttributor("background","background-color",{scope:l.a.Scope.INLINE})),m=n("iH9P"),b=n("zkjf"),g=n("GBcM"),y=n("aiGC");function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var i,o,r=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function C(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return N(this,n)}}function N(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?w(e):t}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"default",(function(){return I})),n.d(t,"matchAttributor",(function(){return q})),n.d(t,"matchBlot",(function(){return U})),n.d(t,"matchNewline",(function(){return H})),n.d(t,"matchSpacing",(function(){return z})),n.d(t,"matchText",(function(){return K}));var x=Object(c.a)("quill:clipboard"),k="__ql-matcher",D=[[Node.TEXT_NODE,K],[Node.TEXT_NODE,H],["br",function(e,t){P(t,"\n")||t.insert("\n");return t}],[Node.ELEMENT_NODE,H],[Node.ELEMENT_NODE,U],[Node.ELEMENT_NODE,z],[Node.ELEMENT_NODE,q],[Node.ELEMENT_NODE,function(e,t){var n={},i=e.style||{};i.fontStyle&&"italic"===j(e).fontStyle&&(n.italic=!0);i.fontWeight&&(j(e).fontWeight.startsWith("bold")||parseInt(j(e).fontWeight)>=700)&&(n.bold=!0);Object.keys(n).length>0&&(t=M(t,n));parseFloat(i.textIndent||0)>0&&(t=(new a.a).insert("\t").concat(t));return t}],["li",function(e,t){var n=l.a.query(e);if(null==n||"list-item"!==n.blotName||!P(t,"\n"))return t;var i=-1,o=e.parentNode;for(;!o.classList.contains("ql-clipboard");)"list"===(l.a.query(o)||{}).blotName&&(i+=1),o=o.parentNode;return i<=0?t:t.compose((new a.a).retain(t.length()-1).retain(1,{indent:i}))}],["b",F.bind(F,"bold")],["i",F.bind(F,"italic")],["style",function(){return new a.a}]],R=[f.AlignAttribute,b.DirectionAttribute].reduce((function(e,t){return e[t.keyName]=t,e}),{}),L=[f.AlignStyle,h,p.ColorStyle,b.DirectionStyle,g.FontStyle,y.SizeStyle].reduce((function(e,t){return e[t.keyName]=t,e}),{}),I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(r,e);var t,n,i,o=T(r);function r(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=o.call(this,e,t)).quill.root.addEventListener("paste",n.onPaste.bind(w(n))),n.container=n.quill.addContainer("ql-clipboard"),n.container.setAttribute("contenteditable",!0),n.container.setAttribute("tabindex",-1),n.matchers=[],D.concat(n.options.matchers).forEach((function(e){var i=_(e,2),o=i[0],r=i[1];(t.matchVisual||r!==z)&&n.addMatcher(o,r)})),n}return t=r,(n=[{key:"addMatcher",value:function(e,t){this.matchers.push([e,t])}},{key:"convert",value:function(e){if("string"==typeof e)return this.container.innerHTML=e.replace(/\>\r?\n +\</g,"><"),this.convert();var t=this.quill.getFormat(this.quill.selection.savedRange.index);if(t[m.a.blotName]){var n=this.container.innerText;return this.container.innerHTML="",(new a.a).insert(n,E({},m.a.blotName,t[m.a.blotName]))}var i=_(this.prepareMatching(),2),o=i[0],r=i[1],s=function e(t,n,i){return t.nodeType===t.TEXT_NODE?i.reduce((function(e,n){return n(t,e)}),new a.a):t.nodeType===t.ELEMENT_NODE?[].reduce.call(t.childNodes||[],(function(o,r){var a=e(r,n,i);return r.nodeType===t.ELEMENT_NODE&&(a=n.reduce((function(e,t){return t(r,e)}),a),a=(r[k]||[]).reduce((function(e,t){return t(r,e)}),a)),o.concat(a)}),new a.a):new a.a}(this.container,o,r);return P(s,"\n")&&null==s.ops[s.ops.length-1].attributes&&(s=s.compose((new a.a).retain(s.length()-1).delete(1))),x.log("convert",this.container.innerHTML,s),this.container.innerHTML="",s}},{key:"dangerouslyPasteHTML",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.default.sources.API;if("string"==typeof e)this.quill.setContents(this.convert(e),t),this.quill.setSelection(0,u.default.sources.SILENT);else{var i=this.convert(t);this.quill.updateContents((new a.a).retain(e).concat(i),n),this.quill.setSelection(e+i.length(),u.default.sources.SILENT)}}},{key:"onPaste",value:function(e){var t=this;if(!e.defaultPrevented&&this.quill.isEnabled()){var n=this.quill.getSelection(),i=(new a.a).retain(n.index),o=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(u.default.sources.SILENT),setTimeout((function(){i=i.concat(t.convert()).delete(n.length),t.quill.updateContents(i,u.default.sources.USER),t.quill.setSelection(i.length()-n.length,u.default.sources.SILENT),t.quill.scrollingContainer.scrollTop=o,t.quill.focus()}),1)}}},{key:"prepareMatching",value:function(){var e=this,t=[],n=[];return this.matchers.forEach((function(i){var o=_(i,2),r=o[0],a=o[1];switch(r){case Node.TEXT_NODE:n.push(a);break;case Node.ELEMENT_NODE:t.push(a);break;default:[].forEach.call(e.container.querySelectorAll(r),(function(e){e[k]=e[k]||[],e[k].push(a)}))}})),[t,n]}}])&&C(t.prototype,n),i&&C(t,i),r}(d.default);function M(e,t,n){return"object"===v(t)?Object.keys(t).reduce((function(e,n){return M(e,n,t[n])}),e):e.reduce((function(e,i){return i.attributes&&i.attributes[t]?e.push(i):e.insert(i.insert,o()({},E({},t,n),i.attributes))}),new a.a)}function j(e){if(e.nodeType!==Node.ELEMENT_NODE)return{};return e["__ql-computed-style"]||(e["__ql-computed-style"]=window.getComputedStyle(e))}function P(e,t){for(var n="",i=e.ops.length-1;i>=0&&n.length<t.length;--i){var o=e.ops[i];if("string"!=typeof o.insert)break;n=o.insert+n}return n.slice(-1*t.length)===t}function B(e){if(0===e.childNodes.length)return!1;var t=j(e);return["block","list-item"].indexOf(t.display)>-1}function F(e,t,n){return M(n,e,!0)}function q(e,t){var n=l.a.Attributor.Attribute.keys(e),i=l.a.Attributor.Class.keys(e),o=l.a.Attributor.Style.keys(e),r={};return n.concat(i).concat(o).forEach((function(t){var n=l.a.query(t,l.a.Scope.ATTRIBUTE);null!=n&&(r[n.attrName]=n.value(e),r[n.attrName])||(null==(n=R[t])||n.attrName!==t&&n.keyName!==t||(r[n.attrName]=n.value(e)||void 0),null==(n=L[t])||n.attrName!==t&&n.keyName!==t||(n=L[t],r[n.attrName]=n.value(e)||void 0))})),Object.keys(r).length>0&&(t=M(t,r)),t}function U(e,t){var n=l.a.query(e);if(null==n)return t;if(n.prototype instanceof l.a.Embed){var i={},o=n.value(e);null!=o&&(i[n.blotName]=o,t=(new a.a).insert(i,n.formats(e)))}else"function"==typeof n.formats&&(t=M(t,n.blotName,n.formats(e)));return t}function H(e,t){return P(t,"\n")||(B(e)||t.length()>0&&e.nextSibling&&B(e.nextSibling))&&t.insert("\n"),t}function z(e,t){if(B(e)&&null!=e.nextElementSibling&&!P(t,"\n\n")){var n=e.offsetHeight+parseFloat(j(e).marginTop)+parseFloat(j(e).marginBottom);e.nextElementSibling.offsetTop>e.offsetTop+1.5*n&&t.insert("\n")}return t}function K(e,t){var n=e.data;if("O:P"===e.parentNode.tagName)return t.insert(n.trim());if(0===n.trim().length&&e.parentNode.classList.contains("ql-clipboard"))return t;if(!j(e.parentNode).whiteSpace.startsWith("pre")){var i=function(e,t){return(t=t.replace(/[^\u00a0]/g,"")).length<1&&e?" ":t};n=(n=n.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,i.bind(i,!0)),(null==e.previousSibling&&B(e.parentNode)||null!=e.previousSibling&&B(e.previousSibling))&&(n=n.replace(/^\s+/,i.bind(i,!1))),(null==e.nextSibling&&B(e.parentNode)||null!=e.nextSibling&&B(e.nextSibling))&&(n=n.replace(/\s+$/,i.bind(i,!1)))}return t.insert(n)}I.DEFAULTS={matchers:[],matchVisual:!0}},"2B5A":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=[".mp4"]},"2SZA":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("aWzz")),r=i.__importDefault(n("ERkP")),a=i.__importDefault(n("4Xt8"));function s(e){const t=e.pluginButtons.find(e=>"collab_video"===e.id);return t?r.default.createElement(a.default,Object.assign({},t,e)):null}t.default=s,s.propTypes={pluginButtons:o.default.arrayOf(o.default.shape({id:o.default.string.isRequired,cssClass:o.default.string.isRequired,iconName:o.default.string.isRequired,isActive:o.default.func.isRequired,onClick:o.default.func.isRequired})).isRequired}},"2Zo3":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("zkjf");t.default=i.DirectionAttribute;const o=n("WZs/");t.DIR_RTL="rtl";function r(e){return"rtl"===e?o.ALIGN_RIGHT:o.ALIGN_LEFT}t.DIR_LTR="ltr",i.DirectionAttribute.whitelist=["ltr","rtl"],i.DirectionAttribute.createChange=(e="ltr")=>({format:{direction:e,align:r(e)}})},"2cTK":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importStar(n("ERkP")),r=i.__importDefault(n("aWzz")),a=i.__importDefault(n("riqF")),s=i.__importDefault(n("4Xt8")),l=i.__importStar(n("ChZS")),u=i.__importStar(n("XAd7")),c=n("B43Y"),d=n("2Zo3"),f=n("s1u4"),p=i.__importDefault(n("Xgsd")),h=i.__importDefault(n("4p8m")),m=i.__importDefault(n("f7Oh")),b=i.__importDefault(n("f50L")),g=i.__importDefault(n("4vD5")),y=i.__importDefault(n("Kjgm")),v=i.__importDefault(n("Dvxd")),E={None:"",TextStylingMenu:"textStylingMenu",TextOptionsMenu:"textOptionsMenu",ListMenu:"listMenu"};function _(e){const[t,n]=o.useState(E.None),[i,r]=o.useState(),_=e=>{n(t=>t===e?E.None:e)},O=()=>{_(E.None)};return o.default.createElement("div",null,o.default.createElement(a.default,Object.assign({},e,{isSubToolbarOpen:t!==E.None,resetMenu:O,shareNavigator:e=>{r(e)}}),o.default.createElement(s.default,Object.assign({},l.TextStylingMenu,{onClick:()=>_(E.TextStylingMenu),iconOnly:!0,isSubmenu:!0,isToolbarOpen:t===E.TextStylingMenu,separator:!0})),o.default.createElement(s.default,Object.assign({},l.Bold,{iconOnly:!0})),o.default.createElement(s.default,Object.assign({},l.Italic,{iconOnly:!0})),o.default.createElement(s.default,Object.assign({},l.Underline,{iconOnly:!0})),o.default.createElement(s.default,Object.assign({},l.FormatStyleMenu,{onClick:()=>_(E.TextOptionsMenu),iconOnly:!0,isSubmenu:!0,isToolbarOpen:t===E.TextOptionsMenu,separator:!0})),o.default.createElement(s.default,Object.assign({},l.Alignment,{iconOnly:!0}),o.default.createElement(s.default,Object.assign({},l.AlignLeft)),o.default.createElement(s.default,Object.assign({},l.AlignCenter)),o.default.createElement(s.default,Object.assign({},l.AlignRight)),o.default.createElement(s.default,Object.assign({},l.AlignJustify))),o.default.createElement(s.default,Object.assign({},l.ListStyleMenu,{onClick:()=>_(E.ListMenu),iconOnly:!0,isSubmenu:!0,isToolbarOpen:t===E.ListMenu,separator:!0})),o.default.createElement(s.default,Object.assign({},l.Undo,{isButtonDisabled:e.editorHasTableSelected,iconOnly:!0})),o.default.createElement(s.default,Object.assign({},l.ClearFormat,{iconOnly:!0,separator:!0})),o.default.createElement(p.default,{pluginButtons:e.pluginButtons,iconOnly:!0}),o.default.createElement(b.default,{pluginButtons:e.pluginButtons,iconOnly:!0}),u.hasPlugins(e.pluginButtons,c.TOOLBAR_SETS.default,c.TOOLBAR_BREAKPOINTS.medium)&&o.default.createElement(s.default,Object.assign({},l.InsertContentMenu,{iconOnly:!0}),u.default(e,c.TOOLBAR_SETS.default,c.TOOLBAR_BREAKPOINTS.medium)),o.default.createElement(h.default,{id:c.EDITABLE_ATTACHMENT_CONFIG.id,pluginButtons:e.pluginButtons,iconOnly:!0,isHideable:!0}),o.default.createElement(m.default,{id:c.EDITABLE_TPC_CONFIG.id,pluginButtons:e.pluginButtons,iconOnly:!0,isHideable:!0})),t===E.TextStylingMenu&&o.default.createElement(a.default,Object.assign({},l.TextStylingToolbar,e,{isSubmenuToolbar:!0,resetMenu:O}),o.default.createElement(s.default,Object.assign({},l.TextStyle,{textOnly:!0}),o.default.createElement(s.default,Object.assign({},l.Title,{textOnly:!0})),o.default.createElement(s.default,Object.assign({},l.Header,{textOnly:!0})),o.default.createElement(s.default,Object.assign({},l.Subheader,{textOnly:!0})),o.default.createElement(s.default,Object.assign({},l.Paragraph,{textOnly:!0}))),o.default.createElement(s.default,Object.assign({},l.TextFontMenu,{iconOnly:!0}),o.default.createElement(s.default,Object.assign({},l.FontArial,{textOnly:!0})),o.default.createElement(s.default,Object.assign({},l.FontComicSans,{textOnly:!0})),o.default.createElement(s.default,Object.assign({},l.FontCourierNew,{textOnly:!0})),o.default.createElement(s.default,Object.assign({},l.FontNoto,{textOnly:!0})),o.default.createElement(s.default,Object.assign({},l.FontOpenSans,{textOnly:!0})),o.default.createElement(s.default,Object.assign({},l.FontTimesNewRoman,{textOnly:!0})),o.default.createElement(s.default,Object.assign({},l.FontVerdana,{textOnly:!0}))),o.default.createElement(s.default,Object.assign({},l.TextSize,{iconOnly:!0}),o.default.createElement(s.default,Object.assign({},l.Size10,{textOnly:!0})),o.default.createElement(s.default,Object.assign({},l.Size12,{textOnly:!0})),o.default.createElement(s.default,Object.assign({},l.Size14,{textOnly:!0,isActive:t=>t.size===f.TEXT_SIZE_14||!e.isRtl&&!t.size})),o.default.createElement(s.default,Object.assign({},l.Size18,{textOnly:!0,isActive:t=>t.size===f.TEXT_SIZE_18||e.isRtl&&!t.size})),o.default.createElement(s.default,Object.assign({},l.Size24,{textOnly:!0})),o.default.createElement(s.default,Object.assign({},l.Size36,{textOnly:!0})),o.default.createElement(s.default,Object.assign({},l.Size48,{textOnly:!0}))),o.default.createElement(s.default,Object.assign({},l.ColorPicker,{iconOnly:!0}),o.default.createElement(g.default,null))),t===E.TextOptionsMenu&&o.default.createElement(a.default,Object.assign({},l.TextOptionsToolbar,e,{isSubmenuToolbar:!0,isSubToolbarOpen:t!==E.None,resetMenu:O}),o.default.createElement(s.default,Object.assign({},l.Strike,{iconOnly:!0})),o.default.createElement(s.default,Object.assign({},l.Superscript,{iconOnly:!0})),o.default.createElement(s.default,Object.assign({},l.Subscript,{iconOnly:!0}))),t===E.ListMenu&&o.default.createElement(a.default,Object.assign({},l.ListFormattingToolbar,e,{isSubmenuToolbar:!0,isSubToolbarOpen:t!==E.None,resetMenu:O}),o.default.createElement(s.default,Object.assign({},l.UnorderedList,{iconOnly:!0})),o.default.createElement(s.default,Object.assign({},l.OrderedList,{iconOnly:!0})),o.default.createElement(s.default,Object.assign({},l.LineHeight,{iconOnly:!0}),o.default.createElement(s.default,Object.assign({},l.LineHeight1,{textOnly:!0})),o.default.createElement(s.default,Object.assign({},l.LineHeight1_15,{textOnly:!0})),o.default.createElement(s.default,Object.assign({},l.LineHeight1_50,{textOnly:!0})),o.default.createElement(s.default,Object.assign({},l.LineHeight2,{textOnly:!0}))),e.editorHasTableSelected?o.default.createElement(s.default,Object.assign({},l.EditTable,{iconOnly:!0})):o.default.createElement(s.default,Object.assign({},l.TableCreator,{iconOnly:!0}),o.default.createElement(y.default,Object.assign({},e.quillModuleAction)),o.default.createElement(s.default,Object.assign({},l.InsertTable,e.closeAllMenus))),e.isRtl&&o.default.createElement(s.default,Object.assign({},l.DirRTL,{iconOnly:!0,isActive:t=>t.direction===d.DIR_RTL||!t.direction&&e.isRtl})),o.default.createElement(s.default,Object.assign({},l.DirLTR,{iconOnly:!0,isActive:t=>t.direction===d.DIR_LTR||!t.direction&&!e.isRtl})),!e.isRtl&&o.default.createElement(s.default,Object.assign({},l.DirRTL,{iconOnly:!0,isActive:t=>t.direction===d.DIR_RTL||!t.direction&&e.isRtl}))),e.editorHasTableSelected&&o.default.createElement(v.default,Object.assign({},e,{useSharedNavigator:!0,sharedNavigator:i,isAdditionalToolbarVisible:e.editorHasTableSelected})))}_.propTypes={pluginButtons:r.default.arrayOf(r.default.shape({id:r.default.string.isRequired,cssClass:r.default.string.isRequired,iconName:r.default.string.isRequired,isActive:r.default.func.isRequired,onClick:r.default.func.isRequired})).isRequired,editorHasTableSelected:r.default.bool},_.defaultProps={editorHasTableSelected:!1},t.default=_},"2oOw":function(e,t,n){"use strict";n.r(t);var i=n("oB8T");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(u,e);var t,n,i,o=l(u);function u(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),o.apply(this,arguments)}return t=u,i=[{key:"value",value:function(){}}],(n=[{key:"insertInto",value:function(e,t){0===e.children.length?a(c(u.prototype),"insertInto",this).call(this,e,t):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}])&&r(t.prototype,n),i&&r(t,i),u}(n.n(i).a.Embed);d.blotName="break",d.tagName="BR",t.default=d},"2x8N":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("W/d8")),r=i.__importDefault(n("c7IC")),a=i.__importDefault(n("gCTi")),s=i.__importDefault(n("J4Ia"));function l(e,t){const n={...e,alt:e.alt||e.src},i=[{insert:!0,format:{"embedded-app":{bbtype:"embedded-app",bbfile:JSON.stringify(n)}}}];return i.unshift({insert:"\n"}),t||i.push({insert:"\n"}),i}t.embeddedAppCreateChange=l,t.default=function(e){switch(e.dataType){case"embedded-app":return l(e.dataContent);case"image":return o.default(e.dataContent.src,e.dataContent.alt);case"link":return r.default(e.dataContent.src,e.dataContent.alt);case"video":return a.default(e.dataContent.src,e.dataContent.alt);case"audio":return s.default(e.dataContent.src,e.dataContent.alt);default:return null}}},"3UMf":function(e,t,n){"use strict";var i=n("5aoz");function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new i(e),t(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},"3k60":function(e,t,n){"use strict";n.r(t)},"412i":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("ggb3")),r=i.__importDefault(n("prCu")),a=i.__importDefault(n("h9IM")),s=n("QjXM");let l=null,u=!1;function c(e,t){const n={language:t,fontFamily:"stix"};return e&&(n.mml=e),com.wiris.jsEditor.JsEditor.newInstance(n)}t.default=({courseId:e,apiBasePath:t,xsrfToken:n,locale:i})=>{const d=e?`/courses/${e}`:"",f=s.convertToAbsoluteUrl(`${t}/v1${d}/editor/v4/configurations`),p=s.convertToAbsoluteUrl(`${t}/v1${d}/mathEditor/v3/mathMLToImage`);function h(e){return{wirisEditorUrl:s.convertToAbsoluteUrl(e.editorUrl)}}return{getAltText:function(e){if(!l)return Promise.reject();const t=r.default.stringify({service:"mathml2accessible",mml:e,lang:i});return o.default({url:l,method:"POST",headers:{"X-Blackboard-XSRF":n,"Content-type":"application/x-www-form-urlencoded"},data:t})},getMathMLToImageURL:function(e){return new Promise((t,i)=>{o.default({url:p,method:"POST",headers:{"X-Blackboard-XSRF":n},data:{mathML:e}}).then(e=>t(e.data.mathMLImageURL)).catch(i)})},newInstance:function(e){return new Promise((t,n)=>{u?t(c(e,i)):o.default({url:f,method:"GET"}).then(r=>{(function(e){return o.default({url:`${e}app/configurationjs`,method:"GET"})})(r.data.contextPath).then(o=>{const{wirisEditorUrl:r}=h(o.data);l=s.convertToAbsoluteUrl("/webapps/vtbe-tinymce/app/service"),function(e,t,n){return new Promise((i,o)=>a.default(e,()=>{try{u=!0,i(c(t,n))}catch(e){u=!1,o()}}))}(r,e,i).then(e=>t(e)).catch(n)}).catch(n)}).catch(n)})},parseConfiguration:h}}},"42sN":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K").__importDefault(n("ihtQ"));t.LINE_HEIGHT_1="1";t.LINE_HEIGHT_1_15="1.15";t.LINE_HEIGHT_1_50="1.5";t.LINE_HEIGHT_2="2";const o=["1","1.15","1.5","2"],r=i.default.import("parchment"),a=new r.Attributor.Style("lineheight","line-height",{scope:r.Scope.BLOCK,whitelist:o});t.default=a,a.createChange=e=>({format:{lineheight:e}})},"4GeQ":function(e,t,n){"use strict";var i=n("P0jV");e.exports=function(e,t,n){return i.forEach(n,(function(n){e=n(e,t)})),e}},"4Xt8":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("ERkP")),r=i.__importDefault(n("aWzz")),a=i.__importDefault(n("O94r")),s=n("8unJ"),l=n("myse"),u=n("ZyyF"),c=i.__importDefault(n("jgNF")),d=i.__importDefault(n("BfoI")),f=n("no1s"),p=n("yNLD"),h=n("7NIW");class m extends o.default.Component{static newState(e){const t=e.isActive&&e.isActive(e.editorFormat),n=e.isButtonDisabled;return{isActive:t,isDisabled:n,hasKeyboardFocus:!n&&e.hasKeyboardFocus&&e.currentSubmenuIndex===u.NO_SELECTION_INDEX&&e.currentMenuIndex===e.index||e.hasKeyboardFocus&&e.currentSubmenuIndex>u.NO_SELECTION_INDEX&&e.currentMenuIndex===e.parentIndex&&e.currentSubmenuIndex===e.index,isSubmenuOpen:e.children&&e.currentMenuIndex===e.index&&e.currentSubmenuIndex>u.NO_SELECTION_INDEX}}constructor(e){super(e),this.state=this.constructor.newState(e),this.focusOnCurrentButton=this.focusOnCurrentButton.bind(this),this.triggerAction=this.triggerAction.bind(this),this.containerClasses=this.containerClasses.bind(this),this.buttonClasses=this.buttonClasses.bind(this),this.buttonIconClasses=this.buttonIconClasses.bind(this),this.buttonNode=null,this.state.submenuStyles={}}componentDidMount(){this.focusOnCurrentButton(this.props)}UNSAFE_componentWillReceiveProps(e){const t=this.constructor.newState(e);this.setState(t,()=>this.focusOnCurrentButton(e))}componentDidUpdate(){this.adjustSubmenuPosition()}adjustMarginOffset(e){let t=e.substring(0,2);return"px"!==e.substring(2)&&(t=0),t=parseInt(t,10)}adjustSubmenuPosition(){if(this.containerRef){const e=this.containerRef.getElementsByClassName("bb-editor-toolbar-submenu")[0];if(!e||this.adjustingMenu)return;const t=this.containerRef.getBoundingClientRect(),n=this.props.getEditorRect(),i=e.getBoundingClientRect(),o=t.bottom+i.height,r=window.innerHeight||window.screen.height||document.body.offsetHeight,a=t.top+window.scrollY-i.height>=0,s=o>r;let l={};n&&(i.left<n.left?l={right:i.left-n.left}:i.right>n.right&&(l={left:n.right-i.right}));const u=window.getComputedStyle(e).getPropertyValue("margin-bottom"),c=this.adjustMarginOffset(u);s&&i.top>=0&&a?(this.adjustingMenu=!0,this.setState({submenuStyles:{bottom:`${t.height}px`,top:`-${i.height+c}px`,...l}},()=>{this.adjustingMenu=!1})):Object.keys(l).length>0&&(this.adjustingMenu=!0,this.setState({submenuStyles:l},()=>{this.adjustingMenu=!1}))}}focusOnCurrentButton(e){(e.currentMenuIndex===e.index&&e.currentSubmenuIndex===u.NO_SELECTION_INDEX||e.currentMenuIndex===e.parentIndex&&e.currentSubmenuIndex===e.index)&&this.buttonNode&&this.buttonNode.focus()}triggerAction(e){if(e.preventDefault(),e.stopPropagation(),this.props.isDisabled||this.state.isDisabled||!this.props.onClick)this.props.isDisabled||this.state.isDisabled||this.setState({submenuStyles:{display:"relative"}},()=>{this.props.setEditorFocusStateToolbar(!1),this.props.openSubmenu(this.props.parentIndex||this.props.index)});else{const{buttonNode:e}=this,{isActive:t}=this.state,{editorFormat:n,currentLocale:i,localize:o,isRtl:r}=this.props,a=e=>{this.props.applyChange(e),this.props.toolbarActionComplete(!e||this.props.hasKeyboardFocus)},s=e=>this.props.quillModuleAction(e),l=()=>this.props.closeAllMenus(),u=()=>{this.props.setEditorFocusStateToolbar(!0)},d=(e,t)=>(this.props.setEditorFocusStateToolbar(!0),c.default(e,t,o.getLocalePropsForClone()));this.props.isSubmenu&&this.props.forceOpenSubmenu(this.props.index,0),this.props.onClick({applyChange:a,quillModuleAction:s,closeAllMenus:l,useSharedNavigator:!0,editorFormat:n,isActive:t,locale:i,preventBlur:u,showModal:d,buttonNode:e,isRtl:r})}return!1}containerClasses(){return a.default({"bb-editor-toolbar-button-container":!0,"bb-editor-toolbar-dropdown-container":this.state.isSubmenuOpen})}buttonClasses(){return a.default({"bb-editor-toolbar-button":!0,"bb-editor-toolbar-button--left-separator":this.props.leftSeparator,"bb-editor-toolbar-button--double-separator":this.props.doubleSeparator,"bb-editor-toolbar-button--non-separator":!this.props.separator&&!this.props.doubleSeparator&&!this.props.leftSeparator,"bb-editor-toolbar-button--main":null===this.props.parentIndex,"bb-editor-submenu-is-open":this.state.isSubmenuOpen||this.props.isToolbarOpen,"bb-editor-submenu-is-closed":!this.state.isSubmenuOpen||!this.props.isToolbarOpen,"is-disabled":this.props.isDisabled||this.state.isDisabled,"is-focused":this.state.hasKeyboardFocus,"bb-editor-toolbar-text":this.props.textOnly||!(this.props.iconName||this.props.iconComponent),"bb-editor-toolbar-icon-text":!this.props.textOnly&&!this.props.iconOnly&&(this.props.iconName||this.props.iconComponent),"bb-editor-toolbar-dropdown":this.props.children||this.props.isSubmenu,"bb-editor-submenu-button":this.props.isSubmenu,"bb-editor-submenu-button-active":this.props.isToolbarOpen,padded:!this.props.iconOnly&&!this.props.children,"text-active":this.state.isActive||this.state.isSubmenuOpen,[`${this.props.cssClass}-active`]:this.state.isActive,[`${this.props.cssClass}-normal`]:!this.state.isActive})}buttonIconClasses(){return a.default({icon:!!this.props.iconName,[`${this.props.iconName}-active-icon`]:this.props.iconName&&(this.state.isActive||this.state.isSubmenuOpen)||this.props.isToolbarOpen,[`${this.props.iconName}-normal-icon`]:this.props.iconName&&!this.state.isActive})}buttonIcon(){if(null!==this.props.iconComponent){const e=this.props.iconComponent;return o.default.createElement(e,null)}return o.default.createElement(h.Attention,null)}haspopup(){return this.props.isDialog?"dialog":this.props.children?!!this.props.children:null}innerButton(){const{isSubmenuOpen:e,isActive:t}=this.state,{analyticsEventAugmentor:n,children:i,localize:r,isSubmenu:a,isDialog:s,isToolbarOpen:u,isSubToolbarOpen:c,parentIndex:d,toggleButton:f}=this.props,p=this.buttonClasses(),h=this.buttonIconClasses(),m=this.haspopup(),b=n(l.AnalyticsEventTypes.CLICK_EVENT,this.triggerAction,"editor.course.questionAnalysis.sortable.table.header.cell.button");return o.default.createElement("button",{tabIndex:0===this.props.index?"0":"-1",className:p,"aria-checked":d?t:null,"aria-expanded":a||i?e||u:null,"aria-controls":a&&(e||c)?this.props.id:null,"aria-haspopup":m,"aria-pressed":d||a||e||i||s||!f?null:!!t,"aria-label":r.translate(`bbmlEditor.toolbar.${this.props.id}.axAriaText`),onClick:b,ref:e=>{this.buttonNode=e}},o.default.createElement("span",{"aria-hidden":"true"},this.props.textOnly||o.default.createElement("span",{className:h},this.buttonIcon()),this.props.iconOnly||r.translate(`bbmlEditor.toolbar.${this.props.id}.label`)))}render(){const{isSubmenuOpen:e,isActive:t,isToolbarOpen:n}=this.state,{localize:i,isHideable:r,separator:a}=this.props,s=this.containerClasses(),l=this.innerButton();return r&&!t?null:o.default.createElement("div",{role:"presentation",className:s,ref:e=>{this.containerRef=e}},(this.props.iconOnly||this.children)&&o.default.createElement(f.Tooltip,{placement:"top",title:i.translate(`bbmlEditor.toolbar.${this.props.id}.label`)},l),!(this.props.iconOnly||this.children)&&l,e&&!n&&this.props.children&&o.default.createElement("ul",{id:this.props.id,role:"menu",className:"bb-editor-toolbar bb-editor-toolbar-submenu","aria-orientation":"horizontal",tabIndex:"-1",style:this.state.submenuStyles},this.props.children.map(e=>o.default.createElement("li",{key:e.key,role:"menuitemradio","aria-checked":e.props.isActive,tabIndex:"-1"},e))),a?o.default.createElement(p.Separator,null):null)}}t.BaseButton=m,m.propTypes={children:r.default.array,cssClass:r.default.string,iconName:r.default.string,iconComponent:r.default.object,iconOnly:r.default.bool,toggleButton:r.default.bool,isDisabled:r.default.bool,isHideable:r.default.bool,isRtl:r.default.bool,isSubmenu:r.default.bool,isToolbarOpen:r.default.bool,textOnly:r.default.bool,index:r.default.number,parentIndex:r.default.number,onClick:r.default.func,applyChange:r.default.func,quillModuleAction:r.default.func,toolbarActionComplete:r.default.func,openSubmenu:r.default.func,editorFormat:r.default.shape(),id:r.default.string.isRequired,hasKeyboardFocus:r.default.bool,setEditorFocusStateToolbar:r.default.func,getEditorRect:r.default.func,...d.default},m.defaultProps={children:null,cssClass:"no-format",iconName:null,iconComponent:null,iconOnly:!1,toggleButton:!0,isDisabled:!1,isHideable:!1,isRtl:!1,isSubmenu:!1,isToolbarOpen:!1,textOnly:!1,index:-1,parentIndex:null,onClick:null,applyChange:null,quillModuleAction:null,toolbarActionComplete:null,openSubmenu:null,editorFormat:{},hasKeyboardFocus:!1,setEditorFocusStateToolbar:null,getEditorRect:()=>null};const b=s.localizedComponentWrapper(l.withAnalytics(m));t.default=b},"4dof":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("ERkP")),r=i.__importDefault(n("7nmT")),a=i.__importDefault(n("aWzz")),s=i.__importDefault(n("5XwT")),l=i.__importDefault(n("O94r")),u=n("8unJ"),c=i.__importStar(n("5dj2")),d=i.__importDefault(n("eD3c")),f=n("IKr/"),p=i.__importDefault(n("RmOt")),h=i.__importStar(n("dpr/")),m=i.__importDefault(n("/Tr/")),b=i.__importDefault(n("SgHB")),g=i.__importDefault(n("E9rF")),y=i.__importDefault(n("sMqO")),v=n("hENV"),E=n("d8sb"),_=i.__importDefault(n("vdWu")),O=i.__importDefault(n("ppHI")),C=n("lUnj"),S=i.__importDefault(n("9nUv")),T=i.__importDefault(n("60v7")),N=n("B43Y");n("u+7u");class w extends o.default.Component{constructor(e){super(e);const t=new c.Range(0,0);this.editorInitialContent=null,this.isBbmlDirty=!1,this.state={editorFormat:{text:"",selection:t},editorLastFormat:{},editorLastContent:[],editorLastSelection:t,toolbarHasKeyboardFocus:!1,editorHasKeyboardFocus:!1,editorHasTableSelected:!1,toolbar:T.default},this.quill=null,this.storedStack=null,this.editorContainer=null,this.editorRoot=null,this.keyDownHandler=new h.default,this.onKeyDown=this.onKeyDown.bind(this),this.onKeyDownOutsideEditor=this.onKeyDownOutsideEditor.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.extendSelection=null,this.registerAccessibilityHandlers=this.registerAccessibilityHandlers.bind(this),this.unregisterAccessibilityHandlers=this.unregisterAccessibilityHandlers.bind(this),this.setToolbarKeyboardFocused=this.setToolbarKeyboardFocused.bind(this),this.setEditorKeyboardFocused=this.setEditorKeyboardFocused.bind(this),this.setEditorMouseFocused=this.setEditorMouseFocused.bind(this),this.updateAriaAttributes=this.updateAriaAttributes.bind(this),this.addAxLabels=this.addAxLabels.bind(this),this.editorContainsElement=this.editorContainsElement.bind(this),this.editorHasFocus=this.editorHasFocus.bind(this),this.editorHasKeyboardFocus=this.editorHasKeyboardFocus.bind(this),this.setEditorFocusState=this.setEditorFocusState.bind(this),this.setEditorFocusStateToolbar=this.setEditorFocusStateToolbar.bind(this),this.isEditorFocusState=this.isEditorFocusState.bind(this),this.editorFocusState=N.EDITOR_FOCUS_STATES.BLURRED,this.onFocusHandler=this.onFocusHandler.bind(this),this.onFocusDebounce=null,this.onBlurHandler=this.onBlurHandler.bind(this),this.onBlurDebounce=null,this.initializeQuill=this.initializeQuill.bind(this),this.updateQuillEnable=this.updateQuillEnable.bind(this),this.updateQuillPlaceholder=this.updateQuillPlaceholder.bind(this),this.restoreQuillPlaceholder=this.restoreQuillPlaceholder.bind(this),this.unloadPlugins=this.unloadPlugins.bind(this),this.notifyPluginsOfPropChanges=this.notifyPluginsOfPropChanges.bind(this),this.onToolbarActionComplete=this.onToolbarActionComplete.bind(this),this.onEditorChange=this.onEditorChange.bind(this),this.getEditorSelection=this.getEditorSelection.bind(this),this.getEditorFormat=this.getEditorFormat.bind(this),this.updateFormatWithBlotSelection=this.updateFormatWithBlotSelection.bind(this),this.selectEmbeddedBlot=this.selectEmbeddedBlot.bind(this),this.unselectEmbeddedBlots=this.unselectEmbeddedBlots.bind(this),this.applyEditorChange=this.applyEditorChange.bind(this),this.applyChangeAndSetEditorFocused=this.applyChangeAndSetEditorFocused.bind(this),this.quillModuleAction=this.quillModuleAction.bind(this),this.onBbMLInputChange=this.onBbMLInputChange.bind(this),this.onBbMLOutputChange=this.onBbMLOutputChange.bind(this),this.makeEmbedsEasierToEditAfter=this.makeEmbedsEasierToEditAfter.bind(this),this.updateToolbar=this.updateToolbar.bind(this),this.setToolbarState=this.setToolbarState.bind(this),this.getPluginButtons=this.getPluginButtons.bind(this),this.getEditorRect=this.getEditorRect.bind(this),this.onDragEnter=this.onDragEnter.bind(this),this.onDragLeave=this.onDragLeave.bind(this),this.onDrop=this.onDrop.bind(this),this.dragCount=0,this.fileDragDropUtil=y.default(this.applyChangeAndSetEditorFocused,this.props.localize.getLocalePropsForClone(),this.setEditorFocusStateToolbar),this.plugins=b.default(e.plugins,()=>this.forceUpdate(),this.fileDragDropUtil)}componentDidMount(){this.initializeQuill(),this.registerAccessibilityHandlers(),this.updateToolbar(),window.addEventListener("resize",this.updateToolbar)}componentDidUpdate(e){if(this.props.isDisabled!==e.isDisabled||this.props.isReadOnly!==e.isReadOnly){const e=!this.props.isDisabled&&!this.props.isReadOnly;this.updateQuillEnable(e),C.updateActiveStyle(this.editorRoot.classList,e),e||(C.updateMouseFocusStyle(this.editorRoot.classList,!1),C.updateKeyboardFocusStyle(this.editorRoot.classList,!1))}this.props.placeholder!==e.placeholder&&this.updateQuillPlaceholder(this.props.placeholder),this.props.isDisabled!==e.isDisabled&&C.updateDisabledStyle(this.editorRoot.classList,this.props.isDisabled),this.props.isReadOnly!==e.isReadOnly&&(C.updateReadOnlyStyle(this.editorRoot.classList,this.props.isReadOnly),this.updateQuillPlaceholder(this.props.placeholder)),this.props.errorMessage!==e.errorMessage&&C.updateErrorState(this.editorRoot.classList,!!this.props.errorMessage),this.updateAriaAttributes(e),this.props.isReadOnly===e.isReadOnly&&this.props.isToolbarHidden===e.isToolbarHidden&&this.props.toolbarSet===e.toolbarSet&&this.props.plugins===e.plugins||this.updateToolbar(),this.props.isReadOnly===e.isReadOnly&&this.props.isDisabled===e.isDisabled&&this.props.isToolbarHidden===e.isToolbarHidden||this.quill.history.clear(),this.props!==e&&((this.props.bbml!==e.bbml||this.isBbmlDirty)&&this.onBbMLInputChange(this.props.bbml),this.notifyPluginsOfPropChanges()),this.props.currentLocale===e.currentLocale&&this.props.isRtl===e.isRtl||this.fileDragDropUtil.setLocaleProps(this.props.localize.getLocalePropsForClone())}componentWillUnmount(){this.quill.history.clear(),this.unloadPlugins(),this.unregisterAccessibilityHandlers(),this.removeTimers(),window.removeEventListener("resize",this.updateToolbar),this.editorRoot.remove(),delete this.editorContainer,delete this.editorRoot,delete this.quill}removeTimers(){this.requestAnimationFrameID&&(window.cancelAnimationFrame(this.requestAnimationFrameID),this.requestAnimationFrameID=null),clearTimeout(this.extendSelection),clearTimeout(this.debounceWindowResizeToolbar),clearTimeout(this.onBlurDebounce),clearTimeout(this.onFocusDebounce),clearTimeout(this.axTooltipTimeout),clearTimeout(this.keyFocusTimeout),clearTimeout(this.autoSaveTimeout)}registerAccessibilityHandlers(){document.addEventListener("keydown",this.onKeyDownOutsideEditor),this.editorContainer.addEventListener("focusin",this.onFocusHandler),this.editorContainer.addEventListener("focusout",this.onBlurHandler),this.editorRoot.addEventListener("mousedown",this.onMouseDown),this.editorContainer.addEventListener("mousedown",m.default),this.editorContainer.addEventListener("focusout",m.default),this.updateAriaAttributes(),this.keyDownHandler.addKeyDownHandler(s.default.F10,h.KeyDownModifier.ALT,this.setToolbarKeyboardFocused,h.KeyDownEventScope.EDITOR)}unregisterAccessibilityHandlers(){document.removeEventListener("keydown",this.onKeyDownOutsideEditor),this.editorContainer.removeEventListener("focusin",this.onFocusHandler),this.editorContainer.removeEventListener("focusout",this.onBlurHandler),this.editorRoot.removeEventListener("mousedown",this.onMouseDown),this.editorContainer.removeEventListener("mousedown",m.default),this.editorContainer.removeEventListener("focusout",m.default)}addAxLabels(){const{editorId:e,ariaLabelledBy:t,ariaDescribedBy:n}=this.props,i=this.editorRoot.firstChild;this.editorRoot.querySelector(".ql-clipboard").setAttribute("aria-hidden","true"),e&&i.setAttribute("id",e),t&&i.setAttribute("aria-labelledby",t),n&&i.setAttribute("aria-describedby",n)}updateAriaAttributes(e){let t=!1;!e||e.isReadOnly||e.isDisabled||(t=!0);const n=!this.props.isReadOnly&&!this.props.isDisabled;t!==n?n?(this.editorRoot.firstChild.setAttribute("role","textbox"),this.editorRoot.firstChild.setAttribute("aria-multiline","true"),this.editorRoot.firstChild.setAttribute("aria-readonly","false"),this.editorRoot.firstChild.setAttribute("aria-required",this.props.ariaRequired?"true":"false")):(this.editorRoot.firstChild.removeAttribute("role"),this.editorRoot.firstChild.removeAttribute("aria-multiline"),this.editorRoot.firstChild.setAttribute("aria-readonly","true"),this.editorRoot.firstChild.removeAttribute("aria-required")):e||this.editorRoot.firstChild.setAttribute("aria-readonly","true")}setToolbarKeyboardFocused(){this.keyDownHandler.enableToolbarScope(),this.setState({toolbarHasKeyboardFocus:!0,editorHasKeyboardFocus:!1}),C.updateMouseFocusStyle(this.editorRoot.classList,!1),C.updateKeyboardFocusStyle(this.editorRoot.classList,!1)}setEditorKeyboardFocused(e){this.keyDownHandler.enableEditorScope(),this.setState({toolbarHasKeyboardFocus:!1,editorHasKeyboardFocus:!0},"function"==typeof e?e:null),C.updateMouseFocusStyle(this.editorRoot.classList,!0),C.updateKeyboardFocusStyle(this.editorRoot.classList,!0)}setEditorMouseFocused(e){this.keyDownHandler.enableEditorScope(),this.setState({toolbarHasKeyboardFocus:!1},"function"==typeof e?e:null),C.updateMouseFocusStyle(this.editorRoot.classList,!0)}onMouseDown(e){this.editorHasFocus()&&!this.quill.hasFocus()&&this.onToolbarActionComplete(!this.toolbarHasFocus()),2===e.button&&(clearTimeout(this.extendSelection),this.extendTableSelection()),this.props.isDisabled||this.props.isReadOnly||setTimeout(()=>this.selectEmbeddedBlot(e.target))}onKeyDown(e){if(!this.props.isDisabled&&!this.props.isReadOnly){const t=this.keyDownHandler.handleKeyDown(e),n=h.default.hasModifierKey(e),i=h.default.hasRegularKey(e);clearTimeout(this.extendSelection),this.extendTableSelection(),e.keyCode===s.default.ENTER&&this.quill.history.cutoff(),(t||n&&i)&&this.onEditorChange(c.default.events.TEXT_CHANGE)}}onKeyDownOutsideEditor(e){e.keyCode!==s.default.TAB||this.props.isDisabled||this.props.isReadOnly||this.editorHasFocus()||(this.keyFocusTimeout=setTimeout(()=>{this.editorHasFocus()&&this.setEditorKeyboardFocused()}))}editorContainsElement(e,t){let n=this.editorContainer;return t&&(n=n.querySelector(t)),n&&n.contains(e)}toolbarHasFocus(){return this.editorContainsElement(document.activeElement,".bb-editor-toolbar")&&!this.props.isDisabled&&!this.props.isReadOnly}editorHasFocus(){return(this.editorContainsElement(document.activeElement)||this.quill.hasFocus())&&!this.props.isDisabled&&!this.props.isReadOnly}editorHasKeyboardFocus(){return this.editorHasFocus()&&(this.state.editorHasKeyboardFocus||this.editorRoot.classList.contains("has-keyboard-focus"))}onToolbarActionComplete(e=!1){const t=!0===e?()=>this.quill.focus():()=>{};this.setEditorFocusState(N.EDITOR_FOCUS_STATES.FOCUSED),this.state.toolbarHasKeyboardFocus?this.setEditorKeyboardFocused(t):this.setEditorMouseFocused(t)}setEditorFocusState(e){this.editorFocusState=e}setEditorFocusStateToolbar(e=!1){C.updateMouseFocusStyle(this.editorRoot.classList,!1),e&&this.setEditorFocusState(N.EDITOR_FOCUS_STATES.TOOLBAR)}isEditorFocusState(e){return this.editorFocusState===e}onBlurHandler(){clearTimeout(this.onBlurDebounce),clearTimeout(this.onFocusDebounce),this.onBlurDebounce=setTimeout(()=>{!this.editorHasFocus()&&this.isEditorFocusState(N.EDITOR_FOCUS_STATES.FOCUSED)&&this.setState({toolbarHasKeyboardFocus:!1,editorHasKeyboardFocus:!1},()=>{this.setEditorFocusState(N.EDITOR_FOCUS_STATES.BLURRED),this.restoreQuillPlaceholder(),C.updateMouseFocusStyle(this.editorRoot.classList,!1),C.updateKeyboardFocusStyle(this.editorRoot.classList,!1),this.props.onBlur&&this.props.onBlur()})},100)}onFocusHandler(){clearTimeout(this.onBlurDebounce),clearTimeout(this.onFocusDebounce),this.onFocusDebounce=setTimeout(()=>{this.editorHasFocus()&&this.isEditorFocusState(N.EDITOR_FOCUS_STATES.BLURRED)&&(window.getSelection().focusNode===this.editorRoot.firstChild&&this.quill.setSelection(0,0),this.setEditorFocusState(N.EDITOR_FOCUS_STATES.FOCUSED),this.toolbarHasFocus()||C.updateMouseFocusStyle(this.editorRoot.classList,!0),this.editorHasKeyboardFocus()&&C.updateKeyboardFocusStyle(this.editorRoot.classList,!0),this.toolbarHasFocus()||this.quill.hasFocus()||this.quill.focus(),this.props.onFocus&&this.props.onFocus())},100)}initializeQuill(){c.configureQuill([...this.plugins],this.props,this.editorRoot),this.editorRoot.classList.add("bb-editor-container"),this.quill=new c.default(this.editorRoot,{placeholder:!this.props.isReadOnly&&this.props.placeholder,readOnly:this.props.isDisabled||this.props.isReadOnly,modules:d.default}),this.quill.notifyPluginsOfPropChanges=this.notifyPluginsOfPropChanges.bind(this),this.editorRoot.firstChild.classList.add("bb-editor"),this.editorContainer.shouldEnableDemoMashup=!!this.props.plugins.reduce((e,t)=>t.length?[...e,...t]:[...e,t],[]).find(e=>e&&"demoMashup"===e.pluginId),this.editorContainer.shouldEnableDemoMashup&&v.enableDemoMashupFakeConfig(),this.addAxLabels(),this.props.disablePasteFormat?this.quill.clipboard.addMatcher(f.QuillClipboardMatchersWithoutFormat.selector,f.QuillClipboardMatchersWithoutFormat.func):f.QuillClipboardMatchers.forEach(e=>{this.quill.clipboard.addMatcher(e.selector,e.func)}),f.QuillAddPluginClipboardMatchers(this.quill,this.plugins),C.updateActiveStyle(this.editorRoot.classList,!this.props.isDisabled&&!this.props.isReadOnly),C.updateDisabledStyle(this.editorRoot.classList,this.props.isDisabled),C.updateReadOnlyStyle(this.editorRoot.classList,this.props.isReadOnly),C.updateErrorState(this.editorRoot.classList,!!this.props.errorMessage),this.onBbMLInputChange(this.props.bbml),this.notifyPluginsOfPropChanges(),this.quill.on(c.default.events.EDITOR_CHANGE,this.onEditorChange),this.quill.history.clear()}updateQuillEnable(e=!1){e&&!this.quill.isEnabled()?this.quill.enable(!0):!e&&this.quill.isEnabled()&&this.quill.enable(!1)}updateQuillPlaceholder(e){"string"==typeof e&&this.quill.root.setAttribute("data-placeholder",e)}restoreQuillPlaceholder(){1===this.quill.getContents().ops.length&&"string"==typeof this.quill.getContents().ops[0].insert&&"\n"===this.quill.getContents().ops[0].insert&&this.quill.setText("")}unloadPlugins(){this.plugins.forEach(e=>{if("function"==typeof e.onUnload)try{e.onUnload()}catch(e){console.error(e)}})}notifyPluginsOfPropChanges(){Array.from(this.editorRoot.querySelectorAll(".wants-props-update")).forEach(e=>{e.formatComponent&&e.formatComponent(this.props)})}onEditorChange(e,t,n,i){e===c.default.events.SELECTION_CHANGE&&"silent"===i||r.default.unstable_batchedUpdates(()=>{if(this.editorInitialContent||(this.editorInitialContent=this.quill.getContents().ops),e===c.default.events.SELECTION_CHANGE&&"user"===i&&(clearTimeout(this.extendSelection),this.extendSelection=setTimeout(()=>{this.extendTableSelection()},400)),e===c.default.events.TEXT_CHANGE){const e=this.quill.getContents().ops;this.onBbMLOutputChange(e),this.setState({editorLastContent:e})}if(this.editorContainsElement(document.activeElement)&&!this.props.isDisabled&&!this.props.isReadOnly&&e){const e=t&&t.ops&&t.ops[t.ops.length-1].insert,i="string"==typeof e&&e.includes("\n"),o=this.getEditorFormat(),r={};if(i){Object.values(N.FORMATS).forEach(e=>{o[e]&&(r[e]=o[e])}),r.selection=new c.Range(o.selection.index+1,0)}const a=this.getEditorHasTableSelected();let s=!1;if(a)this.storedStack||(this.storedStack=this.quill.history.stack,this.quill.history.clear()),s=this.isDifferentTableSelected(n);else if(this.storedStack){const e=this.quill.history.stack,t=this.getDeltaChangeLength(e);this.storedStack.undo.forEach(e=>{e.undo.ops.forEach(e=>{e.retain&&e.retain>t.lowestRetain&&(e.retain+=t.offset)})}),this.quill.history.stack=this.storedStack,this.storedStack=void 0}s?this.resetTableSubtoolbar():this.setState({editorHasTableSelected:a}),this.setState({editorFormat:o,editorLastFormat:r,editorLastSelection:o.selection,toolbarHasKeyboardFocus:this.keyDownHandler.inToolbarScope()})}})}getEditorSelection(){return this.quill.getSelection()||this.state.editorLastSelection}getEditorFormat(){const e=this.getEditorSelection(),t=this.quill.getText(e),n=this.quill.getContents(e),i=this.quill.getFormat(e);let o={};return Object.keys(this.state.editorLastFormat).length?(o=this.state.editorLastFormat).selection=e:(0===e.length?o=i:e.length>0&&(o=n.ops.reduce((e,t)=>({...g.default(e,t),...t.attributes,..."object"==typeof t.insert?t.insert:{}}),i)),o=this.updateFormatWithBlotSelection(o,t,e)),o}updateFormatWithBlotSelection(e,t,n){let i=0;const o=e;return Object.keys(o).forEach(e=>{const t=o[e].domNode;if(t){const e=c.default.find(t);o.text=t.innerText,o.selection=new c.Range(e.offset(this.quill.scroll),e.length()),i+=1}}),(1!==i||n.index<o.selection.index||n.index+n.length>o.selection.index+o.selection.length)&&(o.text=t,o.selection=n),o}selectEmbeddedBlot(e){const t=c.Parchment.find(e,!0),n=t&&t.constructor&&Object.getPrototypeOf(t.constructor).blotName;let i;"embed"===n?(this.quill.setSelection(t.offset(this.quill.scroll)-1,2,c.default.sources.USER),this.onEditorChange(c.default.events.SELECTION_CHANGE),(i=t.domNode.querySelector("span > div:first-child")||t.domNode).classList.add("ql-embed-selected","no-select")):"embedInline"===n&&(this.quill.setSelection(t.offset(this.quill.scroll),1,c.default.sources.USER),this.onEditorChange(c.default.events.SELECTION_CHANGE),(i=t.domNode).classList.add("ql-embed-selected","no-select")),this.unselectEmbeddedBlots(i)}unselectEmbeddedBlots(e){const t=Array.from(this.editorRoot.querySelectorAll(".ql-embed-selected"));t.length&&t.forEach(t=>{t!==e&&t.classList.remove("ql-embed-selected","no-select")})}makeEmbedsEasierToEditAfter(){var e;const t=this.quill.getContents().ops,n=t.length-1;(t[n]&&"object"==typeof t[n].insert||t[n]&&"string"==typeof t[n].insert&&"\n"!==t[n].insert.substr(-1,1)||t[n]&&"string"==typeof t[n].insert&&"\n"===t[n].insert&&(null===(e=t[n].attributes)||void 0===e?void 0:e.table))&&this.quill.insertText(this.quill.scroll.length,"\n",c.default.events.SILENT)}applyEditorChange(e){O.default(e,this.state.editorLastSelection,this.quill,this.onEditorChange),this.notifyPluginsOfPropChanges()}applyChangeAndSetEditorFocused(e){this.applyEditorChange(e),this.onToolbarActionComplete(!0)}quillModuleAction(e){let t;if("quill.history"===e.module&&(t=this.quill.history,"undo"===e.action))return void t.undo();if("quill.table"===e.module)switch(t=this.quill.getModule("table"),e.action){case"insert-table":e.rowCount&&e.columnCount&&(t.insertTable(e.rowCount,e.columnCount,e.headerRow,e.headerColumn),this.setState({editorHasTableSelected:this.getEditorHasTableSelected()}));break;case"edit-table":e.rowCount&&e.columnCount&&t.editTable(e.rowCount,e.columnCount);break;case"get-table-info":return t.getTableData();case"insert-row-above":t.insertRowAbove();break;case"insert-row-below":t.insertRowBelow();break;case"insert-col-left":t.insertColumnLeft();break;case"insert-col-right":t.insertColumnRight();break;case"delete-table":t.deleteTable();break;case"delete-row":t.deleteRow();break;case"delete-column":t.deleteColumn();break;case"set-header-row":t.updateHeaderRow(e.setHeader);break;case"set-header-col":t.updateHeaderCol(e.setHeader);break;case"saved-selection":t.updateNullSelection();break;case"get-headers":return t.getTableHeadersValue();case"reset-table-subtoolbar":this.resetTableSubtoolbar()}if(e.module||"clearFormat"!==e.action)return;const n=this.quill.getSelection();!(null==n?void 0:n.length)>0||(N.INLINE_FORMATS.forEach(e=>{this.quill.formatText(n.index,n.length,e,!1)}),N.BLOCK_FORMATS.forEach(e=>{this.quill.format(e,!1)}))}onBbMLInputChange(e){"string"==typeof e&&(this.quill.clipboard.dangerouslyPasteHTML(e),this.makeEmbedsEasierToEditAfter(),""!==e||this.editorInitialContent||(this.editorInitialContent=this.quill.getContents().ops))}onBbMLOutputChange(e){const{editorLastContent:t}=this.state,{autoSaveCallback:n,autoSaveMilliseconds:i,onChange:o}=this.props,r=!p.default(e,t);this.isBbmlDirty=!p.default(e,this.editorInitialContent)&&("\n"!==e[0].insert||"\n"!==this.editorInitialContent[0].insert||e.length>1||this.editorInitialContent.length>1);const a=n&&"number"==typeof i;if((o||a)&&r){const t={toBbML:_.default.toBbML.bind(null,e,this.props.isRtl),isDirty:this.isBbmlDirty,setPristine:e=>{this.setState({editorFormat:{text:"",selection:new c.Range(0,0)}}),this.onBbMLInputChange(e),this.editorInitialContent=this.quill.getContents().ops,this.onEditorChange(c.default.events.TEXT_CHANGE)}};o&&o(t),a&&(clearTimeout(this.autoSaveTimeout),this.autoSaveTimeout=setTimeout(()=>{n(t)},i))}}setToolbarState(e){const t=e.getBoundingClientRect().width,n=S.default(t,this.props.toolbarSet),i=b.default(this.props.plugins,()=>this.forceUpdate(),this.fileDragDropUtil);n===this.state.toolbar&&this.plugins===i||(this.plugins=i,this.setState({toolbar:n}))}updateToolbar(e){if(this.editorContainer){const t=this.editorContainer;t.getBoundingClientRect().width<=0&&window.requestAnimationFrame?this.requestAnimationFrameID=window.requestAnimationFrame(this.updateToolbar):e&&"resize"===e.type?(clearTimeout(this.debounceWindowResizeToolbar),this.debounceWindowResizeToolbar=setTimeout(()=>this.setToolbarState(t),100)):this.setToolbarState(t)}}getPluginButtons(){return this.plugins.filter(e=>e.buttonConfig).map(e=>e.buttonConfig).map(e=>{const t=e;return t.key=e.id,t})}getEditorRect(){return this.editorContainer?this.editorContainer.getBoundingClientRect():null}isFileDropEnabled(){return!this.props.isDisabled&&!this.props.isReadOnly&&this.fileDragDropUtil.hasDropHandlers()}isFileOnEvent(e){return void 0!==e.dataTransfer.files&&e.dataTransfer.files.length>0}onDragEnter(){this.isFileDropEnabled()&&(this.dragCount+=1,C.updateKeyboardFocusStyle(this.editorRoot.classList,!0))}onDragLeave(){this.isFileDropEnabled()&&(this.dragCount-=1,0===this.dragCount&&C.updateKeyboardFocusStyle(this.editorRoot.classList,!1))}onDrop(e){this.isFileDropEnabled()&&this.isFileOnEvent(e)&&(this.dragCount=0,C.updateKeyboardFocusStyle(this.editorRoot.classList,!1),this.fileDragDropUtil.onFileDrop(e))}getWordCount(){if(!this.quill)return 0;const e=this.quill.getText().trim();return 0===e.length?0:e.split(/\s+/).length}getDeltaChangeLength(e){let t=0,n=Number.MAX_SAFE_INTEGER;return e.undo.forEach(e=>{e.undo.ops.forEach(e=>{var i,o,r;e.retain&&(n=Math.min(n,e.retain)),t+=null!==(i=e.delete)&&void 0!==i?i:0,t-=null!==(r=null===(o=e.insert)||void 0===o?void 0:o.length)&&void 0!==r?r:0})}),n===Number.MAX_SAFE_INTEGER&&(n=0),{lowestRetain:n,offset:t}}getEditorHasTableSelected(){const e=this.getEditorSelection();return"table"in this.quill.getFormat(e)}isDifferentTableSelected(e){if(e){const t=this.quill.getFormat(e);if("table"in t){const e=this.getEditorSelection();return this.quill.getFormat(e).table!==t.table}}return!1}extendTableSelection(){var e,t;const n=document.getSelection();if("Range"!==n.type)return;let i=n.anchorNode;i.nodeType!==Node.ELEMENT_NODE&&(i=i.parentElement),i=null!==(e=i.closest("TD"))&&void 0!==e?e:i.closest("TH");let o=n.focusNode;if(o.nodeType!==Node.ELEMENT_NODE&&(o=o.parentElement),o=null!==(t=o.closest("TD"))&&void 0!==t?t:o.closest("TH"),!i&&!o)return;const r=n.anchorNode.compareDocumentPosition(n.focusNode)===Node.DOCUMENT_POSITION_FOLLOWING;if(i===o)return;let a=n.anchorNode,s=n.anchorOffset,l=n.focusNode,u=n.focusOffset;i&&(a=r?i.closest("TABLE"):i.closest("TABLE").nextSibling,s=0),o&&(l=r?o.closest("TABLE").nextSibling:o.closest("TABLE"),u=0),n.setBaseAndExtent(a,s,l,u)}resetTableSubtoolbar(){this.setState({editorHasTableSelected:!1}),setTimeout(()=>this.setState({editorHasTableSelected:!0}))}render(){const{localize:e}=this.props,t=this.state.toolbar,n=this.getPluginButtons(),i=!this.props.isToolbarHidden&&!this.props.isReadOnly,r=i&&this.state.editorHasKeyboardFocus,a=l.default({"keyboard-tooltip-container":!0,"no-toolbar":!i,"is-rtl":this.props.isRtl});return o.default.createElement("div",{ref:e=>{this.editorContainer=e},className:"bb-editor-root",role:"presentation",onKeyDown:this.onKeyDown,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDrop:this.onDrop,onDragOver:this.fileDragDropUtil.onFileDragOver},i&&o.default.createElement(t,{isDisabled:this.props.isDisabled||this.props.isReadOnly,isRtl:this.props.isRtl,editorFormat:this.state.editorFormat,editorId:this.props.editorId,addKeyDownHandler:this.keyDownHandler.addKeyDownHandler,applyChange:this.applyEditorChange,quillModuleAction:this.quillModuleAction,toolbarActionComplete:this.onToolbarActionComplete,hasKeyboardFocus:this.state.toolbarHasKeyboardFocus,setEditorFocusStateToolbar:this.setEditorFocusStateToolbar,pluginButtons:n,getEditorRect:this.getEditorRect,editorHasTableSelected:this.state.editorHasTableSelected}),o.default.createElement("div",{className:a},r&&o.default.createElement("span",{role:"status","aria-live":"polite",className:"sr-only"},e.translate("bbmlEditor.editor.accessibilityAriaMessage")),r&&o.default.createElement("div",{className:"keyboard-tooltip"},e.translate("bbmlEditor.editor.accessibilityMessage")),o.default.createElement("div",{ref:e=>{this.editorRoot=e},role:"presentation"})),this.props.errorMessage&&o.default.createElement("span",{className:"error-message"},this.props.errorMessage),this.props.showWordCount&&!this.props.isReadOnly&&i&&o.default.createElement("span",{className:"word-count"},e.translate("bbmlEditor.editor.wordCount",{count:this.getWordCount()})))}}t.BaseBbEditor=w;const A=a.default.shape({buttonConfig:a.default.shape({id:a.default.string.isRequired,cssClass:a.default.string.isRequired,isActive:a.default.func.isRequired,onClick:a.default.func.isRequired}),formatter:a.default.shape({type:a.default.oneOf(["inline","embed","embedInline"]),tagName:a.default.string,attributes:a.default.shape(),renderDomNode:a.default.func}),matchers:a.default.arrayOf(a.default.string),onLoad:a.default.func,onUnload:a.default.func,pluginId:a.default.string,toBbML:a.default.func});w.propTypes={ally:E.allyPropShape,ariaLabelledBy:a.default.string,ariaDescribedBy:a.default.string,ariaRequired:a.default.bool,autoSaveCallback:a.default.func,autoSaveMilliseconds:a.default.number,bbml:a.default.string,disablePasteFormat:a.default.bool,editorId:a.default.string,errorMessage:a.default.string,isDisabled:a.default.bool,isReadOnly:a.default.bool,isRtl:a.default.bool,isToolbarHidden:a.default.bool,onChange:a.default.func,onBlur:a.default.func,onFocus:a.default.func,placeholder:a.default.string,plugins:a.default.arrayOf(a.default.oneOfType([A,a.default.arrayOf(A)])),showWordCount:a.default.bool,toolbarSet:a.default.oneOf(["default","minimal"])},w.defaultProps={ally:E.defaultAllyProp,ariaLabelledBy:null,ariaDescribedBy:null,ariaRequired:!1,autoSaveCallback:null,autoSaveMilliseconds:null,bbml:null,disablePasteFormat:!1,editorId:"bb-editor-textbox",errorMessage:null,isDisabled:!1,isReadOnly:!1,isRtl:!1,isToolbarHidden:!1,onChange:null,onFocus:null,onBlur:null,placeholder:null,plugins:[],showWordCount:!1,toolbarSet:"default"},t.default=u.localizedComponentWrapper(w)},"4oOs":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("ERkP")),r=n("o27f"),a=i.__importDefault(n("PaW+")),s=i.__importDefault(n("6YEf")),l=n("tIQC");n("dScN");const u=i.__importDefault(n("hOhB")),c=n("YYJ2"),d="image";function f(e){return{id:d,cssClass:d,iconName:"image",iconComponent:l.Image,isDialog:!0,isActive:e=>!!e[d]||!!e.inlineImage,onClick:({showModal:t,...n})=>{t(s.default,{...e,...n})}}}const p=[`[data-bbtype="${d}"]`],h={type:"embed",blotName:d,tagName:"div",attributes:{"data-bbtype":d,"data-bbfile":null,href:null},renderDomNode:c.renderReactPluginFactory({additionalRootClasses:"bb-image-container",component:e=>{const{editorProps:t,values:n}=e,i=t.isDisabled||!t.isReadOnly,a=o.default.useMemo(()=>n.bbfile&&JSON.parse(n.bbfile),[n.bbfile]),s={alt:a&&a.alt||n.href,className:"no-select",onError:e=>e.target.classList.add("broken-image"),src:n.href};return o.default.createElement(r.MediaGallery,{disabled:i},o.default.createElement("img",Object.assign({},s)))}})};function m(e,t){return`<a href="${t.href}" data-bbtype="${d}" data-bbfile="${u.default(t.bbfile)}">${t.href}</a>`}t.default=e=>[a.default(),{pluginId:d,buttonConfig:f(e),matchers:p,formatter:h,toBbML:m}]},"4p8m":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("aWzz")),r=i.__importDefault(n("ERkP")),a=i.__importDefault(n("4Xt8"));function s(e){const t=e.pluginButtons.find(e=>"editAttachment"===e.id);return t?r.default.createElement(a.default,Object.assign({},t,e)):null}t.default=s,s.propTypes={pluginButtons:o.default.arrayOf(o.default.shape({id:o.default.string.isRequired,cssClass:o.default.string.isRequired,iconName:o.default.string.isRequired,isActive:o.default.func.isRequired,onClick:o.default.func.isRequired})).isRequired}},"4vD5":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("ERkP")),r=n("8unJ"),a=n("Me3n"),s=n("Rfwc"),l=n("xD/U"),u=n("omxn"),c=n("myse"),d=i.__importDefault(n("+IdX")),f=i.__importDefault(n("aWzz"));t.colors={Black:"#000000",Grey:"#666666",Purple:"#a234b5",Blue:"#046ef6",Green:"#1c8845",Red:"#e72218"};class p extends o.default.Component{render(){const{applyChange:e,editorFormat:n,localize:i}=this.props;return o.default.createElement(s.List,{classes:{padding:"color-picker-menu-list"}},o.default.createElement(l.ListItem,{button:!0,onClick:()=>e(d.default.createChange(t.colors.Black)),"aria-label":i.translate("bbmlEditor.toolbar.color-picker-black.axAriaText")},o.default.createElement(u.ListItemIcon,{classes:{root:"picker-color color-black"}},(n.color===t.colors.Black||!n.color)&&o.default.createElement(a.CheckCircle,null)),o.default.createElement("span",{className:"picker-color-name"},i.translate("bbmlEditor.toolbar.color-picker-black.label"))),o.default.createElement(l.ListItem,{button:!0,onClick:()=>e(d.default.createChange(t.colors.Grey)),"aria-label":i.translate("bbmlEditor.toolbar.color-picker-grey.axAriaText")},o.default.createElement(u.ListItemIcon,{classes:{root:"picker-color color-grey"}},n.color===t.colors.Grey&&o.default.createElement(a.CheckCircle,null)),o.default.createElement("span",{className:"picker-color-name"},i.translate("bbmlEditor.toolbar.color-picker-grey.label"))),o.default.createElement(l.ListItem,{button:!0,onClick:()=>e(d.default.createChange(t.colors.Purple)),"aria-label":i.translate("bbmlEditor.toolbar.color-picker-purple.axAriaText")},o.default.createElement(u.ListItemIcon,{classes:{root:"picker-color color-purple"}},n.color===t.colors.Purple&&o.default.createElement(a.CheckCircle,null)),o.default.createElement("span",{className:"picker-color-name"},i.translate("bbmlEditor.toolbar.color-picker-purple.label"))),o.default.createElement(l.ListItem,{button:!0,onClick:()=>e(d.default.createChange(t.colors.Blue)),"aria-label":i.translate("bbmlEditor.toolbar.color-picker-blue.axAriaText")},o.default.createElement(u.ListItemIcon,{classes:{root:"picker-color color-blue"}},n.color===t.colors.Blue&&o.default.createElement(a.CheckCircle,null)),o.default.createElement("span",{className:"picker-color-name"},i.translate("bbmlEditor.toolbar.color-picker-blue.label"))),o.default.createElement(l.ListItem,{button:!0,onClick:()=>e(d.default.createChange(t.colors.Green)),"aria-label":i.translate("bbmlEditor.toolbar.color-picker-green.axAriaText")},o.default.createElement(u.ListItemIcon,{classes:{root:"picker-color color-green"}},n.color===t.colors.Green&&o.default.createElement(a.CheckCircle,null)),o.default.createElement("span",{className:"picker-color-name"},i.translate("bbmlEditor.toolbar.color-picker-green.label"))),o.default.createElement(l.ListItem,{button:!0,onClick:()=>e(d.default.createChange(t.colors.Red)),"aria-label":i.translate("bbmlEditor.toolbar.color-picker-red.axAriaText")},o.default.createElement(u.ListItemIcon,{classes:{root:"picker-color color-red"}},n.color===t.colors.Red&&o.default.createElement(a.CheckCircle,null)),o.default.createElement("span",{className:"picker-color-name"},i.translate("bbmlEditor.toolbar.color-picker-red.label"))))}}t.ColorPicker=p,p.propTypes={applyChange:f.default.func,editorFormat:f.default.shape()},p.defaultProps={applyChange:null,editorFormat:{}},t.default=r.localizedComponentWrapper(c.withAnalytics(p))},"5Iw4":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("ERkP")),r=i.__importDefault(n("aWzz")),a=i.__importDefault(n("Ym/N")),s=i.__importStar(n("hOhB")),l=i.__importDefault(n("gUiA")),u=i.__importDefault(n("WrSi")),c=i.__importDefault(n("AM48")),d=n("B43Y"),f=n("wtdm");n("GK8r");const p=n("YYJ2");t.pluginId="ltiCard";const h=[`[data-bbtype=${t.pluginId}][data-bbfile]`];t.pluginConfigPropType=r.default.shape({getEmbedSrc:r.default.func,openContentMarket:r.default.func,noInsert:r.default.bool});const m=({showModal:e,applyChange:t,ltiCard:n})=>{const i=JSON.parse(n.bbfile),o=i&&i.title;e(c.default,{contentMarketObject:{data:i,title:o},applyChange:t,editMode:!0})},b=({showModal:e,applyChange:t,pluginConfig:n})=>{n.openContentMarket(n=>{n&&n.length>0&&(1===n.length?e(c.default,{contentMarketObject:n[0],applyChange:t}):t(l.default(n)))})};function g(e){return{id:t.pluginId,cssClass:"insert_from_content_market",iconName:"content-market",iconComponent:f.ContentMarket,isDialog:!0,isHideable:e&&e.noInsert,isActive:e=>!!e[t.pluginId],onClick:({applyChange:n,editorFormat:i,showModal:o})=>{const r=i[t.pluginId];if(r&&r.bbfile)m({showModal:o,applyChange:n,ltiCard:r});else{if(!e||!e.openContentMarket)throw new Error("`openContentMarket` function is required to insert a new LTI item");b({showModal:o,applyChange:n,pluginConfig:e})}}}}const y=e=>!e.isReadOnly||e.isDisabled?"-1":"0",v=e=>{const{editorProps:n,values:i,pluginConfig:r}=e,a=o.default.useMemo(()=>JSON.parse(i.bbfile),[i.bbfile]);let s=a.iconUrl||"";a.linkType===d.LTI_LINKTYPE.bltiPlacement&&a.url&&!a.iconUrl&&(s=a.url);const l={displayName:a.title,iconUrl:s,bbType:t.pluginId,bbFile:i.bbfile,hasHoverState:n.isReadOnly,tabIndex:y(n),launchLtiLink:r.launchLtiLink};return o.default.createElement(u.default,Object.assign({},l))};t.formatterComponentFactory=e=>t=>o.default.createElement(v,Object.assign({},t,{pluginConfig:e}));const E=e=>({type:"embed",blotName:t.pluginId,tagName:"div",attributes:{"data-bbtype":t.pluginId,"data-bbfile":null,href:null},renderDomNode:p.renderReactPluginFactory({processValues:e=>({...e,bbfile:s.stringDecode(e.bbfile)}),component:t.formatterComponentFactory(e)})});function _(e,n){const i=JSON.parse(n.bbfile);return`<a href="${n.href}" data-bbtype="${t.pluginId}" data-bbfile="${s.default(n.bbfile)}">${i.title}</a>`}t.default=e=>{if(e&&e.openContentMarket&&"function"!=typeof e.openContentMarket)throw new Error("`openContentMarket` must be a function");return[a.default(e),{pluginId:t.pluginId,buttonConfig:g(e),matchers:h,formatter:E(e),toBbML:_}]}},"5TY+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("ERkP")),r=n("8unJ"),a=i.__importDefault(n("aWzz")),s=i.__importDefault(n("5XwT")),l=n("G0uU"),u=n("3/0u"),c=n("8h7I"),d=i.__importDefault(n("JVaS")),f=i.__importDefault(n("c7IC"));class p extends o.default.Component{constructor(e){super(e);const t=e.editorFormat.text,n=e.editorFormat.link&&e.editorFormat.link.href;this.state={displayText:t||"",href:n||"",isOpen:!1,isEditing:e.editorFormat.link},this.isValid=this.isValid.bind(this),this.onHrefChange=this.onHrefChange.bind(this),this.onDisplayTextChange=this.onDisplayTextChange.bind(this),this.onCancel=this.onCancel.bind(this),this.onAnimationComplete=this.onAnimationComplete.bind(this),this.onSave=this.onSave.bind(this),this.getErrorMessage=this.getErrorMessage.bind(this),this.getHrefLabel=this.getHrefLabel.bind(this),this.getDisplayTextLabel=this.getDisplayTextLabel.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.onClick=this.onClick.bind(this)}UNSAFE_componentWillMount(){setTimeout(()=>this.setState({isOpen:!0}))}onCancel(){this.setState({isOpen:!1})}onAnimationComplete(){if(this.saveInitiated){const e=this.props.editorFormat.link&&this.props.editorFormat.link.bbfile,t=this.props.editorFormat.link&&this.props.editorFormat.link.bbtype;this.props.applyChange(f.default(this.state.href,this.state.displayText,e,t))}this.props.destroy()}onKeyDown(e){e.keyCode===s.default.ENTER&&(e.preventDefault(),e.stopPropagation(),this.onSave())}onClick(e){e.preventDefault(),e.stopPropagation(),this.onSave()}onSave(){return this.isValid()&&!this.saveInitiated&&(this.saveInitiated=!0,this.setState({isOpen:!1})),!1}onHrefChange(e){this.setState({href:e})}onDisplayTextChange(e){this.setState({displayText:e})}getErrorMessage(e){const t=e||this.state.isEditing?"":this.props.localize.translate("bbmlEditor.dialogs.link.errorMessage");return d.default(t)}getHrefLabel(){return this.props.localize.translate("bbmlEditor.dialogs.link.hrefLabel")}getDisplayTextLabel(){return this.props.localize.translate("bbmlEditor.dialogs.link.displayTextLabel")}isValid(){return(this.state.isEditing||""!==this.state.href.trim())&&!(""===this.state.href.trim()&&""===this.state.displayText.trim())}render(){const{editorFormat:e,localize:t}=this.props,n=t.translate("bbmlEditor.buttons.cancel"),i=e.link?t.translate("bbmlEditor.buttons.save"):t.translate("bbmlEditor.buttons.insert"),r=e.link&&"lti"===e.link.bbtype;return o.default.createElement(u.Dialog,{hidden:!this.state.isOpen,onDismiss:this.onDismiss,dialogContentProps:{title:e.link?t.translate("bbmlEditor.dialogs.link.titleEdit"):t.translate("bbmlEditor.dialogs.link.titleInsert"),showCloseButton:!1,type:u.DialogType.fullHeaderFooter},modalProps:{onDismiss:this.onCancel,onDismissed:this.onAnimationComplete},firstFocusableSelector:"ms-Dialog-title",analyticsId:`${e.link?t.translate("bbmlEditor.editor.dialogs.link.titleEdit"):t.translate("bbmlEditor.editor.dialogs.link.titleInsert")}`},o.default.createElement(c.TextField,{className:r?"":"required",onKeyDown:this.onKeyDown,label:this.getHrefLabel(),value:this.state.href,onChanged:this.onHrefChange,onGetErrorMessage:this.getErrorMessage,validateOnLoad:!1,validateOnFocusOut:!0,disabled:r,analyticsId:`editor.modal.link.Lti.${r?"":"required"}.textField`,required:!0}),o.default.createElement(c.TextField,{onKeyDown:this.onKeyDown,label:this.getDisplayTextLabel(),value:this.state.displayText,onChanged:this.onDisplayTextChange,analyticsId:"editor.modalLink.dialogs.textField"}),o.default.createElement("br",null),o.default.createElement(u.DialogFooter,null,o.default.createElement(l.DefaultButton,{onClick:this.onCancel,analyticsId:`${e.link?"editor.dialogs.link.titleEdit":"editor.dialogs.link.titleInsert"}.cancel`},n),o.default.createElement(l.PrimaryButton,{onClick:this.onClick,disabled:!this.isValid(),analyticsId:"editor.modalLink.save.button"},i)))}}t.BaseModalLink=p,p.propTypes={destroy:a.default.func.isRequired,applyChange:a.default.func.isRequired,editorFormat:a.default.shape()},p.defaultProps={editorFormat:{}},t.default=r.localizedComponentWrapper(p)},"5XwT":function(e,t,n){e.exports=n("GmwB")},"5aoz":function(e,t,n){"use strict";function i(e){this.message=e}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,e.exports=i},"5dj2":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("ihtQ"));t.default=o.default;const r=n("UCFG");t.Range=r.Range,n("uf++");const a=n("prIK"),s=i.__importDefault(n("kIia")),l=i.__importDefault(n("YBad")),u=i.__importDefault(n("kmO7")),c=i.__importDefault(n("fvEQ")),d=i.__importDefault(n("RJOg")),f=i.__importDefault(n("s1u4")),p=i.__importDefault(n("+IdX")),h=n("+jc/"),m=n("Zru4"),b=i.__importStar(n("TuIL")),g=i.__importDefault(n("WZs/")),y=i.__importDefault(n("ONuW")),v=i.__importDefault(n("ys2T")),E=i.__importDefault(n("7eFc")),_=i.__importDefault(n("HabF")),O=i.__importDefault(n("xg/7")),C=i.__importDefault(n("vE/+")),S=i.__importDefault(n("42sN")),T=i.__importDefault(n("2Zo3")),N=i.__importDefault(n("vdWu")),w=i.__importDefault(n("aNcu")),A=i.__importDefault(n("8cPK")),x=i.__importDefault(n("CFX5")),k={inline:w.default,embed:A.default,embedInline:x.default},D={"formats/header":c.default,"formats/font":d.default,"formats/size":f.default,"formats/color":p.default,"formats/list":b.default,"formats/list/item":b.CustomListItem,"formats/align":g.default,"formats/bold":y.default,"formats/italic":v.default,"formats/underline":E.default,"formats/strike":_.default,"formats/superscript":O.default,"formats/subscript":C.default,"formats/indent":a.IndentClass,"formats/lineheight":S.default,"formats/direction":T.default,"modules/clipboard":s.default,"modules/history":l.default,"modules/table":u.default};t.configureQuill=(e,t,n)=>{const i={},r={};e.forEach(e=>{if(e.formatter){const o=e.formatter.blotName||e.pluginId;if(r[o]=class extends k[e.formatter.type]{},r[o].create=n=>{const i=document.createElement(e.formatter.tagName);return e.formatter.renderDomNode(i,e.formatter.attributes,n,t)},r[o].blotAttributes=e.formatter.attributes,r[o].blotName=o,r[o].className=e.formatter.className||o,r[o].tagName=e.formatter.tagName,r[o].toBbML=e.toBbML,i[`formats/${o}`]=r[o],"function"==typeof e.onLoad)try{e.onLoad(n)}catch(e){console.error(e)}}});const a={...D,...i};o.default.register(a,!0),(e=>{Object.keys(e).forEach(t=>{if(t.startsWith("formats/")){const n=t.replace("formats/","");N.default.registerConverter(n,e[t])}})})(a)};const R=o.default.import("parchment");t.Parchment=R,R.register(h.customListItemSizeAttributor,m.customIndentAttributor,m.customIndentAttributorRTL)},"5o3E":function(e,t,n){"use strict";var i=n("yYc7");function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(i.isURLSearchParams(t))r=t.toString();else{var a=[];i.forEach(t,(function(e,t){null!=e&&(i.isArray(e)&&(t+="[]"),i.isArray(e)||(e=[e]),i.forEach(e,(function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))})))})),r=a.join("&")}return r&&(e+=(-1===e.indexOf("?")?"?":"&")+r),e}},"60v7":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importStar(n("ERkP")),r=i.__importDefault(n("aWzz")),a=i.__importDefault(n("riqF")),s=i.__importDefault(n("4Xt8")),l=i.__importStar(n("ChZS")),u=i.__importDefault(n("XAd7")),c=n("B43Y"),d=n("2Zo3"),f=n("s1u4"),p=i.__importDefault(n("4p8m")),h=i.__importDefault(n("f7Oh")),m=i.__importDefault(n("4vD5")),b=i.__importDefault(n("Xgsd")),g=i.__importDefault(n("Dvxd")),y={None:"",TextStylingMenu:"textStylingMenu",TextOptionsMenu:"textOptionsMenu",ListMenu:"listMenu"};function v(e){const[t,n]=o.useState(y.None),[i,r]=o.useState(),v=e=>{n(t=>t===e?y.None:e)},E=()=>{v(y.None)};return o.default.createElement("div",null,o.default.createElement(a.default,Object.assign({},e,{isSubToolbarOpen:t!==y.None,resetMenu:E,shareNavigator:e=>{r(e)}}),o.default.createElement(s.default,Object.assign({},l.TextStylingMenu,{onClick:()=>v(y.TextStylingMenu),iconOnly:!0,isSubmenu:!0,isToolbarOpen:t===y.TextStylingMenu,separator:!0})),o.default.createElement(s.default,Object.assign({},l.FormatStyleMenu,{onClick:()=>v(y.TextOptionsMenu),iconOnly:!0,isSubmenu:!0,isToolbarOpen:t===y.TextOptionsMenu,separator:!0})),o.default.createElement(s.default,Object.assign({},l.ListStyleMenu,{onClick:()=>v(y.ListMenu),iconOnly:!0,isSubmenu:!0,isToolbarOpen:t===y.ListMenu,separator:!0})),o.default.createElement(s.default,Object.assign({},l.Undo,{isButtonDisabled:e.editorHasTableSelected,iconOnly:!0})),o.default.createElement(b.default,{pluginButtons:e.pluginButtons,iconOnly:!0}),e.pluginButtons.length>0&&o.default.createElement(s.default,Object.assign({},l.InsertContentMenu,{iconOnly:!0}),u.default(e,c.TOOLBAR_SETS.default,c.TOOLBAR_BREAKPOINTS.small)),o.default.createElement(p.default,{id:c.EDITABLE_ATTACHMENT_CONFIG.id,pluginButtons:e.pluginButtons,iconOnly:!0,isHideable:!0}),o.default.createElement(h.default,{id:c.EDITABLE_TPC_CONFIG.id,pluginButtons:e.pluginButtons,iconOnly:!0,isHideable:!0})),t===y.TextStylingMenu&&o.default.createElement(a.default,Object.assign({},l.TextStylingToolbar,e,{isSubmenuToolbar:!0,resetMenu:E}),o.default.createElement(s.default,Object.assign({},l.TextStyle,{textOnly:!0}),o.default.createElement(s.default,Object.assign({},l.Title,{textOnly:!0})),o.default.createElement(s.default,Object.assign({},l.Header,{textOnly:!0})),o.default.createElement(s.default,Object.assign({},l.Subheader,{textOnly:!0})),o.default.createElement(s.default,Object.assign({},l.Paragraph,{textOnly:!0}))),o.default.createElement(s.default,Object.assign({},l.TextFontMenu,{iconOnly:!0}),o.default.createElement(s.default,Object.assign({},l.FontArial,{textOnly:!0})),o.default.createElement(s.default,Object.assign({},l.FontComicSans,{textOnly:!0})),o.default.createElement(s.default,Object.assign({},l.FontCourierNew,{textOnly:!0})),o.default.createElement(s.default,Object.assign({},l.FontNoto,{textOnly:!0})),o.default.createElement(s.default,Object.assign({},l.FontOpenSans,{textOnly:!0})),o.default.createElement(s.default,Object.assign({},l.FontTimesNewRoman,{textOnly:!0})),o.default.createElement(s.default,Object.assign({},l.FontVerdana,{textOnly:!0}))),o.default.createElement(s.default,Object.assign({},l.TextSize,{iconOnly:!0}),o.default.createElement(s.default,Object.assign({},l.Size10,{textOnly:!0})),o.default.createElement(s.default,Object.assign({},l.Size12,{textOnly:!0})),o.default.createElement(s.default,Object.assign({},l.Size14,{textOnly:!0,isActive:t=>t.size===f.TEXT_SIZE_14||!e.isRtl&&!t.size})),o.default.createElement(s.default,Object.assign({},l.Size18,{textOnly:!0,isActive:t=>t.size===f.TEXT_SIZE_18||e.isRtl&&!t.size})),o.default.createElement(s.default,Object.assign({},l.Size24,{textOnly:!0})),o.default.createElement(s.default,Object.assign({},l.Size36,{textOnly:!0})),o.default.createElement(s.default,Object.assign({},l.Size48,{textOnly:!0}))),o.default.createElement(s.default,Object.assign({},l.ColorPicker,{iconOnly:!0}),o.default.createElement(m.default,null))),t===y.TextOptionsMenu&&o.default.createElement(a.default,Object.assign({},l.TextOptionsToolbar,e,{isSubmenuToolbar:!0,isSubToolbarOpen:t!==y.None,resetMenu:E}),o.default.createElement(s.default,Object.assign({},l.Bold,{iconOnly:!0})),o.default.createElement(s.default,Object.assign({},l.Italic,{iconOnly:!0})),o.default.createElement(s.default,Object.assign({},l.Underline,{iconOnly:!0})),o.default.createElement(s.default,Object.assign({},l.Strike,{iconOnly:!0})),o.default.createElement(s.default,Object.assign({},l.Superscript,{iconOnly:!0})),o.default.createElement(s.default,Object.assign({},l.Subscript,{iconOnly:!0})),o.default.createElement(s.default,Object.assign({},l.ClearFormat,{iconOnly:!0}))),t===y.ListMenu&&o.default.createElement(a.default,Object.assign({},l.ListFormattingToolbar,e,{isSubmenuToolbar:!0,isSubToolbarOpen:t!==y.None,resetMenu:E}),o.default.createElement(s.default,Object.assign({},l.Alignment,{iconOnly:!0}),o.default.createElement(s.default,Object.assign({},l.AlignLeft)),o.default.createElement(s.default,Object.assign({},l.AlignCenter)),o.default.createElement(s.default,Object.assign({},l.AlignRight)),o.default.createElement(s.default,Object.assign({},l.AlignJustify))),o.default.createElement(s.default,Object.assign({},l.UnorderedList,{iconOnly:!0})),o.default.createElement(s.default,Object.assign({},l.OrderedList,{iconOnly:!0})),o.default.createElement(s.default,Object.assign({},l.LineHeight,{iconOnly:!0}),o.default.createElement(s.default,Object.assign({},l.LineHeight1,{textOnly:!0})),o.default.createElement(s.default,Object.assign({},l.LineHeight1_15,{textOnly:!0})),o.default.createElement(s.default,Object.assign({},l.LineHeight1_50,{textOnly:!0})),o.default.createElement(s.default,Object.assign({},l.LineHeight2,{textOnly:!0}))),e.editorHasTableSelected?o.default.createElement(s.default,Object.assign({},l.EditTable,{iconOnly:!0})):o.default.createElement(s.default,Object.assign({},l.InsertTable,{iconOnly:!0})),e.isRtl&&o.default.createElement(s.default,Object.assign({},l.DirRTL,{iconOnly:!0,isActive:t=>t.direction===d.DIR_RTL||!t.direction&&e.isRtl})),o.default.createElement(s.default,Object.assign({},l.DirLTR,{iconOnly:!0,isActive:t=>t.direction===d.DIR_LTR||!t.direction&&!e.isRtl})),!e.isRtl&&o.default.createElement(s.default,Object.assign({},l.DirRTL,{iconOnly:!0,isActive:t=>t.direction===d.DIR_RTL||!t.direction&&e.isRtl}))),e.editorHasTableSelected&&o.default.createElement(g.default,Object.assign({},e,{isSmallToolbar:!0,useSharedNavigator:!0,sharedNavigator:i,isAdditionalToolbarVisible:e.editorHasTableSelected})))}v.propTypes={pluginButtons:r.default.arrayOf(r.default.shape({id:r.default.string.isRequired,cssClass:r.default.string.isRequired,iconName:r.default.string.isRequired,isActive:r.default.func.isRequired,onClick:r.default.func.isRequired})).isRequired,editorHasTableSelected:r.default.bool},v.defaultProps={editorHasTableSelected:!1},t.default=v},"6VEp":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("aWzz")),r=i.__importDefault(n("ERkP")),a=i.__importDefault(n("4Xt8"));function s(e){const t=e.pluginButtons.find(e=>"math"===e.id);return t?r.default.createElement(a.default,Object.assign({},t,e)):null}t.default=s,s.propTypes={pluginButtons:o.default.arrayOf(o.default.shape({id:o.default.string.isRequired,cssClass:o.default.string.isRequired,iconName:o.default.string.isRequired,isActive:o.default.func.isRequired,onClick:o.default.func.isRequired})).isRequired}},"6YEf":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("ERkP")),r=n("8unJ"),a=i.__importDefault(n("aWzz")),s=i.__importDefault(n("5XwT")),l=n("G0uU"),u=n("3/0u"),c=n("8h7I"),d=i.__importDefault(n("W/d8")),f=i.__importDefault(n("JVaS"));class p extends o.default.Component{static isValidSrc(e){return"string"==typeof e&&""!==e.trim()}constructor(e){super(e);let t="",n="";if(e.editorFormat.image){t=JSON.parse(e.editorFormat.image.bbfile).alt||"",n=e.editorFormat.image.href||""}else e.editorFormat.inlineImage&&(n=e.editorFormat.inlineImage.src,t=e.editorFormat.inlineImage.alt);this.state={alt:t,src:n,isOpen:!1},this.onSrcChange=this.onSrcChange.bind(this),this.onAltChange=this.onAltChange.bind(this),this.onCancel=this.onCancel.bind(this),this.onAnimationComplete=this.onAnimationComplete.bind(this),this.onSave=this.onSave.bind(this),this.getSrcErrorMessage=this.getSrcErrorMessage.bind(this),this.getSrcLabel=this.getSrcLabel.bind(this),this.getAltLabel=this.getAltLabel.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.onClick=this.onClick.bind(this)}UNSAFE_componentWillMount(){setTimeout(()=>this.setState({isOpen:!0}))}onCancel(){this.setState({isOpen:!1})}onAnimationComplete(){this.saveInitiated&&this.props.applyChange(d.default(this.state.src,this.state.alt,this.props.editorFormat.inlineImage,this.props.editorFormat.image)),this.props.destroy()}onSave(){const e=this.state.src.includes("://")?this.state.src:`http://${this.state.src}`;return this.constructor.isValidSrc(e)&&!this.saveInitiated&&(this.saveInitiated=!0,this.setState({isOpen:!1,src:e})),!1}onKeyDown(e){e.keyCode===s.default.ENTER&&(e.preventDefault(),e.stopPropagation(),this.onSave())}onClick(e){e.preventDefault(),e.stopPropagation(),this.onSave()}onSrcChange(e){this.setState({src:e})}onAltChange(e){this.setState({alt:e})}getSrcErrorMessage(e){const{localize:t}=this.props,n=this.constructor.isValidSrc(e)?"":t.translate("bbmlEditor.dialogs.image.errorMessage");return f.default(n)}getSrcLabel(){return this.props.localize.translate("bbmlEditor.dialogs.image.srcLabel")}getAltLabel(){return this.props.localize.translate("bbmlEditor.dialogs.image.altLabel")}render(){const{editorFormat:e,localize:t}=this.props,n=t.translate("bbmlEditor.buttons.cancel"),i=e.image||e.inlineImage?t.translate("bbmlEditor.dialogs.image.titleEdit"):t.translate("bbmlEditor.dialogs.image.titleInsert"),r=e.image||e.inlineImage?t.translate("bbmlEditor.buttons.save"):t.translate("bbmlEditor.buttons.insert");return o.default.createElement(u.Dialog,{hidden:!this.state.isOpen,dialogContentProps:{title:i,showCloseButton:!1,type:u.DialogType.fullHeaderFooter},modalProps:{onDismissed:this.onAnimationComplete},firstFocusableSelector:"ms-Dialog-title",analyticsId:e.image||e.inlineImage?"editor.dialogs.image.titleEdit":"editor.dialogs.image.titleInsert"},o.default.createElement(c.TextField,{label:this.getSrcLabel(),value:this.state.src,onChanged:this.onSrcChange,onGetErrorMessage:this.getSrcErrorMessage,onKeyDown:this.onKeyDown,validateOnLoad:!1,validateOnFocusOut:!0,analyticsId:"editor.dialogs.image.srcLabel.textField",required:!0}),o.default.createElement(c.TextField,{label:this.getAltLabel(),value:this.state.alt,onChanged:this.onAltChange,onKeyDown:this.onKeyDown,analyticsId:"editor.dialogs.image.altLabel.textField"}),o.default.createElement("br",null),o.default.createElement(u.DialogFooter,null,o.default.createElement(l.DefaultButton,{onClick:this.onCancel,analyticsId:`${e.image||e.inlineImage?"editor.dialogs.image.titleEdit":"editor.dialogs.image.titleInsert"}.cancel`},n),o.default.createElement(l.PrimaryButton,{onClick:this.onClick,disabled:!this.constructor.isValidSrc(this.state.src),analyticsId:`${e.image||e.inlineImage?"editor.dialogs.image.titleEdit":"editor.dialogs.image.titleInsert"}.save.button`},r)))}}t.BaseModalImage=p,p.propTypes={destroy:a.default.func.isRequired,applyChange:a.default.func.isRequired,editorFormat:a.default.shape()},p.defaultProps={editorFormat:{}},t.default=r.localizedComponentWrapper(p)},"6spW":function(e,t,n){"use strict";n.r(t);var i=n("oB8T"),o=n.n(i),r=n("RSpw");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(n,e);var t=l(n);function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t.apply(this,arguments)}return n}(o.a.Container);d.allowedChildren=[r.default,r.BlockEmbed,d],t.default=d},"74Fx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importStar(n("ERkP")),r=i.__importDefault(n("aWzz")),a=i.__importDefault(n("riqF")),s=i.__importDefault(n("4Xt8")),l=i.__importStar(n("ChZS")),u=i.__importDefault(n("4vD5")),c=i.__importDefault(n("Kjgm")),d=i.__importDefault(n("Dvxd")),f=i.__importStar(n("XAd7")),p=n("B43Y"),h=n("2Zo3"),m=n("s1u4"),b=i.__importDefault(n("Xgsd")),g=i.__importDefault(n("4p8m")),y=i.__importDefault(n("f7Oh")),v=i.__importDefault(n("f50L")),E={None:"",TextOptionsMenu:"textOptionsMenu",ListMenu:"listMenu"};function _(e){const[t,n]=o.useState(E.None),[i,r]=o.useState(),_=e=>{n(t=>t===e?E.None:e)},O=()=>{_(E.None)};return o.default.createElement("div",null,o.default.createElement(a.default,Object.assign({},e,{isSubToolbarOpen:t!==E.None,resetMenu:O,shareNavigator:e=>{r(e)}}),o.default.createElement(s.default,Object.assign({},l.TextStyle,{textOnly:!0}),o.default.createElement(s.default,Object.assign({},l.Title,{textOnly:!0})),o.default.createElement(s.default,Object.assign({},l.Header,{textOnly:!0})),o.default.createElement(s.default,Object.assign({},l.Subheader,{textOnly:!0})),o.default.createElement(s.default,Object.assign({},l.Paragraph,{textOnly:!0}))),o.default.createElement(s.default,Object.assign({},l.TextFontMenu,{iconOnly:!0}),o.default.createElement(s.default,Object.assign({},l.FontArial,{textOnly:!0})),o.default.createElement(s.default,Object.assign({},l.FontComicSans,{textOnly:!0})),o.default.createElement(s.default,Object.assign({},l.FontCourierNew,{textOnly:!0})),o.default.createElement(s.default,Object.assign({},l.FontNoto,{textOnly:!0})),o.default.createElement(s.default,Object.assign({},l.FontOpenSans,{textOnly:!0})),o.default.createElement(s.default,Object.assign({},l.FontTimesNewRoman,{textOnly:!0})),o.default.createElement(s.default,Object.assign({},l.FontVerdana,{textOnly:!0}))),o.default.createElement(s.default,Object.assign({},l.TextSize,{iconOnly:!0}),o.default.createElement(s.default,Object.assign({},l.Size10,{textOnly:!0})),o.default.createElement(s.default,Object.assign({},l.Size12,{textOnly:!0})),o.default.createElement(s.default,Object.assign({},l.Size14,{textOnly:!0,isActive:t=>t.size===m.TEXT_SIZE_14||!e.isRtl&&!t.size})),o.default.createElement(s.default,Object.assign({},l.Size18,{textOnly:!0,isActive:t=>t.size===m.TEXT_SIZE_18||e.isRtl&&!t.size})),o.default.createElement(s.default,Object.assign({},l.Size24,{textOnly:!0})),o.default.createElement(s.default,Object.assign({},l.Size36,{textOnly:!0})),o.default.createElement(s.default,Object.assign({},l.Size48,{textOnly:!0}))),o.default.createElement(s.default,Object.assign({},l.ColorPicker,{iconOnly:!0,separator:!0}),o.default.createElement(u.default,null)),o.default.createElement(s.default,Object.assign({},l.Bold,{iconOnly:!0})),o.default.createElement(s.default,Object.assign({},l.Italic,{iconOnly:!0})),o.default.createElement(s.default,Object.assign({},l.Underline,{iconOnly:!0})),o.default.createElement(s.default,Object.assign({},l.FormatStyleMenu,{onClick:()=>_(E.TextOptionsMenu),iconOnly:!0,isSubmenu:!0,isToolbarOpen:t===E.TextOptionsMenu,separator:!0})),e.editorHasTableSelected?o.default.createElement(s.default,Object.assign({},l.EditTable,{iconOnly:!0})):o.default.createElement(s.default,Object.assign({},l.TableCreator,{iconOnly:!0}),o.default.createElement(c.default,Object.assign({},e.quillModuleAction)),o.default.createElement(s.default,Object.assign({},l.InsertTable,e.closeAllMenus))),o.default.createElement(s.default,Object.assign({},l.Alignment,{iconOnly:!0}),o.default.createElement(s.default,Object.assign({},l.AlignLeft)),o.default.createElement(s.default,Object.assign({},l.AlignCenter)),o.default.createElement(s.default,Object.assign({},l.AlignRight)),o.default.createElement(s.default,Object.assign({},l.AlignJustify))),o.default.createElement(s.default,Object.assign({},l.ListStyleMenu,{onClick:()=>_(E.ListMenu),iconOnly:!0,isSubmenu:!0,isToolbarOpen:t===E.ListMenu,separator:!0})),o.default.createElement(s.default,Object.assign({},l.Undo,{iconOnly:!0,isButtonDisabled:e.editorHasTableSelected})),o.default.createElement(s.default,Object.assign({},l.ClearFormat,{iconOnly:!0,separator:!0})),o.default.createElement(b.default,{pluginButtons:e.pluginButtons,iconOnly:!0}),o.default.createElement(v.default,{pluginButtons:e.pluginButtons,iconOnly:!0}),f.hasPlugins(e.pluginButtons,p.TOOLBAR_SETS.default,p.TOOLBAR_BREAKPOINTS.large)&&o.default.createElement(s.default,Object.assign({},l.InsertContentMenu,{iconOnly:!0}),f.default(e,p.TOOLBAR_SETS.default,p.TOOLBAR_BREAKPOINTS.large)),o.default.createElement(g.default,{id:p.EDITABLE_ATTACHMENT_CONFIG.id,pluginButtons:e.pluginButtons,iconOnly:!0,isHideable:!0}),o.default.createElement(y.default,{id:p.EDITABLE_TPC_CONFIG.id,pluginButtons:e.pluginButtons,iconOnly:!0,isHideable:!0})),t===E.TextOptionsMenu&&o.default.createElement(a.default,Object.assign({},e,l.TextOptionsToolbar,{isSubmenuToolbar:!0,isSubToolbarOpen:t!==E.None,resetMenu:O}),o.default.createElement(s.default,Object.assign({},l.Strike,{iconOnly:!0})),o.default.createElement(s.default,Object.assign({},l.Superscript,{iconOnly:!0})),o.default.createElement(s.default,Object.assign({},l.Subscript,{iconOnly:!0}))),t===E.ListMenu&&o.default.createElement(a.default,Object.assign({},e,l.ListFormattingToolbar,{isSubmenuToolbar:!0,isSubToolbarOpen:t!==E.None,resetMenu:O}),o.default.createElement(s.default,Object.assign({},l.UnorderedList,{iconOnly:!0})),o.default.createElement(s.default,Object.assign({},l.OrderedList,{iconOnly:!0})),o.default.createElement(s.default,Object.assign({},l.LineHeight,{iconOnly:!0}),o.default.createElement(s.default,Object.assign({},l.LineHeight1,{textOnly:!0})),o.default.createElement(s.default,Object.assign({},l.LineHeight1_15,{textOnly:!0})),o.default.createElement(s.default,Object.assign({},l.LineHeight1_50,{textOnly:!0})),o.default.createElement(s.default,Object.assign({},l.LineHeight2,{textOnly:!0}))),e.isRtl&&o.default.createElement(s.default,Object.assign({},l.DirRTL,{iconOnly:!0,isActive:t=>t.direction===h.DIR_RTL||!t.direction&&e.isRtl})),o.default.createElement(s.default,Object.assign({},l.DirLTR,{iconOnly:!0,isActive:t=>t.direction===h.DIR_LTR||!t.direction&&!e.isRtl})),!e.isRtl&&o.default.createElement(s.default,Object.assign({},l.DirRTL,{iconOnly:!0,isActive:t=>t.direction===h.DIR_RTL||!t.direction&&e.isRtl}))),e.editorHasTableSelected&&o.default.createElement(d.default,Object.assign({},e,{useSharedNavigator:!0,sharedNavigator:i,isAdditionalToolbarVisible:e.editorHasTableSelected})))}_.propTypes={pluginButtons:r.default.arrayOf(r.default.shape({id:r.default.string.isRequired,cssClass:r.default.string.isRequired,iconName:r.default.string.isRequired,isActive:r.default.func.isRequired,onClick:r.default.func.isRequired})).isRequired,editorHasTableSelected:r.default.bool},_.defaultProps={editorHasTableSelected:!1},t.default=_},"7eFc":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K").__importDefault(n("d5gP"));i.default.createChange=(e=!0)=>({format:{underline:e}}),t.default=i.default},"7sIO":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("zkKN")),r=i.__importDefault(n("hENV"));t.default=(e,t,n)=>o.default(t,()=>r.default(n)).then(t=>t.data.results&&t.data.results.length&&t.data.results.filter(t=>t.id===e)[0])},"8W6P":function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n("06eB"),r=n("YNvz"),a={attributes:{compose:function(e,t,n){"object"!==i(e)&&(e={}),"object"!==i(t)&&(t={});var o=r(!0,{},t);for(var a in n||(o=Object.keys(o).reduce((function(e,t){return null!=o[t]&&(e[t]=o[t]),e}),{})),e)void 0!==e[a]&&void 0===t[a]&&(o[a]=e[a]);return Object.keys(o).length>0?o:void 0},diff:function(e,t){"object"!==i(e)&&(e={}),"object"!==i(t)&&(t={});var n=Object.keys(e).concat(Object.keys(t)).reduce((function(n,i){return o(e[i],t[i])||(n[i]=void 0===t[i]?null:t[i]),n}),{});return Object.keys(n).length>0?n:void 0},transform:function(e,t,n){if("object"!==i(e))return t;if("object"===i(t)){if(!n)return t;var o=Object.keys(t).reduce((function(n,i){return void 0===e[i]&&(n[i]=t[i]),n}),{});return Object.keys(o).length>0?o:void 0}}},iterator:function(e){return new s(e)},length:function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}};function s(e){this.ops=e,this.index=0,this.offset=0}s.prototype.hasNext=function(){return this.peekLength()<1/0},s.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var n=this.offset,i=a.length(t);if(e>=i-n?(e=i-n,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var o={};return t.attributes&&(o.attributes=t.attributes),"number"==typeof t.retain?o.retain=e:"string"==typeof t.insert?o.insert=t.insert.substr(n,e):o.insert=t.insert,o}return{retain:1/0}},s.prototype.peek=function(){return this.ops[this.index]},s.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},s.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},e.exports=a},"8alo":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("ggb3")),r=n("QjXM"),a=i.__importDefault(n("nVdv"));class s{constructor(e,t){if(e.cloudStorageIntegrationAccessToken){this.progressTick=0,this.file=e;const n=r.convertToAbsoluteUrl(`${t.apiBasePath}/v1/cloudstorages`),i=r.convertToAbsoluteUrl(`${n}/cloudstorageintegration/contents/${encodeURIComponent(e.id)}/download?accessToken=${e.cloudStorageIntegrationAccessToken}&expand=mimeType,isMedia`);a.default(this,t.xsrfToken,i).then(e=>this.queryDownload(e,n,t.xsrfToken)).catch(e=>this.onError(e))}else{this.progressTick=0,this.file=e;const n=r.convertToAbsoluteUrl(`${t.apiBasePath}/v1/files?expand=mimeType,isMedia`),i=new FormData;i.append("file",e,encodeURIComponent(e.name)),i.append("webLocation",t.webLocation||""),i.append("fileLocation",t.fileLocation||""),o.default({url:n,method:"POST",headers:{"Content-Type":"image/jpeg","X-Blackboard-XSRF":t.xsrfToken},data:i,cancelToken:new o.default.CancelToken(e=>{this.cancelInternal=e}),onUploadProgress:e=>this.onProgress(e)}).then(e=>this.onSuccess(e)).catch(e=>this.onError(e))}}onSuccess(e){this.cachedResponse=e,this.successCallback&&this.successCallback(this.file,e.data)}onProgress(e,t){if(this.cachedProgress=e,this.progressCallback){if(t)return void this.progressCallback(this.file.name,Math.floor(e));e.lengthComputable&&this.progressCallback(this.file.name,Math.floor(100*e.loaded/e.total))}}onError(e){this.cachedError=e,this.errorCallback&&this.errorCallback(this.file,e)}queryDownload(e,t,n){return new Promise(i=>{"COMPLETE"===e.data.status?(this.cloudStorageIntegrationTimer&&clearTimeout(this.cloudStorageIntegrationTimer),i(this.onSuccess(e))):this.cloudStorageIntegrationTimer=setTimeout(()=>{this.onProgress(+e.data.completePercentage,!0);const o=`${t}/tasks/${e.data.taskId}?accessToken=${this.file.cloudStorageIntegrationAccessToken}&expand=mimeType,isMedia`;i(a.default(this,n,o).then(e=>this.queryDownload(e,t,n)).catch(e=>this.onError(e)))},500)})}cancel(){delete this.errorCallback,delete this.progressCallback,delete this.successCallback,this.cachedResponse||this.cachedError||this.cancelInternal()}progress(e){return this.progressCallback=e,this.cachedProgress&&this.onProgress(this.cachedProgress),this}success(e){return this.successCallback=e,this.cachedResponse&&this.onSuccess(this.cachedResponse),this}error(e){return this.errorCallback=e,this.cachedError&&this.onError(this.cachedError),this}}t.default=function(e,t){return new s(e,t)}},"8cPK":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("RSpw"),o=n("km4Y");class r extends i.BlockEmbed{static value(e){return o.getAttributes(e,this.blotAttributes)}static formats(e){return o.getAttributes(e,this.blotAttributes,!0)}detach(){this.domNode.unmountComponent&&this.domNode.unmountComponent(),super.detach()}format(e,t){return e===this.statics.blotName&&t?o.setAttributes(this.domNode,this.statics.blotAttributes,t):super.format(e,t)}}r.blotName="embed",r.tagName="div",t.default=r},"8dj6":function(e,t,n){"use strict";var i=n("P0jV"),o=n("vfGT"),r=n("YsDt"),a=n("N/5i");function s(e){var t=new r(e),n=o(r.prototype.request,t);return i.extend(n,r.prototype,t),i.extend(n,t),n}var l=s(n("dyNj"));l.Axios=r,l.create=function(e){return s(a(l.defaults,e))},l.Cancel=n("FYay"),l.CancelToken=n("J1qw"),l.isCancel=n("WBY7"),l.all=function(e){return Promise.all(e)},l.spread=n("IOAS"),e.exports=l,e.exports.default=l},"8rpy":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=n("pGQc"),r=i.__importDefault(n("ECog"));t.ModalInsertLocalFile=r.default;const a=i.__importDefault(n("pWQM"));t.ModalMaxFileSizeError=a.default;const s=i.__importDefault(n("n4qM")),l=i.__importDefault(n("jgNF")),u=i.__importDefault(n("om/Z"));class c extends Error{constructor(e){super("InvalidFileError"),Object.setPrototypeOf(this,new.target.prototype),this.invalidFile=e}}function d(e,t){return e.allowedFileTypes.some(e=>t.name.toLowerCase().endsWith(e))}t.InvalidFileError=c,t.default=function(e,t=null,n="local"){const i=t||(()=>s.default(e.multiple)),f=e.showModal||l.default;return new Promise(t=>{i().then(i=>{const a=[];for(let t=0;t<i.length;t+=1){if(e.allowedFileTypes&&!d(e,i[t]))throw new c(i[t].name);a.push(i[t])}(function(e,t,n,i){return new Promise(o=>{e(r.default,{createChange:e=>o(e),files:n,fileSource:i,...t},t.localeProps)})})(f,e,a,n).then(e=>{t(e.map(e=>{const t=decodeURIComponent(e.fileName),n=u.default(e.fileName);return{href:`${e.webLocation}${n}`,bbfile:{alternativeText:t,linkName:t,mimeType:e.mimeType,render:o.FileRenderType.inline},originalFile:e}}))})}).catch(t=>{t&&t.file&&t.maxFileMB?f(a.default,{...e,file:t.file,maxFileMB:t.maxFileMB}):e.applyChange?e.applyChange(t):t instanceof c&&e.onWrongFileType(t)})})}},"9WnA":function(e,t,n){(function(t){var n=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var n,i,o;try{n=Map}catch(e){n=function(){}}try{i=Set}catch(e){i=function(){}}try{o=Promise}catch(e){o=function(){}}function r(a,l,u,c,d){"object"==typeof l&&(u=l.depth,c=l.prototype,d=l.includeNonEnumerable,l=l.circular);var f=[],p=[],h=void 0!==t;return void 0===l&&(l=!0),void 0===u&&(u=1/0),function a(u,m){if(null===u)return null;if(0===m)return u;var b,g;if("object"!=typeof u)return u;if(e(u,n))b=new n;else if(e(u,i))b=new i;else if(e(u,o))b=new o((function(e,t){u.then((function(t){e(a(t,m-1))}),(function(e){t(a(e,m-1))}))}));else if(r.__isArray(u))b=[];else if(r.__isRegExp(u))b=new RegExp(u.source,s(u)),u.lastIndex&&(b.lastIndex=u.lastIndex);else if(r.__isDate(u))b=new Date(u.getTime());else{if(h&&t.isBuffer(u))return b=t.allocUnsafe?t.allocUnsafe(u.length):new t(u.length),u.copy(b),b;e(u,Error)?b=Object.create(u):void 0===c?(g=Object.getPrototypeOf(u),b=Object.create(g)):(b=Object.create(c),g=c)}if(l){var y=f.indexOf(u);if(-1!=y)return p[y];f.push(u),p.push(b)}for(var v in e(u,n)&&u.forEach((function(e,t){var n=a(t,m-1),i=a(e,m-1);b.set(n,i)})),e(u,i)&&u.forEach((function(e){var t=a(e,m-1);b.add(t)})),u){var E;g&&(E=Object.getOwnPropertyDescriptor(g,v)),E&&null==E.set||(b[v]=a(u[v],m-1))}if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(u);for(v=0;v<_.length;v++){var O=_[v];(!(S=Object.getOwnPropertyDescriptor(u,O))||S.enumerable||d)&&(b[O]=a(u[O],m-1),S.enumerable||Object.defineProperty(b,O,{enumerable:!1}))}}if(d){var C=Object.getOwnPropertyNames(u);for(v=0;v<C.length;v++){var S,T=C[v];(S=Object.getOwnPropertyDescriptor(u,T))&&S.enumerable||(b[T]=a(u[T],m-1),Object.defineProperty(b,T,{enumerable:!1}))}}return b}(a,u)}function a(e){return Object.prototype.toString.call(e)}function s(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return r.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},r.__objToStr=a,r.__isDate=function(e){return"object"==typeof e&&"[object Date]"===a(e)},r.__isArray=function(e){return"object"==typeof e&&"[object Array]"===a(e)},r.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===a(e)},r.__getRegExpFlags=s,r}();e.exports&&(e.exports=n)}).call(this,n("GmLw").Buffer)},"9ZLq":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K").__importStar(n("ERkP")),o=n("0x+l"),r=n("8jBL"),a=n("MC1S");var s;!function(e){e[e.ScoreIndicator=0]="ScoreIndicator",e[e.AlternativeFormats=1]="AlternativeFormats"}(s=t.WidgetType||(t.WidgetType={}));t.default=({contentRef:e,widgetType:t,text:n,ariaLabel:l,iconSize:u})=>{const c={"data-ally-content-ref":e},d={};switch(l&&(d["aria-label"]=l),n||(d.style={width:"100%"}),d.style={display:"none"},t){case s.ScoreIndicator:if(c["data-ally-invoke"]="instructorfeedback",c["data-ally-show"]="instructorfeedback",!n)return i.createElement("span",Object.assign({},c,d,{"data-ally-scoreindicator":"circle",onKeyDown:e=>{switch(e.keyCode){case 32:e.target.dispatchEvent(new Event("click"))}}}));break;case s.AlternativeFormats:if(c["data-ally-invoke"]="alternativeformats",c["data-ally-show"]="alternativeformats",l&&(c["data-ally-tooltip"]="",d.title=l),!n)return i.createElement("button",Object.assign({},c,d),"medium"===u?i.createElement(r.AllyDownload,{id:"icon-solid-medium-ally-download"}):i.createElement(o.AllyDownload,{id:"icon-solid-small-ally-download"}))}return i.createElement(a.Link,Object.assign({},d,{additionalAttributes:{...c},analyticsId:"components.directives.allyWidget.link"}),n)}},"9nUv":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("74Fx")),r=i.__importDefault(n("2cTK")),a=i.__importDefault(n("60v7")),s=i.__importDefault(n("Hc6M")),l=i.__importDefault(n("V7ul")),u=n("B43Y");t.default=function(e,t){let n=a.default;switch(t){case u.TOOLBAR_SETS.default:n=e>=u.LARGE_TOOLBAR_MIN_SIZE?o.default:e>=u.MEDIUM_TOOLBAR_MIN_SIZE?r.default:a.default;break;case u.TOOLBAR_SETS.minimal:n=e>=u.SMALL_TOOLBAR_MIN_SIZE?s.default:l.default;break;default:n=a.default}return n}},A5ts:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={BLURRED:"blurred",FOCUSED:"focused",TOOLBAR:"toolbar"}},AM48:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("ERkP")),r=n("8unJ"),a=i.__importDefault(n("aWzz")),s=i.__importDefault(n("5XwT")),l=n("G0uU"),u=n("3/0u"),c=n("8h7I"),d=i.__importDefault(n("gUiA")),f=i.__importDefault(n("JVaS")),p=140;class h extends o.default.Component{constructor(e){super(e),this.state={isOpen:!1,title:e.contentMarketObject.title||"",dirty:!e.editMode},this.onAnimationComplete=this.onAnimationComplete.bind(this),this.onCancel=this.onCancel.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.onSave=this.onSave.bind(this),this.onTitleChange=this.onTitleChange.bind(this),this.getErrorMessage=this.getErrorMessage.bind(this),this.isValid=this.isValid.bind(this)}UNSAFE_componentWillMount(){setTimeout(()=>this.setState(()=>({isOpen:!0})))}onAnimationComplete(){if(this.saveInitiated){const e=this.props.contentMarketObject;e.title=this.state.title,this.props.applyChange(d.default([e]))}this.props.destroy()}onCancel(){this.setState(()=>({isOpen:!1}))}onKeyDown(e){e.keyCode===s.default.ENTER&&this.onSave(e)}onSave(e){e.preventDefault(),e.stopPropagation(),!this.saveInitiated&&this.isValid()&&(this.saveInitiated=!0,this.setState(()=>({isOpen:!1})))}onTitleChange(e){this.setState(()=>({title:e,dirty:!0}))}getErrorMessage(e){const{localize:t}=this.props;let n="";return e&&e.trim()?e.trim().length>p&&(n=t.translate("bbmlEditor.dialogs.ltiCard.errorMessages.tooLongDisplayName")):n=t.translate("bbmlEditor.dialogs.ltiCard.errorMessages.emptyDisplayName"),f.default(n)}isValid(){const e=this.state.title.trim();return this.state.dirty&&e&&e.length<=p}render(){const{editMode:e,localize:t}=this.props;return o.default.createElement(u.Dialog,{hidden:!this.state.isOpen,dialogContentProps:{title:t.translate(`bbmlEditor.dialogs.ltiCard.${e?"editMode":"insertMode"}.title`),showCloseButton:!1,type:u.DialogType.fullHeaderFooter},modalProps:{onDismiss:this.onCancel,onDismissed:this.onAnimationComplete},firstFocusableSelector:"ms-Dialog-title",analyticsId:`editor.dialogs.ltiCard.${e?"editMode":"insertMode"}.title`},o.default.createElement(c.TextField,{className:"required",onKeyDown:this.onKeyDown,label:t.translate("bbmlEditor.dialogs.ltiCard.displayNameLabel"),value:this.state.title,onChanged:this.onTitleChange,onGetErrorMessage:this.getErrorMessage,validateOnLoad:!1,analyticsId:"editor.dialogs.ltiCard.displayNameLabel.textField",validateOnFocusOut:!0,required:!0}),o.default.createElement(u.DialogFooter,null,o.default.createElement(l.DefaultButton,{onClick:this.onCancel,analyticsId:`editor.dialogs.ltiCard.${e?"editMode":"insertMode"}.title.cancel`},t.translate("bbmlEditor.buttons.cancel")),o.default.createElement(l.PrimaryButton,{onClick:this.onSave,disabled:!this.isValid(),analyticsId:`editor.dialogs.ltiCard.buttons.${e?"save":"insert"}`},t.translate(`bbmlEditor.buttons.${e?"save":"insert"}`))))}}t.BaseModalLtiCard=h,h.propTypes={applyChange:a.default.func.isRequired,contentMarketObject:a.default.shape().isRequired,editMode:a.default.bool,destroy:a.default.func.isRequired},h.defaultProps={editMode:!1},t.default=r.localizedComponentWrapper(h)},Ay6X:function(e,t,n){"use strict";var i=n("P0jV"),o=n("Soal"),r=n("Q2eF"),a=n("qvwg"),s=n("eGgp"),l=n("0zX2"),u=n("pQXz");e.exports=function(e){return new Promise((function(t,c){var d=e.data,f=e.headers;i.isFormData(d)&&delete f["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var h=e.auth.username||"",m=e.auth.password||"";f.Authorization="Basic "+btoa(h+":"+m)}var b=a(e.baseURL,e.url);if(p.open(e.method.toUpperCase(),r(b,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?s(p.getAllResponseHeaders()):null,i={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:n,config:e,request:p};o(t,c,i),p=null}},p.onabort=function(){p&&(c(u("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){c(u("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),c(u(t,e,"ECONNABORTED",p)),p=null},i.isStandardBrowserEnv()){var g=n("ym5Q"),y=(e.withCredentials||l(b))&&e.xsrfCookieName?g.read(e.xsrfCookieName):void 0;y&&(f[e.xsrfHeaderName]=y)}if("setRequestHeader"in p&&i.forEach(f,(function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete f[t]:p.setRequestHeader(t,e)})),i.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),c(e),p=null)})),void 0===d&&(d=null),p.send(d)}))}},B43Y:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=n("wWmn");t.EDIT_BUTTONS=o.EDIT_BUTTONS,t.EDITABLE_ATTACHMENT_CONFIG=o.EDITABLE_ATTACHMENT_CONFIG,t.EDITABLE_TPC_CONFIG=o.EDITABLE_TPC_CONFIG;const r=i.__importDefault(n("JOC4"));t.FILE_VALIDATION=r.default;const a=n("mPiH");t.FORMATS=a.FORMATS,t.INLINE_FORMATS=a.INLINE_FORMATS,t.BLOCK_FORMATS=a.BLOCK_FORMATS;const s=n("O5oA");t.TOOLBAR_BREAKPOINTS=s.TOOLBAR_BREAKPOINTS,t.TOOLBAR_BREAKPOINTS_MINIMAL=s.TOOLBAR_BREAKPOINTS_MINIMAL,t.TOOLBAR_SETS=s.TOOLBAR_SETS,t.SMALL_TOOLBAR_MIN_SIZE=s.SMALL_TOOLBAR_MIN_SIZE,t.MEDIUM_TOOLBAR_MIN_SIZE=s.MEDIUM_TOOLBAR_MIN_SIZE,t.LARGE_TOOLBAR_MIN_SIZE=s.LARGE_TOOLBAR_MIN_SIZE;const l=i.__importDefault(n("A5ts"));t.EDITOR_FOCUS_STATES=l.default;const u=i.__importDefault(n("No21"));t.LTI_LINKTYPE=u.default;const c=i.__importDefault(n("yf/r"));t.MESSAGE_TYPES=c.default},BP9p:function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},BfoI:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i={analyticsEventAugmentor:n("aWzz").PropTypes.func.isRequired};t.default=i},BtTt:function(e,t,n){"use strict";var i=n("P0jV"),o=n("4GeQ"),r=n("WBY7"),a=n("dyNj");function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),i.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return s(e),t.data=o(t.data,t.headers,e.transformResponse),t}),(function(t){return r(t)||(s(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},BtlX:function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},C2NB:function(e,t,n){"use strict";n.r(t)},CCpT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INSERT_CONTENT_PRIORITY_ORDER=["insertLocalFile","math","image","video"]},CFX5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K").__importDefault(n("y7Jh")),o=n("km4Y");class r extends i.default{static value(e){return o.getAttributes(e,this.blotAttributes)}static formats(e){return o.getAttributes(e,this.blotAttributes,!0)}detach(){this.domNode.unmountComponent&&this.domNode.unmountComponent(),super.detach()}format(e,t){return e===this.statics.blotName&&t?o.setAttributes(this.domNode,this.statics.blotAttributes,t):super.format(e,t)}}r.blotName="embedInline",r.tagName="span",t.default=r},Cb59:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K").__importDefault(n("yf/r")),o=(e,t,n)=>({messageType:i.default.outgoing.initContent,config:e,dataToDisplay:{mode:n||"create",content:{dataType:"embedded-app",dataContent:t}}});t.makeInitContentViewMessage=(e,t)=>o(e,t,"view"),t.makeInitContentEditMessage=(e,t)=>o(e,t,"edit"),t.makeInitContentCreateMessage=(e,t)=>o(e,t,"create")},CbbY:function(e,t,n){"use strict";n.r(t),n.d(t,"AlignAttribute",(function(){return a})),n.d(t,"AlignClass",(function(){return s})),n.d(t,"AlignStyle",(function(){return l}));var i=n("oB8T"),o=n.n(i),r={scope:o.a.Scope.BLOCK,whitelist:["right","center","justify"]},a=new o.a.Attributor.Attribute("align","align",r),s=new o.a.Attributor.Class("align","ql-align",r),l=new o.a.Attributor.Style("align","text-align",r)},Ced4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("SOWH")),r=i.__importDefault(n("hOhB"));n("PBUH");const a="audio",s=[`[data-bbtype="${a}"][data-bbfile]`],l={type:"embed",tagName:"div",attributes:{"data-bbtype":a,"data-bbfile":null},renderDomNode:(e,t,n,i)=>{const r=JSON.parse(n.bbfile),a=e=>!(!e.isReadOnly||e.isDisabled),s=document.createElement("div");s.classList.add("bb-audio-embed");const l=document.createElement("audio");l.autoplay=!1,l.classList.add("no-select"),l.controls=!0,l.src=r.src;const u=document.createElement("div");u.classList.add("audio-placeholder"),u.classList.add("no-select"),u.innerHTML=`<span class="audio-placeholder-icon"></span><span class="audio-title">${r.alt}</span>`,a(i)||l.classList.add("hidden"),s.appendChild(u),s.appendChild(l);const c=o.default(e,t,n);return c.contentEditable=!1,c.classList.add("wants-props-update"),c.formatComponent=e=>{a(e)?l.classList.remove("hidden"):l.classList.add("hidden")},c.appendChild(s),c}};function u(e,t){const n=JSON.parse(t.bbfile);return`<a href="${n.src}" data-bbtype="${a}" data-bbfile="${r.default(t.bbfile)}">${n.alt}</a>`}t.default=()=>({pluginId:a,matchers:s,formatter:l,toBbML:u})},ChZS:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("ONuW")),r=i.__importDefault(n("ys2T")),a=i.__importDefault(n("7eFc")),s=i.__importDefault(n("fvEQ")),l=i.__importDefault(n("TuIL")),u=i.__importDefault(n("xg/7")),c=i.__importDefault(n("vE/+")),d=i.__importDefault(n("HabF")),f=i.__importStar(n("RJOg")),p=i.__importStar(n("s1u4")),h=i.__importStar(n("42sN")),m=i.__importStar(n("WZs/")),b=i.__importStar(n("2Zo3")),g=n("dCsl"),y=n("IDjD"),v=n("Erss"),E=n("OlM5"),_=n("Gcgj"),O=n("2KZS"),C=n("+oSd"),S=n("rCvS"),T=n("qARj"),N=n("SU3S"),w=n("oaIO"),A=n("9kWU"),x=n("VWNt"),k=n("v8lE"),D=n("4LQ0"),R=n("50lD"),L=n("ClUo"),I=n("ekC5"),M=n("S2uY"),j=n("zDWs"),P=n("w7NB"),B=n("CTKo"),F=n("pVlL"),q=n("FIeR"),U=n("g0Xa"),H=n("QHAa"),z=n("0y+d"),K=n("HbHr"),W=n("Sc8a"),$=n("Gj4o"),V=n("ApVX"),G=n("1EAZ"),X=n("zNOU"),Y=i.__importDefault(n("EQiD")),J={format:{header:!1,list:!1}};t.TableFormattingToolbar={toolbarId:"tableFormattingToolbar"},t.TextStylingToolbar={toolbarId:"textStylingToolbar"},t.TextOptionsToolbar={toolbarId:"textOptionsToolbar"},t.ListFormattingToolbar={toolbarId:"listFormattingToolbar"},t.Alignment={cssClass:"alignment",iconName:"alignment",iconComponent:U.FormatParagraphDefault,id:"alignment",key:"alignment"},t.AlignLeft={cssClass:"alignLeft",iconName:"alignLeft",iconComponent:U.FormatParagraphDefault,id:"align-left",key:"alignLeft",onClick:({applyChange:e})=>e(m.default.createChange(m.ALIGN_LEFT)),isActive:e=>e.align===m.ALIGN_LEFT||!e.align},t.AlignCenter={cssClass:"alignCenter",iconName:"alignCenter",iconComponent:H.FormatParagraphCenter,id:"align-center",key:"alignCenter",onClick:({applyChange:e})=>e(m.default.createChange(m.ALIGN_CENTER)),isActive:e=>e.align===m.ALIGN_CENTER},t.AlignRight={cssClass:"alignRight",iconName:"alignRight",iconComponent:z.FormatParagraphRightToLeft,id:"align-right",key:"alignRight",onClick:({applyChange:e})=>e(m.default.createChange(m.ALIGN_RIGHT)),isActive:e=>e.align===m.ALIGN_RIGHT},t.AlignJustify={cssClass:"alignJustify",iconName:"alignJustify",iconComponent:K.FormatParagraphJustify,id:"align-justify",key:"alignJustify",onClick:({applyChange:e})=>e(m.default.createChange(m.ALIGN_JUSTIFY)),isActive:e=>e.align===m.ALIGN_JUSTIFY},t.TextStylingMenu={cssClass:"text-styling",iconName:"Type",iconComponent:B.Type,id:"textStyling",key:"textStyling"},t.TextStyle={cssClass:"text-style",iconName:"type-size",iconComponent:F.TypeSize,id:"textStyle",key:"textStyle"},t.TextFontMenu={cssClass:"text-font",iconName:"text",iconComponent:P.Text,id:"textFont",key:"textFont"},t.FontArial={cssClass:"arial text-font",id:"font-arial",key:"fontArial",onClick:({applyChange:e})=>e(f.default.createChange(f.ARIAL)),isActive:e=>e.font===f.ARIAL},t.FontComicSans={cssClass:"comic-sans text-font",id:"font-comic-sans",key:"fontComicSans",onClick:({applyChange:e})=>e(f.default.createChange(f.COMIC_SANS)),isActive:e=>e.font===f.COMIC_SANS},t.FontCourierNew={cssClass:"courier-new text-font",id:"font-courier-new",key:"fontCourierNew",onClick:({applyChange:e})=>e(f.default.createChange(f.COURIER_NEW)),isActive:e=>e.font===f.COURIER_NEW},t.FontNoto={cssClass:"noto text-font",id:"font-noto",key:"fontNoto",onClick:({applyChange:e})=>e(f.default.createChange(f.NOTO)),isActive:e=>e.font===f.NOTO},t.FontOpenSans={cssClass:"open-sans text-font",id:"font-open-sans",key:"fontOpenSans",onClick:({applyChange:e})=>e(f.default.createChange(f.OPEN_SANS)),isActive:e=>e.font===f.OPEN_SANS||!e.font},t.FontTimesNewRoman={cssClass:"times-new-roman text-font",id:"font-TNR",key:"fontTNR",onClick:({applyChange:e})=>e(f.default.createChange(f.TNR)),isActive:e=>e.font===f.TNR},t.FontVerdana={cssClass:"verdana text-font",id:"font-verdana",key:"fontVerdana",onClick:({applyChange:e})=>e(f.default.createChange(f.VERDANA)),isActive:e=>e.font===f.VERDANA},t.LineHeight={cssClass:"lineHeight",iconName:"lineHeight",iconComponent:W.LineHeight,id:"lineHeight",key:"lineHeight"},t.LineHeight1={cssClass:"lineHeight1",id:"lineHeight-1",key:"lineHeight1",onClick:({applyChange:e})=>e(h.default.createChange(h.LINE_HEIGHT_1)),isActive:e=>e.lineheight===h.LINE_HEIGHT_1},t.LineHeight1_15={cssClass:"lineHeight115",id:"lineHeight-115",key:"lineHeight115",onClick:({applyChange:e})=>e(h.default.createChange(h.LINE_HEIGHT_1_15)),isActive:e=>e.lineheight===h.LINE_HEIGHT_1_15},t.LineHeight1_50={cssClass:"lineHeight150",id:"lineHeight-150",key:"lineHeight150",onClick:({applyChange:e})=>e(h.default.createChange(h.LINE_HEIGHT_1_50)),isActive:e=>e.lineheight===h.LINE_HEIGHT_1_50||!e.lineheight},t.LineHeight2={cssClass:"lineHeight2",id:"lineHeight-2",key:"lineHeight2",onClick:({applyChange:e})=>e(h.default.createChange(h.LINE_HEIGHT_2)),isActive:e=>e.lineheight===h.LINE_HEIGHT_2},t.TextSize={cssClass:"text-size",iconName:"type-size",iconComponent:F.TypeSize,id:"textSize",key:"textSize"},t.Size10={cssClass:"text-size-num",id:"size-10px",key:"size10px",onClick:({applyChange:e})=>e(p.default.createChange(p.TEXT_SIZE_10)),isActive:e=>e.size===p.TEXT_SIZE_10},t.Size12={cssClass:"text-size-num",id:"size-12px",key:"size12px",onClick:({applyChange:e})=>e(p.default.createChange(p.TEXT_SIZE_12)),isActive:e=>e.size===p.TEXT_SIZE_12},t.Size14={cssClass:"text-size-num",id:"size-14px",key:"size14px",onClick:({applyChange:e})=>e(p.default.createChange(p.TEXT_SIZE_14))},t.Size18={cssClass:"text-size-num",id:"size-18px",key:"size18px",onClick:({applyChange:e})=>e(p.default.createChange(p.TEXT_SIZE_18))},t.Size24={cssClass:"text-size-num",id:"size-24px",key:"size24px",onClick:({applyChange:e})=>e(p.default.createChange(p.TEXT_SIZE_24)),isActive:e=>e.size===p.TEXT_SIZE_24},t.Size36={cssClass:"text-size-num",id:"size-36px",key:"size36px",onClick:({applyChange:e})=>e(p.default.createChange(p.TEXT_SIZE_36)),isActive:e=>e.size===p.TEXT_SIZE_36},t.Size48={cssClass:"text-size-num",id:"size-48px",key:"size48px",onClick:({applyChange:e})=>e(p.default.createChange(p.TEXT_SIZE_48)),isActive:e=>e.size===p.TEXT_SIZE_48},t.ColorPicker={cssClass:"color-picker",iconName:"paint-bucket",iconComponent:C.PaintBucket,id:"color-picker",key:"colorPicker"},t.DirLTR={cssClass:"direction-LTR",id:"direction-LTR",key:"direction-LTR",iconName:"left-to-right",iconComponent:G.LeftToRight,onClick:({applyChange:e})=>e(b.default.createChange(b.DIR_LTR))},t.DirRTL={cssClass:"direction-RTL",id:"direction-RTL",key:"direction-RTL",iconName:"right-to-left",iconComponent:X.RightToLeft,onClick:({applyChange:e})=>e(b.default.createChange(b.DIR_RTL))},t.ListStyleMenu={cssClass:"list-style",iconName:"bulleted-list",iconComponent:S.Paragraph,id:"listStyleMenu",key:"listStyleMenu"},t.Undo={cssClass:"undo-action",iconName:"undo",iconComponent:$.Undo,id:"undo",key:"undo",toggleButton:!1,onClick:({quillModuleAction:e})=>e({module:"quill.history",action:"undo"})},t.ClearFormat={cssClass:"clear-format",iconName:"erase",iconComponent:V.Erase,id:"clearFormat",key:"clearFormat",toggleButton:!1,onClick:({quillModuleAction:e})=>e({action:"clearFormat"})},t.FormatStyleMenu={cssClass:"format-style",iconName:"format-text",iconComponent:E.FormatTextDefault,id:"formatStyleMenu",key:"formatStyleMenu"},t.InsertContentMenu={cssClass:"insert-content",iconName:"add",iconComponent:g.Add,id:"insertContent",key:"insertContent"},t.Title={cssClass:"header-four",id:"title",key:"title",onClick:({isActive:e,applyChange:t})=>t(e?J:s.default.createChange(4)),isActive:e=>4===e.header},t.Header={cssClass:"header-five",id:"header",key:"header",onClick:({isActive:e,applyChange:t})=>t(e?J:s.default.createChange(5)),isActive:e=>5===e.header},t.Subheader={cssClass:"header-six",id:"subheader",key:"subheader",onClick:({isActive:e,applyChange:t})=>t(e?J:s.default.createChange(6)),isActive:e=>6===e.header},t.Paragraph={cssClass:"unstyled",id:"paragraph",key:"paragraph",onClick:({applyChange:e})=>e(J),isActive:e=>!e.header&&!e.list},t.Bold={cssClass:"bold",iconName:"bold",iconComponent:y.BoldDefault,id:"bold",key:"bold",onClick:({isActive:e,applyChange:t})=>t(o.default.createChange(!e)),isActive:e=>e.bold},t.Italic={cssClass:"italic",iconName:"italicize",iconComponent:_.ItalicizeDefault,id:"italic",key:"italic",onClick:({isActive:e,applyChange:t})=>t(r.default.createChange(!e)),isActive:e=>e.italic},t.Underline={cssClass:"underline",iconName:"underline",iconComponent:q.UnderlineDefault,id:"underline",key:"underline",onClick:({isActive:e,applyChange:t})=>t(a.default.createChange(!e)),isActive:e=>e.underline},t.Superscript={cssClass:"superscript",iconName:"superscript",iconComponent:w.SuperscriptDefault,id:"superscript",key:"superscript",onClick:({isActive:e,applyChange:t})=>t(u.default.createChange(!e)),isActive:e=>e.superscript},t.Subscript={cssClass:"subscript",iconName:"subscript",iconComponent:N.SubscriptDefault,id:"subscript",key:"subscript",onClick:({isActive:e,applyChange:t})=>t(c.default.createChange(!e)),isActive:e=>e.subscript},t.Strike={cssClass:"strike",iconName:"strikethrough",iconComponent:T.Strikethrough,id:"strike",key:"strike",onClick:({isActive:e,applyChange:t})=>t(d.default.createChange(!e)),isActive:e=>e.strike},t.OrderedList={cssClass:"ordered-list-item",iconName:"numbered-list",iconComponent:O.NumberedListDefault,id:"orderedList",key:"orderedList",onClick:({isActive:e,applyChange:t})=>t(e?J:l.default.createChange(!1)),isActive:e=>"ordered"===e.list},t.UnorderedList={cssClass:"unordered-list-item",iconName:"bulleted-list",iconComponent:v.BulletedListDefault,id:"unorderedList",key:"unorderedList",onClick:({isActive:e,applyChange:t})=>t(e?J:l.default.createChange(!0)),isActive:e=>"bullet"===e.list},t.TableCreator={cssClass:"table-creator-style",iconName:"table-creator",iconComponent:A.Table,id:"tableCreator",key:"tableCreator"},t.InsertTable={cssClass:"insert-table-style",iconName:"insert-table",iconComponent:x.TableAdd,id:"insertTable",key:"insertTable",isDialog:!0,onClick:({showModal:e,translate:t,quillModuleAction:n,closeAllMenus:i})=>{e(Y.default,{translate:t,quillModuleAction:n,closeAllMenus:i})}},t.EditTable={cssClass:"edit-table-style",iconName:"edit-table",iconComponent:A.Table,id:"editTable",key:"editTable",isDialog:!0,onClick:({showModal:e,translate:t,quillModuleAction:n,closeAllMenus:i})=>{const o=n({module:"quill.table",action:"get-table-info"}),r={columns:o.columnCount,rows:o.rowCount,headerRow:o.headerRow,headerColumn:o.headerColumn};e(Y.default,{translate:t,quillModuleAction:n,isEditingTable:!0,editProps:r,closeAllMenus:i})}},t.InsertTableRowAbove={cssClass:"insert-row-above-style",iconName:"insert-row-above",iconComponent:R.AddRowAbove,id:"insertRowAbove",key:"insertRowAbove",toggleButton:!1,onClick:({quillModuleAction:e})=>{const t=e({module:"quill.table",action:"get-table-info"});e({module:"quill.table",action:"insert-row-above"}),t.headerColumn&&1===t.rowCount&&e({module:"quill.table",action:"set-header-col",setHeader:!0})}},t.InsertTableRowBelow={cssClass:"insert-row-below-style",iconName:"insert-row-below",iconComponent:L.AddRowBelow,id:"insertRowBelow",key:"insertRowBelow",toggleButton:!1,onClick:({quillModuleAction:e})=>{const t=e({module:"quill.table",action:"get-table-info"});e({module:"quill.table",action:"insert-row-below"}),t.headerColumn&&1===t.rowCount&&e({module:"quill.table",action:"set-header-col",setHeader:!0})}},t.InsertTableColumnLeft={cssClass:"insert-column-left-style",iconName:"insert-column-left",iconComponent:k.AddColumnLeft,id:"insertColumnLeft",key:"insertColumnLeft",toggleButton:!1,onClick:({quillModuleAction:e})=>{const t=e({module:"quill.table",action:"get-table-info"});e({module:"quill.table",action:"insert-col-left"}),t.headerRow&&1===t.columnCount&&e({module:"quill.table",action:"set-header-row",setHeader:!0})}},t.InsertTableColumnRight={cssClass:"insert-column-right-style",iconName:"insert-column-right",iconComponent:D.AddColumnRight,id:"insertColumnRight",key:"insertColumnRight",toggleButton:!1,onClick:({quillModuleAction:e})=>{const t=e({module:"quill.table",action:"get-table-info"});e({module:"quill.table",action:"insert-col-right"}),t.headerRow&&1===t.columnCount&&e({module:"quill.table",action:"set-header-row",setHeader:!0})}},t.DeleteTable={cssClass:"delete-table-style",iconName:"delete-table",iconComponent:j.TableDelete,id:"deleteTable",key:"deleteTable",toggleButton:!1,onClick:({quillModuleAction:e})=>e({module:"quill.table",action:"delete-table"})},t.DeleteColumn={cssClass:"delete-column-style",iconName:"delete-column",iconComponent:I.DeleteColumn,id:"deleteColumn",key:"deleteColumn",toggleButton:!1,onClick:({quillModuleAction:e})=>e({module:"quill.table",action:"delete-column"})},t.DeleteRow={cssClass:"delete-row-style",iconName:"delete-row",iconComponent:M.DeleteRow,id:"deleteRow",key:"deleteRow",toggleButton:!1,onClick:({quillModuleAction:e})=>e({module:"quill.table",action:"delete-row"})}},CmXO:function(e,t,n){"use strict";var i=n("zT+L").supportsDescriptors,o=n("IlOi"),r=Object.getOwnPropertyDescriptor,a=Object.defineProperty,s=TypeError,l=Object.getPrototypeOf,u=/a/;e.exports=function(){if(!i||!l)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=o(),t=l(u),n=r(t,"flags");return n&&n.get===e||a(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},D2Qr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=e=>{let t=!1;const n=new Promise((n,i)=>{e.then(e=>t||n(e)).catch(e=>t||i(e))});return{then(e){return n.then(e),this},catch(e){return n.catch(e),this},cancel(){t=!0}}}},Dvxd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importStar(n("ERkP")),r=n("8unJ"),a=i.__importDefault(n("aWzz")),s=i.__importDefault(n("4Xt8")),l=i.__importDefault(n("b70u")),u=i.__importDefault(n("riqF")),c=i.__importStar(n("ChZS")),d=n("myse"),f=i.__importDefault(n("fSNh"));function p(e){const[t,n]=o.useState({headerInRow:!1,headerInColumn:!1}),{localize:i,isSmallToolbar:r}=e;o.useEffect(()=>{const t=e.quillModuleAction({module:"quill.table",action:"get-headers"});n({headerInRow:t.row,headerInColumn:t.column})},[]);return o.default.createElement(u.default,Object.assign({},c.TableFormattingToolbar,e,{isSubmenuToolbar:!0}),o.default.createElement(s.default,Object.assign({},c.InsertTableColumnLeft,{iconOnly:!0})),o.default.createElement(s.default,Object.assign({},c.InsertTableColumnRight,{iconOnly:!0})),o.default.createElement(s.default,Object.assign({},c.DeleteColumn,{iconOnly:!0})),o.default.createElement(s.default,Object.assign({},c.InsertTableRowAbove,{iconOnly:!0})),o.default.createElement(s.default,Object.assign({},c.InsertTableRowBelow,{iconOnly:!0})),o.default.createElement(s.default,Object.assign({},c.DeleteRow,{iconOnly:!0})),o.default.createElement(s.default,Object.assign({},c.DeleteTable,{iconOnly:!0})),o.default.createElement(l.default,{id:"checkboxRow",label:"table-dialog-headers-row",value:t.headerInRow,onChange:(e,i)=>{i.quillModuleAction({module:"quill.table",action:"set-header-row",setHeader:e.target.checked}),e.target.checked||i.quillModuleAction({module:"quill.table",action:"set-header-col",setHeader:t.headerInColumn}),n({...t,headerInRow:e.target.checked})},isHideable:r}),o.default.createElement(l.default,{id:"checkboxColumn",label:"table-dialog-headers-column",value:t.headerInColumn,onChange:(e,i)=>{i.quillModuleAction({module:"quill.table",action:"set-header-col",setHeader:e.target.checked}),e.target.checked||i.quillModuleAction({module:"quill.table",action:"set-header-row",setHeader:t.headerInRow}),n({...t,headerInColumn:e.target.checked})},isHideable:r}),o.default.createElement(f.default,{title:i.translate("bbmlEditor.toolbar.table-dialog-tooltip.label"),placement:"top",ariaLabel:i.translate("bbmlEditor.toolbar.table-dialog-tooltip.axAriaText"),isHideable:r}))}p.propTypes={children:a.default.array,addKeyDownHandler:a.default.func.isRequired,editorId:a.default.string,toolbarActionComplete:a.default.func.isRequired,hasKeyboardFocus:a.default.bool,isDisabled:a.default.bool,isRtl:a.default.bool,isSubmenuToolbar:a.default.bool,isSubToolbarOpen:a.default.bool,isSmallToolbar:a.default.bool},p.defaultProps={children:null,editorId:null,hasKeyboardFocus:!1,isDisabled:!1,isRtl:!1,isSubmenuToolbar:!1,isSubToolbarOpen:!1,isSmallToolbar:!1},t.default=r.localizedComponentWrapper(d.withAnalytics(p))},E7j9:function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},E9rF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=(e,t)=>{const n={...e};return n.attachment&&t.insert&&t.insert["embedded-app"]&&delete n.attachment,e["embedded-app"]&&t.insert&&t.insert.attachment&&delete n["embedded-app"],n}},ECog:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("ERkP")),r=n("8unJ"),a=i.__importDefault(n("aWzz")),s=i.__importDefault(n("O94r")),l=n("G0uU"),u=i.__importStar(n("3/0u")),c=n("myse"),d=i.__importDefault(n("8alo")),f=i.__importDefault(n("BfoI"));class p extends o.default.Component{constructor(e){super(e),this.state={files:[],fileGroup:{}},this.uploadServices={},this.progressTimers={},this.failedUploads=[],this.successfulUploads=[],this.updateProgress=this.updateProgress.bind(this),this.onCancel=this.onCancel.bind(this),this.onCancelAll=this.onCancelAll.bind(this),this.onDismiss=this.onDismiss.bind(this),this.onUploadSuccess=this.onUploadSuccess.bind(this),this.onUploadError=this.onUploadError.bind(this),this.finishUploading=this.finishUploading.bind(this)}UNSAFE_componentWillMount(){const{files:e}=this.props;this.setState({files:e}),e.forEach(e=>{let t=!1;this.uploadServices[e.name]=d.default(e,{apiBasePath:this.props.apiBasePath,xsrfToken:this.props.xsrfToken,webLocation:this.props.webLocation,fileLocation:this.props.fileLocation}).progress((n,i)=>{i>=100?(clearTimeout(this.progressTimers[e.name]),this.updateProgress(n,100)):t||(t=!0,this.progressTimers[e.name]=setTimeout(()=>{const e=!!this.state.fileGroup[n]&&this.state.fileGroup[n].uploadComplete?100:i;t=!1,this.updateProgress(n,e)},5))}).success(this.onUploadSuccess).error(this.onUploadError)})}onCancel(e){let t=this.state.files;this.uploadServices[e].cancel(),t=t.filter(t=>t.name!==e),this.failedUploads=this.failedUploads.filter(t=>t.name!==e),this.successfulUploads=this.successfulUploads.filter(t=>t.name!==e),t.length>0?this.setState({files:t},()=>{this.finishUploading()}):this.onDismiss()}onCancelAll(){this.props.files.forEach(e=>{this.uploadServices[e.name].cancel()}),this.onDismiss()}onDismiss(){this.props.destroy()}onUploadSuccess(e,t){this.successfulUploads.push(e),this.props.onUploadSuccess&&this.props.onUploadSuccess(t),this.setState(n=>({fileGroup:{...n.fileGroup,[e.name]:{...n.fileGroup[e.name]||{},uploadComplete:!0,successResponse:t}}}),()=>{this.finishUploading()})}onUploadError(e,t){const{localize:n,onUploadError:i}=this.props;this.uploadServices[e.name].cancel(),this.failedUploads.push(e),clearTimeout(this.progressTimers[e.name]);const o=422===t.response.status;i&&i(t),this.setState(t=>({fileGroup:{...t.fileGroup,[e.name]:{...t.fileGroup[e.name]||{},errorResponse:n.translate(`bbmlEditor.dialogs.insertLocalFile.${o?"securityThreat":"networkError"}`),progress:0,uploadComplete:!1}}}),()=>{this.finishUploading()})}updateProgress(e,t){const n=this.state.fileGroup;(!this.state.fileGroup[e]||void 0===this.state.fileGroup[e].progress||t>this.state.fileGroup[e].progress)&&(n[e]={...this.state.fileGroup[e]||{},progress:t},this.setState({fileGroup:n}))}finishUploading(){if(this.state.files.length-this.failedUploads.length===this.successfulUploads.length){const{fileGroup:e}=this.state,t=[];if(Object.keys(e).forEach(n=>{e[n].successResponse&&t.push(e[n].successResponse)}),0===t.length)return;setTimeout(()=>{this.props.destroy(),this.props.createChange(t)},350)}}render(){const{fileGroup:e}=this.state,{localize:t,analyticsEventAugmentor:n}=this.props,i=t.translate("bbmlEditor.buttons.cancel"),r="cloudStorageIntegration"===this.props.fileSource?t.translate("bbmlEditor.dialogs.insertCloudStorageIntegrationFile.titleInsert"):t.translate("bbmlEditor.dialogs.insertLocalFile.titleInsert");return o.default.createElement(u.default,{hidden:!1,onDismiss:this.onDismiss,dialogContentProps:{title:r,showCloseButton:!1,type:u.DialogType.fullHeaderFooter},modalProps:{containerClassName:"modal-insert-file"},firstFocusableSelector:"ms-Dialog-title",analyticsId:"cloudStorageIntegration"===this.props.fileSource?"editor.dialogs.insertCloudStorageIntegrationFile.titleInsert":"editor.dialogs.insertLocalFile.titleInsert"},this.state.files.map(i=>{const r=e[i.name]?e[i.name].progress:0,a=!!e[i.name]&&e[i.name].uploadComplete,l=r>=100&&!a,u=43*Math.PI,d=r>0?u-u/100*r:u,f=s.default({"loading-circle-svg":!0,processing:l});let p="";return this.state.fileGroup[i.name]&&(p=this.state.fileGroup[i.name].errorResponse||""),o.default.createElement("div",{key:i.name,className:"file-group"},o.default.createElement("div",{className:"file-progress-container"},a?o.default.createElement("div",{className:"indicator complete"}):o.default.createElement("div",{className:"indicator"},o.default.createElement("svg",{className:f,height:49,width:49,viewBox:"0 0 46 46"},o.default.createElement("circle",{className:"back",cx:23,cy:23,r:21.5,fill:"none",strokeWidth:3,strokeDasharray:u,strokeDashoffset:d}),o.default.createElement("circle",{className:"bar",cx:23,cy:23,r:21.5,fill:"none",strokeWidth:3,strokeDasharray:l?6:u,strokeDashoffset:d})),r.toString(),"%"),o.default.createElement("div",{className:"file-name no-longtext no-select"},i.name),o.default.createElement("button",{type:"button","aria-label":t.translate("bbmlEditor.dialogs.insertLocalFile.cancelUploadButton"),className:"cancel-upload",onClick:n(c.AnalyticsEventTypes.CLICK_EVENT,()=>this.onCancel(i.name),"editor.dialogs.insertLocalFile.cancelUploadButton"),"data-analytics-id":"editor.dialogs.insertLocalFile.cancelUploadButton"},"X")),o.default.createElement("div",{className:"upload-error-message"},p))}),o.default.createElement("br",null),o.default.createElement(u.DialogFooter,null,o.default.createElement(l.DefaultButton,{onClick:this.onCancelAll,analyticsId:"editor.modalInsertFile.cancel"},i)))}}t.BaseModalInsertLocalFile=p,p.propTypes={apiBasePath:a.default.string.isRequired,createChange:a.default.func.isRequired,destroy:a.default.func.isRequired,files:a.default.arrayOf(a.default.shape({lastModified:a.default.number,name:a.default.string,size:a.default.number,type:a.default.type}).isRequired).isRequired,fileLocation:a.default.string,fileSource:a.default.oneOf(["local","cloudStorageIntegration"]),onUploadError:a.default.func,onUploadSuccess:a.default.func,webLocation:a.default.string,xsrfToken:a.default.string.isRequired,...f.default},p.defaultProps={fileLocation:"",fileSource:"local",onUploadError:null,onUploadSuccess:null,webLocation:""};const h=r.localizedComponentWrapper(c.withAnalytics(p));t.default=h},EQiD:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importStar(n("ERkP")),r=n("8unJ"),a=i.__importDefault(n("aWzz")),s=i.__importDefault(n("Hjp0")),l=n("0x+l"),u=n("myse"),c=n("tN4z");function d(e){const t="table-dialog",{localize:n,isEditingTable:i,quillModuleAction:r,editProps:a,closeAllMenus:u}=e,[d,f]=o.useState({checkboxColumn:a.headerColumn,checkboxRow:a.headerRow,numberColumns:a.columns,numberRows:a.rows}),p=()=>{u(),e.destroy()},h=()=>{r({module:"quill.table",action:"saved-selection"}),i?(r({module:"quill.table",action:"edit-table",rowCount:d.numberRows,columnCount:d.numberColumns}),e.editProps.headerColumn!==d.checkboxColumn&&(r({module:"quill.table",action:"set-header-col",setHeader:d.checkboxColumn}),d.checkboxRow||r({module:"quill.table",action:"set-header-column",setHeader:d.checkboxColumn})),e.editProps.headerRow!==d.checkboxRow&&(r({module:"quill.table",action:"set-header-row",setHeader:d.checkboxRow}),d.checkboxColumn||r({module:"quill.table",action:"set-header-row",setHeader:d.checkboxRow})),r({module:"quill.table",action:"reset-table-subtoolbar"})):(r({module:"quill.table",action:"insert-table",rowCount:d.numberRows,columnCount:d.numberColumns,headerRow:d.checkboxRow,headerColumn:d.checkboxColumn}),u()),p()};return o.default.createElement(c.AnalyticsDialog,{open:!0,maxWidth:"sm",onClose:p,"aria-labelledby":`${t}-dialog-title`},o.default.createElement(c.AnalyticsDialogTitle,{onClose:p,id:`${t}-dialog-title`},i?n.translate("bbmlEditor.toolbar.table-dialog-title-edit.label"):n.translate("bbmlEditor.toolbar.table-dialog-title-insert.label")),o.default.createElement(c.AnalyticsDialogContent,null,o.default.createElement("label",{htmlFor:"analyticTextField-column",className:`${t}-columns-content`},o.default.createElement("span",null,n.translate("bbmlEditor.toolbar.table-dialog-columns.label")),o.default.createElement(s.default,{onChange:e=>{f({...d,numberColumns:e})},type:"column",value:d.numberColumns,maxValue:i?Math.max(10,a.columns):10,onEnterKey:h})),o.default.createElement("label",{htmlFor:"analyticTextField-row",className:`${t}-rows-content`},n.translate("bbmlEditor.toolbar.table-dialog-rows.label"),o.default.createElement(s.default,{onChange:e=>{f({...d,numberRows:e})},type:"row",value:d.numberRows,maxValue:i?Math.max(10,a.rows):10,onEnterKey:h})),o.default.createElement("span",{className:`${t}-header-selector`},o.default.createElement(c.AnalyticsFormControlLabel,{label:n.translate("bbmlEditor.toolbar.table-dialog-headers-row.label"),control:o.default.createElement(c.AnalyticsCheckbox,{checked:d.checkboxRow,id:"dialogCheckboxRow"}),htmlFor:"dialogCheckboxRow",onChange:e=>{(e=>{f({...d,checkboxRow:e.target.checked})})(e)}}),o.default.createElement(c.AnalyticsFormControlLabel,{label:n.translate("bbmlEditor.toolbar.table-dialog-headers-column.label"),control:o.default.createElement(c.AnalyticsCheckbox,{checked:d.checkboxColumn,id:"dialogCheckboxColumn"}),htmlFor:"dialogCheckboxColumn",onChange:e=>{(e=>{f({...d,checkboxColumn:e.target.checked})})(e)}}),o.default.createElement(c.AnalyticsTooltip,{className:"info-tooltip",title:n.translate("bbmlEditor.toolbar.table-dialog-tooltip.label"),placement:"top"},o.default.createElement(c.AnalyticsIconButton,{className:"info-tooltip","aria-label":n.translate("bbmlEditor.toolbar.table-dialog-tooltip.axAriaText")},o.default.createElement(l.Information,null))))),o.default.createElement(c.AnalyticsDialogActions,null,o.default.createElement(c.AnalyticsDefaultButton,{onClick:p},n.translate("bbmlEditor.buttons.cancel")),o.default.createElement(c.AnalyticsPrimaryButton,{onClick:h,id:"create-edit-table-primary-btn"},i?n.translate("bbmlEditor.buttons.save"):n.translate("bbmlEditor.buttons.insert"))))}n("jfY+"),d.propTypes={quillModuleAction:a.default.func.isRequired,closeAllMenus:a.default.func.isRequired,isEditingTable:a.default.bool,editProps:a.default.shape({columns:a.default.number,rows:a.default.number,headerColumn:a.default.bool,headerRow:a.default.bool})},d.defaultProps={isEditingTable:!1,editProps:{columns:1,rows:1,headerColumn:!1,headerRow:!1}},t.default=r.localizedComponentWrapper(u.withAnalytics(d))},EROk:function(e,t,n){"use strict";n.r(t);var i=n("wbTV"),o=n("oB8T"),r=n.n(o);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(a,e);var t,n,i,o=c(a);function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return t=a,i=[{key:"compare",value:function(e,t){var n=a.order.indexOf(e),i=a.order.indexOf(t);return n>=0||i>=0?n-i:e===t?0:e<t?-1:1}}],(n=[{key:"formatAt",value:function(e,t,n,i){if(a.compare(this.statics.blotName,n)<0&&r.a.query(n,r.a.Scope.BLOT)){var o=this.isolate(e,t);i&&o.wrap(n,i)}else l(f(a.prototype),"formatAt",this).call(this,e,t,n,i)}},{key:"optimize",value:function(e){if(l(f(a.prototype),"optimize",this).call(this,e),this.parent instanceof a&&a.compare(this.statics.blotName,this.parent.statics.blotName)>0){var t=this.parent.isolate(this.offset(),this.length());this.moveChildren(t),t.wrap(this)}}}])&&s(t.prototype,n),i&&s(t,i),a}(r.a.Inline);p.allowedChildren=[p,r.a.Embed,i.default],p.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],t.default=p},F0tE:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const n=t.linkName||t.displayName||t.title;return{href:e||t.resourceUrl||t.webLocation+t.fileName,metadata:{...t,linkName:n,render:t.render||(t.displayInline?"inline":"attachment")}}}},FTog:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("aWzz")),r=i.__importDefault(n("ERkP")),a=i.__importDefault(n("4Xt8"));function s(e){const t=e.pluginButtons.find(e=>"image"===e.id);return t?r.default.createElement(a.default,Object.assign({},t,e)):null}t.default=s,s.propTypes={pluginButtons:o.default.arrayOf(o.default.shape({id:o.default.string.isRequired,cssClass:o.default.string.isRequired,iconName:o.default.string.isRequired,isActive:o.default.func.isRequired,onClick:o.default.func.isRequired})).isRequired}},FVUT:function(e,t,n){"use strict";var i=n("yYc7"),o=n("/9DS"),r=n("5o3E"),a=n("av34"),s=n("G0Nd"),l=n("Uf5f"),u="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n("oo3j");e.exports=function(e){return new Promise((function(t,c){var d=e.data,f=e.headers;i.isFormData(d)&&delete f["Content-Type"];var p=new XMLHttpRequest,h="onreadystatechange",m=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in p||s(e.url)||(p=new window.XDomainRequest,h="onload",m=!0,p.onprogress=function(){},p.ontimeout=function(){}),e.auth){var b=e.auth.username||"",g=e.auth.password||"";f.Authorization="Basic "+u(b+":"+g)}if(p.open(e.method.toUpperCase(),r(e.url,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p[h]=function(){if(p&&(4===p.readyState||m)&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?a(p.getAllResponseHeaders()):null,i={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:1223===p.status?204:p.status,statusText:1223===p.status?"No Content":p.statusText,headers:n,config:e,request:p};o(t,c,i),p=null}},p.onerror=function(){c(l("Network Error",e,null,p)),p=null},p.ontimeout=function(){c(l("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",p)),p=null},i.isStandardBrowserEnv()){var y=n("L1E5"),v=(e.withCredentials||s(e.url))&&e.xsrfCookieName?y.read(e.xsrfCookieName):void 0;v&&(f[e.xsrfHeaderName]=v)}if("setRequestHeader"in p&&i.forEach(f,(function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete f[t]:p.setRequestHeader(t,e)})),e.withCredentials&&(p.withCredentials=!0),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),c(e),p=null)})),void 0===d&&(d=null),p.send(d)}))}},FYay:function(e,t,n){"use strict";function i(e){this.message=e}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,e.exports=i},Fvjt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("aWzz")),r=i.__importDefault(n("lkhO")),a=n("qNMA"),s=i.__importDefault(n("SOWH")),l=n("AQW7");n("1kYa");const u="math",c="Wirisformula";function d(e="",t=!0,n="",i){const o=!0===t||"string"==typeof t&&0===t.length?e:t;return i?{insert:!0}:{insert:!0,format:{[u]:{src:e,alt:o,mathml:n}}}}function f(e){return{id:u,cssClass:u,iconName:"insert_formula",iconComponent:l.InsertFormula,isDialog:!0,isActive:e=>!!e[u]&&!!e[u].mathml,onClick:({showModal:t,...n})=>{t(r.default,{createChange:d,...e,...n})}}}const p=["img[data-mathml]"],h={type:"embedInline",blotName:u,tagName:"img",attributes:{src:"",alt:null,"data-mathml":null},renderDomNode:(e,t,n)=>s.default(e,t,{...n,...n.mathml?{mathml:a.MathmlDecode(n.mathml)}:null})};function m(e,t){const n=a.MathmlEncode(t.src),i=a.MathmlEncode(t.mathml);let o=[t.alt?`alt="${t.alt}"`:""].filter(e=>e.length);return o=o.length?["",...o].join(" "):"",`<img src="${n}" data-mathml="${i}" class="${c}"${o}/>`}t.pluginConfigPropType=o.default.shape({apiBasePath:o.default.string,xsrfToken:o.default.string,courseId:o.default.string}),t.default=e=>({pluginId:u,buttonConfig:f(e),matchers:p,formatter:h,toBbML:m})},G0Nd:function(e,t,n){"use strict";var i=n("yYc7");e.exports=i.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var i=e;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=i.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},GBcM:function(e,t,n){"use strict";n.r(t),n.d(t,"FontStyle",(function(){return h})),n.d(t,"FontClass",(function(){return p}));var i=n("oB8T"),o=n.n(i);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f={scope:o.a.Scope.INLINE,whitelist:["serif","monospace"]},p=new o.a.Attributor.Class("font","ql-font",f),h=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(r,e);var t,n,i,o=u(r);function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),o.apply(this,arguments)}return t=r,(n=[{key:"value",value:function(e){return s(d(r.prototype),"value",this).call(this,e).replace(/["']/g,"")}}])&&a(t.prototype,n),i&&a(t,i),r}(o.a.Attributor.Style))("font","font-family",f)},GK8r:function(e,t,n){"use strict";n.r(t)},GmwB:function(e,t,n){var i,o,r;r=function(){"use strict";var e={A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_ADD:107,NUMPAD_ENTER:108,NUMPAD_SUBTRACT:109,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,COLON:186,EQUALS:187,UNDERSCORE:189,QUESTION_MARK:191,TILDE:192,OPEN_BRACKET:219,BACKWARD_SLASH:220,CLOSED_BRACKET:221,QUOTES:222,LESS_THAN:188,GREATER_THAN:190,BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CONTROL:17,ALT:18,CAPS_LOCK:20,ESC:27,SPACEBAR:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,HELP:47,NUM_LOCK:144};return e},e.exports?e.exports=r():void 0===(o="function"==typeof(i=r)?i.call(t,n,t,e):i)||(e.exports=o)},HTWm:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i={"application/msword":["doc","dot"],"application/pdf":["pdf"],"application/excel":["xls"],"application/mspowerpoint":["ppt"],"application/powerpoint":["ppt"],"application/x-mspowerpoint":["ppt"],"application/vnd.ms-excel":["xls","xlt","xla"],"application/vnd.ms-excel.addin.macroEnabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroEnabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroEnabled.12":["xlsm"],"application/vnd.ms-excel.template.macroEnabled.12":["xltm"],"application/vnd.ms-powerpoint":["ppt","pot","pps","ppa"],"application/vnd.ms-powerpoint.addin.macroEnabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroEnabled.12":["pptm","potm"],"application/vnd.ms-powerpoint.slideshow.macroEnabled.12":["ppsm"],"application/vnd.ms-word.document.macroEnabled.12":["docm"],"application/vnd.ms-word.template.macroEnabled.12":["dotm"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/x-excel":["xls","xll"],"application/x-compressed":["zip"],"application/x-zip-compressed":["zip"],"application/zip":["zip"],"audio/midi":["mid"],"audio/mpeg":["mp3"],"audio/mpeg3":["mp3"],"audio/x-mpeg":["mp3"],"audio/x-mpeg3":["mp3"],"audio/x-midi":["mid"],"audio/aiff":["aiff","aif","aifc"],"audio/x-aiff":["aiff","aif","aifc"],"audio/wav":["wav"],"audio/x-wav":["wav"],"image/bmp":["bmp","bm"],"image/x-windows-bmp":["bmp"],"image/gif":["gif"],"image/x-icon":["ico"],"image/jpeg":["jpg","jpeg"],"image/png":["png"],"image/tiff":["tif","tiff"],"image/x-tiff":["tif","tiff"],"multipart/x-zip":["zip"],"text/plain":["txt"],"video/avi":["avi"],"video/mpeg":["mpeg","mp4"],"video/msvideo":["avi"],"video/quicktime":["mov","moov"]};t.default=function(e,t){return i[t]?i[t].some(t=>e.endsWith(`.${t}`))?e:`${e}.${i[t][0]}`:e}},HabF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K").__importDefault(n("qK4a"));i.default.createChange=(e=!0)=>({format:{strike:e}}),t.default=i.default},Hc6M:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("ERkP")),r=i.__importDefault(n("aWzz")),a=i.__importDefault(n("riqF")),s=i.__importDefault(n("4Xt8")),l=i.__importStar(n("ChZS")),u=i.__importDefault(n("XAd7")),c=n("B43Y"),d=i.__importDefault(n("FTog")),f=i.__importDefault(n("Xgsd")),p=i.__importDefault(n("6VEp")),h=i.__importDefault(n("4p8m")),m=i.__importDefault(n("f7Oh")),b=i.__importDefault(n("2SZA")),g=e=>o.default.createElement(a.default,Object.assign({},e),o.default.createElement(s.default,Object.assign({},l.Bold,{iconOnly:!0})),o.default.createElement(s.default,Object.assign({},l.Italic,{iconOnly:!0})),o.default.createElement(s.default,Object.assign({},l.Underline,{iconOnly:!0})),o.default.createElement(p.default,{pluginButtons:e.pluginButtons,iconOnly:!0}),e.pluginButtons.length>0&&o.default.createElement(s.default,Object.assign({},l.InsertContentMenu,{iconOnly:!0,separator:!0}),o.default.createElement(f.default,{pluginButtons:e.pluginButtons}),o.default.createElement(d.default,{pluginButtons:e.pluginButtons}),o.default.createElement(b.default,{pluginButtons:e.pluginButtons}),u.default(e,c.TOOLBAR_SETS.minimal,c.TOOLBAR_BREAKPOINTS.small)),o.default.createElement(h.default,{id:c.EDITABLE_ATTACHMENT_CONFIG.id,pluginButtons:e.pluginButtons,iconOnly:!0,isHideable:!0}),o.default.createElement(m.default,{id:c.EDITABLE_TPC_CONFIG.id,pluginButtons:e.pluginButtons,iconOnly:!0,isHideable:!0}));g.propTypes={pluginButtons:r.default.arrayOf(r.default.shape({id:r.default.string.isRequired,cssClass:r.default.string.isRequired,iconName:r.default.string.isRequired,isActive:r.default.func.isRequired,onClick:r.default.func.isRequired})).isRequired},t.default=g},Hjp0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importStar(n("ERkP")),r=n("8unJ"),a=i.__importDefault(n("aWzz")),s=n("0x+l"),l=n("tN4z"),u=n("myse");function c(e){const{localize:t,onChange:n,onEnterKey:i,type:r,value:a,minValue:u,maxValue:c}=e,[d,f]=o.useState(a),p=e=>!(e>c||e<u),h=()=>{const e=d+1;p(e)&&(f(e),n(e))},m=()=>{const e=d-1;p(e)&&(f(e),n(e))};return o.default.createElement("span",{className:"table-dialog-input-spinner"},o.default.createElement(l.AnalyticsIconButton,{"aria-label":(()=>{let e="";return e="column"===r?"bbmlEditor.toolbar.table-dialog-columns-spinner-minus-button.label":"bbmlEditor.toolbar.table-dialog-rows-spinner-minus-button.label",t.translate(e)})(),onClick:m},o.default.createElement(s.Minus,null)),o.default.createElement(l.AnalyticsTextField,{id:`analyticTextField-${r}`,className:"table-dialog-input-spinner-text-field",placeholder:String(d),value:d,onChange:e=>{const t=Number(e.target.value);if(!Number.isNaN(t))if(p(t))f(t),n(t);else if(t>c){const e=c.toString().length;let i=Number(t.toString().substr(0,e-1));e<t.toString().length&&(i=c),f(i),n(i)}},onKeyDown:e=>{switch(e.key){case"Enter":e.preventDefault(),e.stopPropagation(),i();break;case"ArrowUp":h();break;case"ArrowDown":m()}}}),o.default.createElement(l.AnalyticsIconButton,{"aria-label":(()=>{let e="";return e="column"===r?"bbmlEditor.toolbar.table-dialog-columns-spinner-add-button.label":"bbmlEditor.toolbar.table-dialog-rows-spinner-add-button.label",t.translate(e)})(),onClick:h},o.default.createElement(s.Add,null)))}c.propTypes={onChange:a.default.func,onEnterKey:a.default.func,type:a.default.string,value:a.default.number,minValue:a.default.number,maxValue:a.default.number},c.defaultProps={onChange:null,onEnterKey:null,type:"",value:1,minValue:1,maxValue:10},t.default=r.localizedComponentWrapper(u.withAnalytics(c))},HrSV:function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.r(t);var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(n,e);var t=r(n);function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t.apply(this,arguments)}return n}(n("rbFJ").default);l.blotName="italic",l.tagName=["EM","I"],t.default=l},"I3/E":function(e,t,n){"use strict";n.r(t)},"IKr/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K").__importDefault(n("pLwJ")),o=n("km4Y"),r=["","o","","v","",""],a=(e,t)=>e.compose((new i.default).retain(e.length(),t)),s=()=>Math.random().toString(36).slice(2,6),l=(e,t,n)=>"string"!=typeof t?Object.keys(t).reduce((e,n)=>l(e,n,t[n]),e):e.reduce((e,i)=>{if(i.attributes&&i.attributes[t])return e.push(i);if(i.attributes){const o=n?{[t]:n}:{};return e.insert(i.insert,{...o,...i.attributes})}const o=!n||"table-cell"!==t&&"table-head"!==t?{}:{[t]:n};return e.insert(i.insert,{...o,...i.attributes})},new i.default),u={selector:Node.ELEMENT_NODE,func:(e,t)=>{const n=[];return t.ops.forEach(e=>{e.insert&&"string"==typeof e.insert&&n.push({insert:e.insert})}),t.ops=n,t}};t.QuillClipboardMatchersWithoutFormat=u,t.matchTableCell=e=>(t,n)=>{const i=n&&n.ops&&n.ops[n.ops.length-1],o=i&&"string"==typeof i.insert&&"\n"===i.insert.slice(-1);return 0!==n.ops.length&&o||n.insert("\n"),l(n,`table-${e}`,`${e}-${s()}`)};const c=[{selector:"li",func:(e,t)=>t.ops.length?a(t):new i.default([{insert:"\n"}])},{selector:"h1",func:(e,t)=>a(t,{header:4})},{selector:"h2",func:(e,t)=>a(t,{header:4})},{selector:"h3",func:(e,t)=>a(t,{header:4})},{selector:"del",func:(e,t)=>a(t,{strike:!0})},{selector:"strike",func:(e,t)=>a(t,{strike:!0})},{selector:'span[style*="line-through"]',func:(e,t)=>a(t,{strike:!0})},{selector:'span[style*="underline"]',func:(e,t)=>a(t,{underline:!0})},{selector:"table",func:(e,t)=>{const n=`table-${s()}`,i=l(t,"table-container",n);let o=" ";for(let e=0;e<i.ops.length;e++){const t=i.ops[e];if(t.attributes&&"table-container"in t.attributes){const n="\n"!==t.insert.length?t.insert:" \n";o+=" ",t.insert=o+"\n";const r=["table-container","table-row","table-cell","table-head"],a=Object.keys(t.attributes).filter(e=>!r.includes(e)).reduce((e,n)=>(e[n]=t.attributes[n],e),{});i.ops.splice(e,0,{insert:n,attributes:a}),e+=1,t.attributes=Object.keys(t.attributes).filter(e=>r.includes(e)).reduce((e,n)=>(e[n]=t.attributes[n],e),{})}}return i.ops.unshift({insert:"\n",attributes:{tablebr:n}}),i.ops=(e=>{var t;let n=null;for(let i=e.length-1;i>=0;i--){const o=e[i];o.attributes&&"table-container"in o.attributes&&(n===o.attributes["table-head"]||n===o.attributes["table-cell"]?e.splice(i,1):(n=null!==(t=o.attributes["table-head"])&&void 0!==t?t:o.attributes["table-cell"],e.splice(i+1,0,{insert:" ",attributes:{color:"#ffffff"}})))}return e})(i.ops),i}},{selector:"tr",func:(e,t)=>l(t,"table-row",`row-${s()}`)},{selector:"th",func:t.matchTableCell("head")},{selector:"td",func:t.matchTableCell("cell")},{selector:"p.MsoTitle",func:(e,t)=>a(t,{header:4})},{selector:"p[class^=MsoListParagraph]",func:e=>{const t=r.includes(e.textContent.charAt(0));let n=e.textContent.trim();const o=t?n.indexOf("node.textContent.charAt(0)")+2:n.indexOf(".")+1;n=n.substring(o,e.textContent.length).replace(/\n/g,"").replace(/\u00a0/g,"").trim();let a=0;const s=e.getAttribute("style");if(s){const e=s.match(/level(\d+)/);e&&(a=Number(e[1])-1)}return new i.default([{insert:n},{insert:"\n",attributes:{list:t?"bullet":"ordered",indent:a}}])}}];t.QuillClipboardMatchers=c,t.newlineBeforeEmbedBlotMatcher=e=>{const t=e.filter(e=>e&&e.formatter&&"embed"===e.formatter.type).map(e=>e.matchers);return(e,n)=>{const i=n&&n.ops&&n.ops[n.ops.length-1];return!(i&&"string"==typeof i.insert&&"\n"===i.insert.slice(-1))&&e.nextSibling&&(e=>t.length&&e.parentNode&&Array.from(e.parentNode.querySelectorAll(t)).indexOf(e)>-1)(e.nextSibling)&&n.insert("\n"),n}},t.QuillAddPluginClipboardMatchers=function(e,n){n.forEach(r=>{r.matchers&&r.matchers.forEach(t=>{e.clipboard.addMatcher(t,(e,t)=>{const n=r.formatter&&r.formatter.blotName,s=n||r.pluginId;let l;return["embed","embedInline"].includes(r.formatter.type)?l={insert:{[s]:o.getAttributes(e,r.formatter.attributes)},attributes:o.getAttributes(e,r.formatter.attributes)}:"inline"===r.formatter.type&&((l={insert:e.textContent,attributes:o.getAttributes(e,r.formatter.attributes)}).attributes[s]=o.getAttributes(e,r.formatter.attributes)),"link"===n&&e.textContent&&e.textContent.trim().length?a(t,l.attributes):new i.default([l])})}),e.clipboard.addMatcher(Node.TEXT_NODE,t.newlineBeforeEmbedBlotMatcher(n))})}},IOAS:function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},IUnp:function(e,t,n){"use strict";var i=n("yYc7"),o=n("V2Np"),r=n("g3gc"),a=n("ZRs3"),s=n("BtlX"),l=n("YXsS"),u=n("eg/M");function c(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){c(e),e.baseURL&&!s(e.url)&&(e.url=l(e.baseURL,e.url)),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),i.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]}));var t=e.adapter||a.adapter;return"jsonp"===e.method?u(e):t(e).then((function(t){return c(e),t.data=o(t.data,t.headers,e.transformResponse),t}),(function(t){return r(t)||(c(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},IlOi:function(e,t,n){"use strict";var i=n("YZE+"),o=n("zT+L").supportsDescriptors,r=Object.getOwnPropertyDescriptor,a=TypeError;e.exports=function(){if(!o)throw new a("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var e=r(RegExp.prototype,"flags");if(e&&"function"==typeof e.get&&"boolean"==typeof/a/.dotAll)return e.get}return i}},Ir8P:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WHITELIST_REGEXS=[/edpuzzle/i,/flipgrid/i,/genial\.ly/i,/h5p/i,/kaltura/i,/microsoftstream/i,/miro/i,/nearpod/i,/panopto/i,/prezi/i,/quizlet/i,/sharepoint.+\/\:[pwx]\:/i,/slideshare/i,/soundcloud/i,/spotify/i,/vidgrid/i,/vimeo\.com/i,/voicethread/i,/youtu\.be/i,/youtube\.com/i],t.isUrlWhitelisted=e=>t.WHITELIST_REGEXS.some(t=>t.test(e))},J1qw:function(e,t,n){"use strict";var i=n("FYay");function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new i(e),t(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},J4Ia:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e="",t=!0,n){const i={alt:!0===t||"string"==typeof t&&0===t.length?e:t,src:e},o=[{insert:!0,format:{audio:{bbtype:"audio",bbfile:JSON.stringify(i)}}}];return o.unshift({insert:"\n"}),n||o.push({insert:"\n"}),o}},JOC4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i={maxFileMB:2500,maxFileSize:262144e4};t.default=i},JQup:function(e,t,n){"use strict";n.r(t)},JVaS:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=e=>new Promise(t=>{setTimeout(()=>{t(e)},200)})},K5aC:function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},K87l:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("ERkP")),r=i.__importDefault(n("7nmT")),a=i.__importDefault(n("aWzz")),s=n("8unJ"),l=n("OZiN");class u extends o.default.Component{constructor(e){super(e),this.state={showLightbox:!1},this.buttonStyle={background:"white",position:"absolute",bottom:"-2rem",left:".5rem",zIndex:"20",padding:".05rem .35rem",borderRadius:"3px"},this.closeLightbox=this.closeLightbox.bind(this),this.showLightbox=this.showLightbox.bind(this)}closeLightbox(){this.setState({showLightbox:!1})}showLightbox(){this.setState({showLightbox:!0})}render(){const{children:e,firstFocusableContentSelector:t,localizedStrings:n}=this.props;return o.default.createElement("div",null,o.default.createElement(l.Lightbox,{heading:n.title,isOpen:this.state.showLightbox,onDismiss:this.closeLightbox,containerClassName:"lightboxExample-container",firstFocusableContentSelector:t},e))}}u.propTypes={localizedStrings:a.default.shape({title:a.default.string,fullScreenButtonDescription:a.default.string,fullScreenButtonText:a.default.string}).isRequired,firstFocusableContentSelector:a.default.string.isRequired},t.default=function(e,t={},n={},i={}){const a=s.localizedComponentWrapper(e=>o.default.createElement("iframe",Object.assign({},e.iframeProps,{title:e.iframeProps.title||e.localize.translate("bbmlEditor.components.editor.iFrameDefaultTitle")}))),l=s.localizedComponentWrapper(u),c={locale:t,iFrame:n,lightbox:i},d=()=>{r.default.render(o.default.createElement(s.Locale,Object.assign({},c.locale),o.default.createElement(l,Object.assign({},c.lightbox),o.default.createElement(a,{iframeProps:c.iFrame}))),e)};return d(),{update(e={},t={},n={}){c.locale={...c.locale,...e},c.iFrame={...c.iFrame,...t},c.lightbox={...c.lightbox,...n},d()},destroy(){r.default.unmountComponentAtNode(e)}}}},Kjgm:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importStar(n("ERkP")),r=i.__importDefault(n("aWzz")),a=n("8unJ"),s=n("myse"),l=i.__importDefault(n("ytDJ")),u=10,c=10,d="_";function f(e){const[t,n]=o.useState({rowCount:0,columnCount:0}),i=(i,o)=>{e.quillModuleAction({module:"quill.table",action:"saved-selection"}),n({rowCount:i,columnCount:o}),e.quillModuleAction({module:"quill.table",action:"insert-table",rowCount:parseInt(t.rowCount,10)+1,columnCount:parseInt(t.columnCount,10)+1,headerRow:!1,headerColumn:!1})},r=(e,t)=>{n({rowCount:e,columnCount:t})},{localize:a}=e;return o.default.createElement("div",{className:"table-creator"},o.default.createElement("span",{id:"tableGridCreator",className:"table-info"},a.translate("bbmlEditor.toolbar.tableCreator.info",{rowCount:parseInt(t.rowCount,10)+1,columnCount:parseInt(t.columnCount,10)+1})),o.default.createElement("div",{"aria-labelledby":"tableGridCreator",role:"grid"},o.default.createElement("div",{className:"table-creator-grid",role:"row"},(()=>{const n=[];for(let a=0;a<u;a++)for(let s=0;s<c;s++)n.push(o.default.createElement(l.default,Object.assign({},e,{index:a*c+s,key:`${a}${d}${s}`,rowIndex:a,columnIndex:s,isSelected:a<=t.rowCount&&s<=t.columnCount,handleHover:r,handleClick:i})));return n})())))}f.propTypes={quillModuleAction:r.default.func.isRequired,localize:r.default.object.isRequired},t.default=a.localizedComponentWrapper(s.withAnalytics(f))},"L+Of":function(e,t,n){"use strict";var i=n("yYc7"),o=n("niB6"),r=n("e2zm"),a=n("ZRs3");function s(e){var t=new r(e),n=o(r.prototype.request,t);return i.extend(n,r.prototype,t),i.extend(n,t),n}var l=s(a);l.Axios=r,l.create=function(e){return s(i.merge(a,e))},l.Cancel=n("5aoz"),l.CancelToken=n("3UMf"),l.isCancel=n("g3gc"),l.all=function(e){return Promise.all(e)},l.spread=n("K5aC"),e.exports=l,e.exports.default=l},L1E5:function(e,t,n){"use strict";var i=n("yYc7");e.exports=i.isStandardBrowserEnv()?{write:function(e,t,n,o,r,a){var s=[];s.push(e+"="+encodeURIComponent(t)),i.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),i.isString(o)&&s.push("path="+o),i.isString(r)&&s.push("domain="+r),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},LHyt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("aWzz"));n("dkHR");const r=i.__importDefault(n("ghwj")),a=i.__importDefault(n("s8Gx")),s=i.__importDefault(n("S5B4")),l=i.__importDefault(n("SOWH")),u=i.__importDefault(n("iZy+")),c=i.__importDefault(n("hOhB")),d=i.__importDefault(n("jgNF")),f=i.__importDefault(n("wL96")),p=n("l3QI"),h=i.__importDefault(n("BqZm")),m=n("e5Rc"),b=[`img[data-bbtype="${f.default}"]`];function g(e,t){return{id:f.default,cssClass:f.default,iconName:"collab",iconComponent:p.Collab,isDialog:!0,isActive:e=>!!e[f.default],onClick({showModal:n,editorFormat:i,...o}){i[f.default]?n(s.default,{...e,...o,editorFormat:i}):n(a.default,{...e,...o,service:t})},checkAvailabilityAsPromise:()=>t.getAvailability(),...e.isHidden&&{isHidden:!0}}}function y(e,t,n){n.isReadOnly||n.isDisabled?(e.classList.add("clickable"),e.addEventListener("click",t)):(e.classList.remove("clickable"),e.removeEventListener("click",t))}function v(e,t,n){const i=n.plugins.find(e=>e.pluginId===f.default);if(!i)return;e.formatComponent=y.bind(null,e,()=>{d.default(r.default,{videoId:t.video_uuid,service:i.service},n.localize.getLocalePropsForClone())}),e.formatComponent(n)}const E={type:"embed",tagName:"div",attributes:{"data-bbtype":f.default,"data-bbfile":null,src:"",title:"",alt:"",info:null},renderDomNode(e,t,n){const i=JSON.parse(n.bbfile),o=l.default(e,t,n);o.classList.add("bb-video-everywhere-playback"),o.contentEditable=!1;const r=n.info?`<br><span class="ve-info">${n.info}</span>`:"",a=`<div class="ve-inline-block"><img class="icon-video-record" src="${n.src}" alt="${h.default.HTML(n.alt)}"></div>`,s=`<div class="ve-inline-block">${h.default.HTML(n.title)}${r}<div>`;return o.innerHTML=`${a}&nbsp;${s}`,o.classList.add("wants-props-update"),o.querySelector("img").onerror=e=>{const t=window.btoa(m);e.target.src=`data:image/svg+xml;base64,${t}`,e.target.onerror=null},o.formatComponent=v.bind(null,o,i),o}};function _(e,t){return`<img ${`src="${t.src}"`} ${`title="${t.title}"`} ${`alt="${t.alt}"`} ${`data-bbtype="${f.default}"`} ${`data-bbfile="${c.default(t.bbfile)}"`} />`}t.pluginConfigPropType=o.default.shape({apiBasePath:o.default.string,xsrfToken:o.default.string,courseId:o.default.string}),t.default=e=>{const t=new u.default(e);return t.getAvailability(),{service:t,pluginId:f.default,buttonConfig:g(e,t),matchers:b,formatter:E,toBbML:_}}},LYUa:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("5TY+")),r=i.__importDefault(n("SOWH")),a=i.__importStar(n("hOhB")),s=n("qD3J"),l="link";function u(e){return{id:l,cssClass:l,iconName:"link",iconComponent:s.Link,isDialog:!0,isActive:e=>!!e[l],onClick:({showModal:t,...n})=>{t(o.default,{...e,...n})}}}const c=["a[href]:not([data-bbtype]):not([data-bbfile])",'a[href][data-bbtype="lti"]'],d={type:"inline",blotName:l,tagName:"a",attributes:{href:"#",target:"_blank","data-bbid":null,"data-bbtype":null,"data-bbfile":null,"data-mce-href":null},renderDomNode:(e,t,n,i)=>{const o={};Object.keys(n).forEach(e=>{(Object.prototype.hasOwnProperty.call(t,e)||Object.prototype.hasOwnProperty.call(t,`data-${e}`))&&(o[e]=a.stringDecode(n[e]))});const s=r.default(e,t,o);return s.classList.add("wants-props-update"),s.tabIndex=!i.isReadOnly||i.isDisabled?"-1":"0",s.formatComponent=e=>{s.tabIndex=!e.isReadOnly||e.isDisabled?"-1":"0"},s}};function f(e,t){return`<a ${[`href="${t.href}"`].concat(["bbid","mce-href","bbtype","bbfile"].filter(e=>t[e]).map(e=>`data-${e}="${a.default(t[e])}"`)).join(" ")}>${e}</a>`}t.default=e=>({pluginId:l,buttonConfig:u(e),matchers:c,formatter:d,toBbML:f})},M44J:function(e,t,n){"use strict";e.exports=function(e,t,n,i,o){return e.config=t,n&&(e.code=n),e.request=i,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},MJsW:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p})),n.d(t,"getLastChangeIndex",(function(){return h}));var i=n("oB8T"),o=n.n(i),r=n("nuzP");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(a,e);var t,n,i,o=u(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=o.call(this,e,t)).lastRecorded=0,n.ignoreChange=!1,n.clear(),n.quill.on(r.default.events.EDITOR_CHANGE,(function(e,t,i,o){e!==r.default.events.TEXT_CHANGE||n.ignoreChange||(n.options.userOnly&&o!==r.default.sources.USER?n.transform(t):n.record(t,i))})),n.quill.keyboard.addBinding({key:"Z",shortKey:!0},n.undo.bind(d(n))),n.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},n.redo.bind(d(n))),/Win/i.test(navigator.platform)&&n.quill.keyboard.addBinding({key:"Y",shortKey:!0},n.redo.bind(d(n))),n}return t=a,(n=[{key:"change",value:function(e,t){if(0!==this.stack[e].length){var n=this.stack[e].pop();this.stack[t].push(n),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n[e],r.default.sources.USER),this.ignoreChange=!1;var i=h(n[e]);this.quill.setSelection(i)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(e,t){if(0!==e.ops.length){this.stack.redo=[];var n=this.quill.getContents().diff(t),i=Date.now();if(this.lastRecorded+this.options.delay>i&&this.stack.undo.length>0){var o=this.stack.undo.pop();n=n.compose(o.undo),e=o.redo.compose(e)}else this.lastRecorded=i;this.stack.undo.push({redo:e,undo:n}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(e){this.stack.undo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)})),this.stack.redo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)}))}},{key:"undo",value:function(){this.change("undo","redo")}}])&&s(t.prototype,n),i&&s(t,i),a}(n("iZxV").default);function h(e){var t=e.reduce((function(e,t){return e+=t.delete||0}),0),n=e.length()-t;return function(e){var t=e.ops[e.ops.length-1];return null!=t&&(null!=t.insert?"string"==typeof t.insert&&t.insert.endsWith("\n"):null!=t.attributes&&Object.keys(t.attributes).some((function(e){return null!=o.a.query(e,o.a.Scope.BLOCK)})))}(e)&&(n-=1),n}p.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1}},MrRw:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("SOWH")),r=i.__importDefault(n("hOhB")),a="customClass",s=[`a[data-bbtype="${a}"][data-bbfile]`],l={type:"inline",blotName:a,tagName:"span",attributes:{"data-bbfile":null,"data-bbtype":null},renderDomNode:(e,t,n)=>{const i=o.default(e,t,n),r=JSON.parse(n.bbfile);return i.className=r.className,i}};function u(e,t){return`<a href="#" data-bbtype="${a}" data-bbfile="${r.default(t.bbfile)}">${e}</a>`}t.default=()=>({pluginId:a,matchers:s,formatter:l,toBbML:u})},Mt08:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("SOWH")),r=i.__importDefault(n("F0tE"));n("byzF");const a="reinsertAttachment",s=[`[data-bbtype=${a}][data-bbfile]`],l={type:"embed",blotName:a,tagName:"div",attributes:{"data-bbtype":a,"data-bbfile":null,href:null},renderDomNode:(e,t,n,i)=>{const{localize:s}=i,l=JSON.parse(n.bbfile),{href:u,metadata:c}=r.default(n.href,l),d=n;d.href=u,d.bbfile=JSON.stringify(c);const f=o.default(e,t,d);f.contentEditable=!1,f.classList.add(a,"wants-props-update");const p=document.createElement("span");p.classList.add(`${a}-icon`),f.appendChild(p);const h=document.createElement("span");return h.classList.add(`${a}-label`,"no-longtext"),h.innerHTML=s.translate(`bbmlEditor.components.dialogs.${a}.label`,{fileName:c.linkName}),f.appendChild(h),f.formatComponent=e=>{e.isReadOnly?f.classList.add("hidden"):f.classList.remove("hidden")},f}};t.default=()=>({pluginId:a,matchers:s,formatter:l})},"N/5i":function(e,t,n){"use strict";var i=n("P0jV");e.exports=function(e,t){t=t||{};var n={},o=["url","method","params","data"],r=["headers","auth","proxy"],a=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];i.forEach(o,(function(e){void 0!==t[e]&&(n[e]=t[e])})),i.forEach(r,(function(o){i.isObject(t[o])?n[o]=i.deepMerge(e[o],t[o]):void 0!==t[o]?n[o]=t[o]:i.isObject(e[o])?n[o]=i.deepMerge(e[o]):void 0!==e[o]&&(n[o]=e[o])})),i.forEach(a,(function(i){void 0!==t[i]?n[i]=t[i]:void 0!==e[i]&&(n[i]=e[i])}));var s=o.concat(r).concat(a),l=Object.keys(t).filter((function(e){return-1===s.indexOf(e)}));return i.forEach(l,(function(i){void 0!==t[i]?n[i]=t[i]:void 0!==e[i]&&(n[i]=e[i])})),n}},N8r5:function(e,t,n){"use strict";var i=["error","warn","log","info"],o="warn";function r(e){if(i.indexOf(e)<=i.indexOf(o)){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];(t=console)[e].apply(t,r)}}function a(e){return i.reduce((function(t,n){return t[n]=r.bind(console,n,e),t}),{})}r.level=a.level=function(e){o=e},t.a=a},No21:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={externalLink:"resource/x-bb-externallink",bltiPlacement:"resource/x-bb-bltiplacement"}},O3AJ:function(e,t,n){"use strict";var i=n("P0jV");function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){i.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},O5oA:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TOOLBAR_BREAKPOINTS={small:"small",medium:"medium",large:"large"};t.TOOLBAR_BREAKPOINTS_MINIMAL={small:"small",large:"large"};t.TOOLBAR_SETS={default:"default",minimal:"minimal"};t.LARGE_TOOLBAR_MIN_SIZE=676;t.MEDIUM_TOOLBAR_MIN_SIZE=554;t.SMALL_TOOLBAR_MIN_SIZE=268},ONuW:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K").__importDefault(n("rbFJ"));i.default.createChange=(e=!0)=>({format:{bold:e}}),t.default=i.default},P0jV:function(e,t,n){"use strict";var i=n("vfGT"),o=Object.prototype.toString;function r(e){return"[object Array]"===o.call(e)}function a(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function l(e){return"[object Function]"===o.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),r(e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:r,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isUndefined:a,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:l,isStream:function(e){return s(e)&&l(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:u,merge:function e(){var t={};function n(n,i){"object"==typeof t[i]&&"object"==typeof n?t[i]=e(t[i],n):t[i]=n}for(var i=0,o=arguments.length;i<o;i++)u(arguments[i],n);return t},deepMerge:function e(){var t={};function n(n,i){"object"==typeof t[i]&&"object"==typeof n?t[i]=e(t[i],n):t[i]="object"==typeof n?e({},n):n}for(var i=0,o=arguments.length;i<o;i++)u(arguments[i],n);return t},extend:function(e,t,n){return u(t,(function(t,o){e[o]=n&&"function"==typeof t?i(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},PBUH:function(e,t,n){"use strict";n.r(t)},PMOQ:function(e,t,n){"use strict";var i=Object.prototype.hasOwnProperty,o="~";function r(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(o=!1)),s.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)i.call(e,t)&&n.push(o?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},s.prototype.listeners=function(e,t){var n=o?o+e:e,i=this._events[n];if(t)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var r=0,a=i.length,s=new Array(a);r<a;r++)s[r]=i[r].fn;return s},s.prototype.emit=function(e,t,n,i,r,a){var s=o?o+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,i),!0;case 5:return c.fn.call(c.context,t,n,i,r),!0;case 6:return c.fn.call(c.context,t,n,i,r,a),!0}for(u=1,l=new Array(d-1);u<d;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var f,p=c.length;for(u=0;u<p;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,n);break;case 4:c[u].fn.call(c[u].context,t,n,i);break;default:if(!l)for(f=1,l=new Array(d-1);f<d;f++)l[f-1]=arguments[f];c[u].fn.apply(c[u].context,l)}}return!0},s.prototype.on=function(e,t,n){var i=new a(t,n||this),r=o?o+e:e;return this._events[r]?this._events[r].fn?this._events[r]=[this._events[r],i]:this._events[r].push(i):(this._events[r]=i,this._eventsCount++),this},s.prototype.once=function(e,t,n){var i=new a(t,n||this,!0),r=o?o+e:e;return this._events[r]?this._events[r].fn?this._events[r]=[this._events[r],i]:this._events[r].push(i):(this._events[r]=i,this._eventsCount++),this},s.prototype.removeListener=function(e,t,n,i){var a=o?o+e:e;if(!this._events[a])return this;if(!t)return 0==--this._eventsCount?this._events=new r:delete this._events[a],this;var s=this._events[a];if(s.fn)s.fn!==t||i&&!s.once||n&&s.context!==n||(0==--this._eventsCount?this._events=new r:delete this._events[a]);else{for(var l=0,u=[],c=s.length;l<c;l++)(s[l].fn!==t||i&&!s[l].once||n&&s[l].context!==n)&&u.push(s[l]);u.length?this._events[a]=1===u.length?u[0]:u:0==--this._eventsCount?this._events=new r:delete this._events[a]}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=o?o+e:e,this._events[t]&&(0==--this._eventsCount?this._events=new r:delete this._events[t])):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prototype.setMaxListeners=function(){return this},s.prefixed=o,s.EventEmitter=s,e.exports=s},"PaW+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K").__importDefault(n("SOWH"));n("dScN");const o=["img[src]:not([data-mathml]):not([data-bbtype])"],r={type:"embedInline",blotName:"inlineImage",tagName:"img",attributes:{src:"",alt:null},renderDomNode:(e,t,n)=>{const o=i.default(e,t,n);return o.onerror=()=>{o.classList.add("broken-image")},o}};function a(e,t){let n=[t.alt?`alt="${t.alt}"`:""].filter(e=>e.length);return n=n.length?["",...n].join(" "):"",`<img src="${t.src}"${n}/>`}t.default=()=>({pluginId:"inlineImage",matchers:o,formatter:r,toBbML:a})},Q2eF:function(e,t,n){"use strict";var i=n("P0jV");function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(i.isURLSearchParams(t))r=t.toString();else{var a=[];i.forEach(t,(function(e,t){null!=e&&(i.isArray(e)?t+="[]":e=[e],i.forEach(e,(function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))})))})),r=a.join("&")}if(r){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}},QjXM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K").__importDefault(n("pRTq")),o=n("hOhB");function r(e){const t=/\<iframe.+src\=(?:\"|\')(.+?)(?:\"|\')(?:.+?)\>/;return t.test(e)?e.match(t)[1]:e}async function a(e){let t;return e.includes("soundcloud.com")?i.default.get(`https://soundcloud.com/oembed?url=${e}`).then(e=>t=o.parseHTML(e.data.html).getElementsByTagName("iframe")[0].src):e.includes("slideshare.net")?i.default.jsonp(`https://www.slideshare.net/api/oembed/2?url=${e}&format=jsonp`).then(e=>t=o.parseHTML(e.html).getElementsByTagName("iframe")[0].src):void 0}t.extractSourceFromIframe=r,t.parseMediaUrl=async function(e){let t=e=r(e);if(t.includes("://")||(e=`https://${t}`),(t=t.toLowerCase()).includes("m.youtube"))return e.replace(/(m.youtube)/i,"youtube");if(t.includes("youtube.com")&&!t.includes(".com/embed"))return(e=e.replace(/(watch\?v=)/i,"").replace(/(.com\/)/i,".com/embed/")).split(/(&feature=youtu.be)/i)[0];if(t.includes("//youtu.be/"))return e.replace(/(\/\/youtu.be\/)/i,"//youtube.com/embed/");if(t.includes("vimeo.com")&&!t.includes("player.vimeo")){const t=(e=e.endsWith("/")?e.replace(/\/+$/g,""):e).split("/").slice(-1)[0];return e.replace(/vimeo/i,"player.vimeo").replace(/(.com\/).*$/i,`.com/video/${t}`)}if(t.includes("vidgrid.com/view")&&!t.includes("embed"))return(e=e.replace(/(view)/i,"embed")).replace(/(?=\/\?).+/i,"");if(t.includes("kaltura.com")&&!t.includes("embed"))return e=e.replace(/media\/.[^\/]*\//i,"embed/secure/iframe/entryId/");if(t.includes("panopto.com")&&!t.includes("Embed"))return e.replace(/Viewer/i,"Embed");if(t.includes("flipgrid.com")&&!t.includes("embed=true"))return t.includes("admin")&&(e=e.replace(/admin/i,"shorts").replace(/manage\/shorts/i,"watch")),e=e.replace(/\?\w+$/i,"?embed=true");if(t.includes("prezi.com")&&!t.includes("embed")){if(!t.includes("view")){let t=e.split("/");e=(t=t.splice(0,5)).join("/")}return e.endsWith("/")||(e=e.concat("/")),e.concat("embed")}return t.includes("voicethread.com")&&!t.includes("/app/player/?threadId=")?e.replace(/\/myvoice\/thread\//i,"/app/player/?threadId=").replace(/(\/[0-9]+){2}$/,""):t.includes("spotify.com")&&!t.includes("embed/")?(t.includes("track")?e=e.replace(/track/i,"embed/track"):t.includes("album")?e=e.replace(/album/i,"embed/album"):t.includes("playlist")?e=e.replace(/playlist/i,"embed/playlist"):t.includes("artist")?e=e.replace(/artist/i,"embed/artist"):t.includes("show")?e=e.replace(/show/i,"embed-podcast/show"):t.includes("episode")&&(e=e.replace(/episode/i,"embed-podcast/episode")),e.replace(/\?.+$/i,"")):t.includes("genial.ly")?e.replace(/\/[\w-]+$/i,""):t.includes("nearpod.com")?e.replace(/command\?puid/i,"?pin").replace(/&[=\w]+$/i,"&he=true"):t.includes("quizlet.com")&&!t.includes("/embed")?e.replace(/(.*\/\/quizlet.com\/)([a-zA-Z]+\/)?(\d+)\/.*/,"$1$3/flashcards/embed"):t.includes("edpuzzle.com")&&!t.includes("embed/media")?e.replace(/media/i,"embed/media"):t.includes("soundcloud.com")&&!t.includes("embed_code/key")?a(t):t.includes("slideshare.net")&&!t.includes("//api")?a(t):t.includes("h5p.org")&&!t.includes("/embed")?e.replace(/node/i,"h5p/embed"):t.includes("h5p.com")&&!t.includes("/embed")?e.concat("/embed"):t.includes("sharepoint.com")?t.includes("action=")?e.replace(/action=\w*/i,"action=embedview"):e+"&action=embedview":t.includes("microsoftstream.com")&&!t.includes("/embed/")?e.replace(/video/,"embed/video"):t.includes("miro.com")&&!t.includes("/live-embed/")?e.replace(/board/,"live-embed"):e},t.convertToAbsoluteUrl=function(e,t){let n=e;return e&&e.indexOf("//")<0&&("/"!==e[0]&&(n=`/${e}`),n=t?t+e:window.location.origin+e),n}},QvOe:function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n("06eB"),r=n("YNvz"),a={attributes:{compose:function(e,t,n){"object"!==i(e)&&(e={}),"object"!==i(t)&&(t={});var o=r(!0,{},t);for(var a in n||(o=Object.keys(o).reduce((function(e,t){return null!=o[t]&&(e[t]=o[t]),e}),{})),e)void 0!==e[a]&&void 0===t[a]&&(o[a]=e[a]);return Object.keys(o).length>0?o:void 0},diff:function(e,t){"object"!==i(e)&&(e={}),"object"!==i(t)&&(t={});var n=Object.keys(e).concat(Object.keys(t)).reduce((function(n,i){return o(e[i],t[i])||(n[i]=void 0===t[i]?null:t[i]),n}),{});return Object.keys(n).length>0?n:void 0},transform:function(e,t,n){if("object"!==i(e))return t;if("object"===i(t)){if(!n)return t;var o=Object.keys(t).reduce((function(n,i){return void 0===e[i]&&(n[i]=t[i]),n}),{});return Object.keys(o).length>0?o:void 0}}},iterator:function(e){return new s(e)},length:function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}};function s(e){this.ops=e,this.index=0,this.offset=0}s.prototype.hasNext=function(){return this.peekLength()<1/0},s.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var n=this.offset,i=a.length(t);if(e>=i-n?(e=i-n,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var o={};return t.attributes&&(o.attributes=t.attributes),"number"==typeof t.retain?o.retain=e:"string"==typeof t.insert?o.insert=t.insert.substr(n,e):o.insert=t.insert,o}return{retain:1/0}},s.prototype.peek=function(){return this.ops[this.index]},s.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},s.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},s.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,n=this.next(),i=this.ops.slice(this.index);return this.offset=e,this.index=t,[n].concat(i)}return[]},e.exports=a},"R6B+":function(e,t,n){"use strict";var i=n("zT+L"),o=n("f5W6"),r=n("YZE+"),a=n("IlOi"),s=n("CmXO"),l=o(r);i(l,{getPolyfill:a,implementation:r,shim:s}),e.exports=l},RG4c:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("ERkP")),r=i.__importDefault(n("aWzz")),a=n("G0uU"),s=n("3/0u");n("qzA1");class l extends o.default.Component{constructor(e){super(e),this.state={isOpen:!0},this.getErrorMessage=this.getErrorMessage.bind(this),this.onCancel=this.onCancel.bind(this),this.removeFromDOM=this.removeFromDOM.bind(this)}getErrorMessage(){const{messageType:e,localize:t}=this.props;switch(e){case"mashupNotAvailable":return t.translate("bbmlEditor.errorMessages.mashupNotAvailable");default:return t.translate("bbmlEditor.errorMessages.defaultError")}}onCancel(){this.setState({isOpen:!1})}removeFromDOM(){this.props.destroy()}render(){const{localize:e}=this.props,t=e.translate("bbmlEditor.buttons.close");return o.default.createElement(s.Dialog,{hidden:!this.state.isOpen,onDismiss:this.onDismiss,dialogContentProps:{title:e.translate("bbmlEditor.errorMessages.modalTitle"),showCloseButton:!1},modalProps:{containerClassName:"modal-error-message",isAlert:!0,isOpen:this.state.isOpen,onDismiss:this.onCancel,onDismissed:this.removeFromDOM},firstFocusableSelector:"ms-Dialog-title",analyticsId:"editor.errorMessages.modalTitle"},o.default.createElement("div",{className:"error-text"},this.getErrorMessage()),o.default.createElement(s.DialogFooter,null,o.default.createElement(a.DefaultButton,{onClick:this.onCancel,analyticsId:"editor.modalErrorMessage.close"},t)))}}l.propTypes={destroy:r.default.func.isRequired,messageType:r.default.oneOf(["defaultError","mashupNotAvailable"])},l.defaultProps={messageType:"defaultError"},t.default=l},RJOg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("GBcM");t.default=i.FontStyle;t.ARIAL="Arial";t.COMIC_SANS="Comic Sans MS";t.COURIER_NEW="Courier New";t.NOTO="Noto";t.OPEN_SANS="Open Sans";const o="Times New Roman";t.TNR=o;t.VERDANA="Verdana",i.FontStyle.whitelist=["Arial","Comic Sans MS","Courier New","Noto","Open Sans",o,"Verdana"],i.FontStyle.createChange=(e="Open Sans")=>({format:{font:e}})},RSpw:function(e,t,n){"use strict";n.r(t),n.d(t,"bubbleFormats",(function(){return S})),n.d(t,"BlockEmbed",(function(){return O})),n.d(t,"default",(function(){return C}));var i=n("YNvz"),o=n.n(i),r=n("V6LY"),a=n.n(r),s=n("oB8T"),l=n.n(s),u=n("2oOw"),c=n("EROk"),d=n("wbTV");function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function m(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}function b(e,t,n){return(b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return E(this,n)}}function E(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O=function(e){g(n,e);var t=v(n);function n(){return p(this,n),t.apply(this,arguments)}return m(n,[{key:"attach",value:function(){b(_(n.prototype),"attach",this).call(this),this.attributes=new l.a.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new a.a).insert(this.value(),o()(this.formats(),this.attributes.values()))}},{key:"format",value:function(e,t){var n=l.a.query(e,l.a.Scope.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,t)}},{key:"formatAt",value:function(e,t,n,i){this.format(n,i)}},{key:"insertAt",value:function(e,t,i){if("string"==typeof t&&t.endsWith("\n")){var o=l.a.create(C.blotName);this.parent.insertBefore(o,0===e?this:this.next),o.insertAt(0,t.slice(0,-1))}else b(_(n.prototype),"insertAt",this).call(this,e,t,i)}}]),n}(l.a.Embed);O.scope=l.a.Scope.BLOCK_BLOT;var C=function(e){g(n,e);var t=v(n);function n(e){var i;return p(this,n),(i=t.call(this,e)).cache={},i}return m(n,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(l.a.Leaf).reduce((function(e,t){return 0===t.length()?e:e.insert(t.value(),S(t))}),new a.a).insert("\n",S(this))),this.cache.delta}},{key:"deleteAt",value:function(e,t){b(_(n.prototype),"deleteAt",this).call(this,e,t),this.cache={}}},{key:"formatAt",value:function(e,t,i,o){t<=0||(l.a.query(i,l.a.Scope.BLOCK)?e+t===this.length()&&this.format(i,o):b(_(n.prototype),"formatAt",this).call(this,e,Math.min(t,this.length()-e-1),i,o),this.cache={})}},{key:"insertAt",value:function(e,t,i){if(null!=i)return b(_(n.prototype),"insertAt",this).call(this,e,t,i);if(0!==t.length){var o=t.split("\n"),r=o.shift();r.length>0&&(e<this.length()-1||null==this.children.tail?b(_(n.prototype),"insertAt",this).call(this,Math.min(e,this.length()-1),r):this.children.tail.insertAt(this.children.tail.length(),r),this.cache={});var a=this;o.reduce((function(e,t){return(a=a.split(e,!0)).insertAt(0,t),t.length}),e+r.length)}}},{key:"insertBefore",value:function(e,t){var i=this.children.head;b(_(n.prototype),"insertBefore",this).call(this,e,t),i instanceof u.default&&i.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=b(_(n.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(e,t){b(_(n.prototype),"moveChildren",this).call(this,e,t),this.cache={}}},{key:"optimize",value:function(e){b(_(n.prototype),"optimize",this).call(this,e),this.cache={}}},{key:"path",value:function(e){return b(_(n.prototype),"path",this).call(this,e,!0)}},{key:"removeChild",value:function(e){b(_(n.prototype),"removeChild",this).call(this,e),this.cache={}}},{key:"split",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t&&(0===e||e>=this.length()-1)){var i=this.clone();return 0===e?(this.parent.insertBefore(i,this),this):(this.parent.insertBefore(i,this.next),i)}var o=b(_(n.prototype),"split",this).call(this,e,t);return this.cache={},o}}]),n}(l.a.Block);function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==e?t:("function"==typeof e.formats&&(t=o()(t,e.formats())),null==e.parent||"scroll"==e.parent.blotName||e.parent.statics.scope!==e.statics.scope?t:S(e.parent,t))}C.blotName="block",C.tagName="P",C.defaultChild="break",C.allowedChildren=[c.default,l.a.Embed,d.default]},RmOt:function(e,t,n){"use strict";function i(e){const t={};return e&&Object.keys(e).forEach(n=>{"object"==typeof e[n]?"domNode"!==n&&(t[n]=i(e[n])):t[n]=e[n]}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return JSON.stringify(i(e))===JSON.stringify(i(t))}},S5B4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("ERkP")),r=n("8unJ"),a=i.__importDefault(n("aWzz")),s=i.__importDefault(n("5XwT")),l=n("G0uU"),u=n("3/0u"),c=n("8h7I"),d=i.__importDefault(n("vL4I")),f=i.__importDefault(n("wL96"));function p(e){return""===e.trim()?"bbmlEditor.dialogs.collab_video.errorMessage":null}class h extends o.default.Component{constructor(e){super(e);const{title:t,alt:n,src:i,bbfile:o}=e.editorFormat[f.default];this.state={isOpen:!1,src:i,bbfile:o,title:t,alt:n},this.isValid=this.isValid.bind(this),this.onTitleChange=this.onTitleChange.bind(this),this.onAltChange=this.onAltChange.bind(this),this.onCancel=this.onCancel.bind(this),this.onSave=this.onSave.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.onClick=this.onClick.bind(this),this.getErrorMessage=this.getErrorMessage.bind(this),this.getTitleLabel=this.getTitleLabel.bind(this),this.getAltLabel=this.getAltLabel.bind(this),this.onAnimationComplete=this.onAnimationComplete.bind(this)}UNSAFE_componentWillMount(){setTimeout(()=>this.setState({isOpen:!0}))}onCancel(){this.setState({isOpen:!1})}onSave(){this.isValid()&&!this.saveInitiated&&(this.saveInitiated=!0,this.setState({isOpen:!1}))}onKeyDown(e){e.keyCode===s.default.ENTER&&(e.preventDefault(),e.stopPropagation(),this.onSave())}onClick(e){e.preventDefault(),e.stopPropagation(),this.onSave()}onTitleChange(e){this.setState({title:e,alt:e})}onAltChange(e){this.setState({alt:e})}getErrorMessage(e){const t=p(e);return t?this.props.localize.translate(t):""}getTitleLabel(){return this.props.localize.translate("bbmlEditor.dialogs.collab_video.displayNameLabel")}getAltLabel(){return this.props.localize.translate("bbmlEditor.dialogs.collab_video.altLabel")}isValid(){return!p(this.state.title)&&!p(this.state.alt)}onAnimationComplete(){this.saveInitiated&&this.props.applyChange(d.default({src:this.state.src,title:this.state.title,alt:this.state.alt,bbfile:this.state.bbfile})),this.props.destroy()}render(){const{localize:e}=this.props,t=e.translate("bbmlEditor.buttons.cancel"),n=e.translate("bbmlEditor.buttons.save");return o.default.createElement(u.Dialog,{hidden:!this.state.isOpen,dialogContentProps:{title:e.translate("bbmlEditor.dialogs.collab_video.editTitle"),type:u.DialogType.fullHeaderFooter,showCloseButton:!1},modalProps:{onDismiss:this.onCancel,onDismissed:this.onAnimationComplete},firstFocusableSelector:"ms-Dialog-title",analyticsId:"editor.dialogs.collabVideo.editTitle"},o.default.createElement(c.TextField,{className:"required",label:this.getTitleLabel(),value:this.state.title,onChanged:this.onTitleChange,onKeyDown:this.onKeyDown,onGetErrorMessage:this.getErrorMessage,validateOnLoad:!1,validateOnFocusOut:!0,analyticsId:"editor.dialogs.collabVideo.displayNameLabel.textField",required:!0}),o.default.createElement(c.TextField,{className:"required",label:this.getAltLabel(),value:this.state.alt,onChanged:this.onAltChange,onKeyDown:this.onKeyDown,onGetErrorMessage:this.getErrorMessage,validateOnLoad:!1,validateOnFocusOut:!0,analyticsId:"editor.dialogs.collabVideo.altLabel.textField",required:!0}),o.default.createElement("br",null),o.default.createElement(u.DialogFooter,null,o.default.createElement(l.DefaultButton,{onClick:this.onCancel,analyticsId:"editor.dialogs.collabVideo.editTitle.cancel"},t),o.default.createElement(l.PrimaryButton,{onClick:this.onClick,disabled:!this.isValid(),analyticsId:"editor.dialogs.collabVideo.editTitle.save.button"},n)))}}h.propTypes={destroy:a.default.func.isRequired,applyChange:a.default.func.isRequired,editorFormat:a.default.shape()},h.defaultProps={editorFormat:{}},t.default=r.localizedComponentWrapper(h)},SOWH:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){let i=e;return Object.keys(t).forEach(e=>{const o=n[e.replace("data-","")],r=t[e];i=function(e,t,n,i){return(n||i)&&e.setAttribute(t,n||i),e}(i,e,o,r)}),i}},SgHB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("CCpT");t.default=(e,t,n)=>{const o=function(e){return e.reduce((e,t)=>e.some(e=>e.pluginId===t.pluginId)?e:e.concat(t),[])}([].concat(...e));return function(e){const t=i.INSERT_CONTENT_PRIORITY_ORDER.map(t=>e.findIndex(e=>e.pluginId===t));if(t.length>0)for(let n=0;n<i.INSERT_CONTENT_PRIORITY_ORDER.length;n++)if(-1!==t[n]&&i.INSERT_CONTENT_PRIORITY_ORDER[n]!==e[n].pluginId){const i=e[n];e[n]=e[t[n]],e[t[n]]=i}}(o),function(e,t){e.forEach(e=>{e.fileDropHandler&&t.registerDropHandler(e.fileDropHandler)})}(o,n),o.filter(e=>e.buttonConfig&&e.buttonConfig.checkAvailabilityAsPromise).forEach(e=>{const n=e.buttonConfig;delete e.buttonConfig,n.checkAvailabilityAsPromise().then(i=>{i&&(e.buttonConfig=n,t())})}),o}},Soal:function(e,t,n){"use strict";var i=n("pQXz");e.exports=function(e,t,n){var o=n.config.validateStatus;!o||o(n.status)?e(n):t(i("Request failed with status code "+n.status,n.config,null,n.request,n))}},TuIL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K").__importDefault(n("pCoU"));t.default=i.default;const o=n("+jc/");t.CustomListItem=o.CustomListItem;const r="ordered",a="bullet";i.default.createChange=(e=!0)=>{return{format:{list:e?a:r}}}},UCFG:function(e,t,n){"use strict";n.r(t),n.d(t,"Range",(function(){return y})),n.d(t,"default",(function(){return v}));var i=n("oB8T"),o=n.n(i),r=n("9WnA"),a=n.n(r),s=n("06eB"),l=n.n(s),u=n("UOZ7"),c=n("N8r5");function d(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var i,o,r=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return r}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function m(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var g=Object(c.a)("quill:selection"),y=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;b(this,e),this.index=t,this.length=n},v=function(){function e(t,n){var i=this;b(this,e),this.emitter=n,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=o.a.create("cursor",this),this.lastRange=this.savedRange=new y(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(function(){i.mouseDown||setTimeout(i.update.bind(i,u.a.sources.USER),1)})),this.emitter.on(u.a.events.EDITOR_CHANGE,(function(e,t){e===u.a.events.TEXT_CHANGE&&t.length()>0&&i.update(u.a.sources.SILENT)})),this.emitter.on(u.a.events.SCROLL_BEFORE_UPDATE,(function(){if(i.hasFocus()){var e=i.getNativeRange();null!=e&&e.start.node!==i.cursor.textNode&&i.emitter.once(u.a.events.SCROLL_UPDATE,(function(){try{i.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset)}catch(e){}}))}})),this.emitter.on(u.a.events.SCROLL_OPTIMIZE,(function(e,t){if(t.range){var n=t.range,o=n.startNode,r=n.startOffset,a=n.endNode,s=n.endOffset;i.setNativeRange(o,r,a,s)}})),this.update(u.a.sources.SILENT)}var t,n,i;return t=e,(n=[{key:"handleComposition",value:function(){var e=this;this.root.addEventListener("compositionstart",(function(){e.composing=!0})),this.root.addEventListener("compositionend",(function(){if(e.composing=!1,e.cursor.parent){var t=e.cursor.restore();if(!t)return;setTimeout((function(){e.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)}),1)}}))}},{key:"handleDragging",value:function(){var e=this;this.emitter.listenDOM("mousedown",document.body,(function(){e.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(function(){e.mouseDown=!1,e.update(u.a.sources.USER)}))}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(e,t){if(null==this.scroll.whitelist||this.scroll.whitelist[e]){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!o.a.query(e,o.a.Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){var i=o.a.find(n.start.node,!1);if(null==i)return;if(i instanceof o.a.Leaf){var r=i.split(n.start.offset);i.parent.insertBefore(this.cursor,r)}else i.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.scroll.length();e=Math.min(e,n-1),t=Math.min(e+t,n-1)-e;var i,o=this.scroll.leaf(e),r=f(o,2),a=r[0],s=r[1];if(null==a)return null;var l=a.position(s,!0),u=f(l,2);i=u[0],s=u[1];var c=document.createRange();if(t>0){c.setStart(i,s);var d=this.scroll.leaf(e+t),p=f(d,2);if(a=p[0],s=p[1],null==a)return null;var h=a.position(s,!0),m=f(h,2);return i=m[0],s=m[1],c.setEnd(i,s),c.getBoundingClientRect()}var b,g="left";return i instanceof Text?(s<i.data.length?(c.setStart(i,s),c.setEnd(i,s+1)):(c.setStart(i,s-1),c.setEnd(i,s),g="right"),b=c.getBoundingClientRect()):(b=a.domNode.getBoundingClientRect(),s>0&&(g="right")),{bottom:b.top+b.height,height:b.height,left:b[g],right:b[g],top:b.top,width:0}}},{key:"getNativeRange",value:function(){var e=document.getSelection();if(null==e||e.rangeCount<=0)return null;var t=e.getRangeAt(0);if(null==t)return null;var n=this.normalizeNative(t);return g.info("getNativeRange",n),n}},{key:"getRange",value:function(){var e=this.getNativeRange();return null==e?[null,null]:[this.normalizedToRange(e),e]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(e){var t=this,n=[[e.start.node,e.start.offset]];e.native.collapsed||n.push([e.end.node,e.end.offset]);var i=n.map((function(e){var n=f(e,2),i=n[0],r=n[1],a=o.a.find(i,!0),s=a.offset(t.scroll);return 0===r?s:a instanceof o.a.Container?s+a.length():s+a.index(i,r)})),r=Math.min(Math.max.apply(Math,d(i)),this.scroll.length()-1),a=Math.min.apply(Math,[r].concat(d(i)));return new y(a,r-a)}},{key:"normalizeNative",value:function(e){if(!E(this.root,e.startContainer)||!e.collapsed&&!E(this.root,e.endContainer))return null;var t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach((function(e){for(var t=e.node,n=e.offset;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>n)t=t.childNodes[n],n=0;else{if(t.childNodes.length!==n)break;n=(t=t.lastChild)instanceof Text?t.data.length:t.childNodes.length+1}e.node=t,e.offset=n})),t}},{key:"rangeToNative",value:function(e){var t=this,n=e.collapsed?[e.index]:[e.index,e.index+e.length],i=[],o=this.scroll.length();return n.forEach((function(e,n){e=Math.min(o-1,e);var r,a=f(t.scroll.leaf(e),2),s=a[0],l=a[1],u=f(s.position(l,0!==n),2);r=u[0],l=u[1],i.push(r,l)})),i.length<2&&(i=i.concat(i)),i}},{key:"scrollIntoView",value:function(e){var t=this.lastRange;if(null!=t){var n=this.getBounds(t.index,t.length);if(null!=n){var i=this.scroll.length()-1,o=f(this.scroll.line(Math.min(t.index,i)),1)[0],r=o;if(t.length>0&&(r=f(this.scroll.line(Math.min(t.index+t.length,i)),1)[0]),null!=o&&null!=r){var a=e.getBoundingClientRect();n.top<a.top?e.scrollTop-=a.top-n.top:n.bottom>a.bottom&&(e.scrollTop+=n.bottom-a.bottom)}}}}},{key:"setNativeRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(g.info("setNativeRange",e,t,n,i),null==e||null!=this.root.parentNode&&null!=e.parentNode&&null!=n.parentNode){var r=document.getSelection();if(null!=r)if(null!=e){this.hasFocus()||this.root.focus();var a=(this.getNativeRange()||{}).native;if(null==a||o||e!==a.startContainer||t!==a.startOffset||n!==a.endContainer||i!==a.endOffset){"BR"==e.tagName&&(t=[].indexOf.call(e.parentNode.childNodes,e),e=e.parentNode),"BR"==n.tagName&&(i=[].indexOf.call(n.parentNode.childNodes,n),n=n.parentNode);var s=document.createRange();s.setStart(e,t),s.setEnd(n,i),r.removeAllRanges(),r.addRange(s)}}else r.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.a.sources.API;if("string"==typeof t&&(n=t,t=!1),g.info("setRange",e),null!=e){var i=this.rangeToNative(e);this.setNativeRange.apply(this,d(i).concat([t]))}else this.setNativeRange(null);this.update(n)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.a.sources.USER,t=this.lastRange,n=this.getRange(),i=f(n,2),o=i[0],r=i[1];if(this.lastRange=o,null!=this.lastRange&&(this.savedRange=this.lastRange),!l()(t,this.lastRange)){var s;!this.composing&&null!=r&&r.native.collapsed&&r.start.node!==this.cursor.textNode&&this.cursor.restore();var c,d=[u.a.events.SELECTION_CHANGE,a()(this.lastRange),a()(t),e];(s=this.emitter).emit.apply(s,[u.a.events.EDITOR_CHANGE].concat(d)),e!==u.a.sources.SILENT&&(c=this.emitter).emit.apply(c,d)}}}])&&m(t.prototype,n),i&&m(t,i),e}();function E(e,t){try{t.parentNode}catch(e){return!1}return t instanceof Text&&(t=t.parentNode),e.contains(t)}},UOZ7:function(e,t,n){"use strict";var i=n("PMOQ"),o=n.n(i),r=n("N8r5");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=Object(r.a)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((function(e){document.addEventListener(e,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];[].slice.call(document.querySelectorAll(".ql-container")).forEach((function(e){var n;e.__quill&&e.__quill.emitter&&(n=e.__quill.emitter).handleDOM.apply(n,t)}))}))}));var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(r,e);var t,n,i,o=c(r);function r(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(e=o.call(this)).listeners={},e.on("error",p.error),e}return t=r,(n=[{key:"emit",value:function(){p.log.apply(p,arguments),l(f(r.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];(this.listeners[e.type]||[]).forEach((function(t){var i=t.node,o=t.handler;(e.target===i||i.contains(e.target))&&o.apply(void 0,[e].concat(n))}))}},{key:"listenDOM",value:function(e,t,n){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({node:t,handler:n})}}])&&s(t.prototype,n),i&&s(t,i),r}(o.a);h.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},h.sources={API:"api",SILENT:"silent",USER:"user"},t.a=h},Uf5f:function(e,t,n){"use strict";var i=n("wG2N");e.exports=function(e,t,n,o,r){var a=new Error(e);return i(a,t,n,o,r)}},UrUg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("B43Y");t.default=e=>{let t;const n=e.filter(e=>!(!t&&e.props.isHideable)||(e.props.pluginButtons.some(n=>!!(i.EDIT_BUTTONS.some(t=>e.id===t.id&&n.id===t.id)&&n.isActive&&n.isActive(e.props.editorFormat))&&(t=e,!0)),!1));return t&&n.push(t),n}},V2Np:function(e,t,n){"use strict";var i=n("yYc7");e.exports=function(e,t,n){return i.forEach(n,(function(n){e=n(e,t)})),e}},V6LY:function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n("uKq7"),r=n("06eB"),a=n("YNvz"),s=n("QvOe"),l=String.fromCharCode(0),u=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};u.prototype.insert=function(e,t){var n={};return 0===e.length?this:(n.insert=e,null!=t&&"object"===i(t)&&Object.keys(t).length>0&&(n.attributes=t),this.push(n))},u.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},u.prototype.retain=function(e,t){if(e<=0)return this;var n={retain:e};return null!=t&&"object"===i(t)&&Object.keys(t).length>0&&(n.attributes=t),this.push(n)},u.prototype.push=function(e){var t=this.ops.length,n=this.ops[t-1];if(e=a(!0,{},e),"object"===i(n)){if("number"==typeof e.delete&&"number"==typeof n.delete)return this.ops[t-1]={delete:n.delete+e.delete},this;if("number"==typeof n.delete&&null!=e.insert&&(t-=1,"object"!==i(n=this.ops[t-1])))return this.ops.unshift(e),this;if(r(e.attributes,n.attributes)){if("string"==typeof e.insert&&"string"==typeof n.insert)return this.ops[t-1]={insert:n.insert+e.insert},"object"===i(e.attributes)&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof n.retain)return this.ops[t-1]={retain:n.retain+e.retain},"object"===i(e.attributes)&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},u.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},u.prototype.filter=function(e){return this.ops.filter(e)},u.prototype.forEach=function(e){this.ops.forEach(e)},u.prototype.map=function(e){return this.ops.map(e)},u.prototype.partition=function(e){var t=[],n=[];return this.forEach((function(i){(e(i)?t:n).push(i)})),[t,n]},u.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},u.prototype.changeLength=function(){return this.reduce((function(e,t){return t.insert?e+s.length(t):t.delete?e-t.delete:e}),0)},u.prototype.length=function(){return this.reduce((function(e,t){return e+s.length(t)}),0)},u.prototype.slice=function(e,t){e=e||0,"number"!=typeof t&&(t=1/0);for(var n=[],i=s.iterator(this.ops),o=0;o<t&&i.hasNext();){var r;o<e?r=i.next(e-o):(r=i.next(t-o),n.push(r)),o+=s.length(r)}return new u(n)},u.prototype.compose=function(e){var t=s.iterator(this.ops),n=s.iterator(e.ops),i=[],o=n.peek();if(null!=o&&"number"==typeof o.retain&&null==o.attributes){for(var a=o.retain;"insert"===t.peekType()&&t.peekLength()<=a;)a-=t.peekLength(),i.push(t.next());o.retain-a>0&&n.next(o.retain-a)}for(var l=new u(i);t.hasNext()||n.hasNext();)if("insert"===n.peekType())l.push(n.next());else if("delete"===t.peekType())l.push(t.next());else{var c=Math.min(t.peekLength(),n.peekLength()),d=t.next(c),f=n.next(c);if("number"==typeof f.retain){var p={};"number"==typeof d.retain?p.retain=c:p.insert=d.insert;var h=s.attributes.compose(d.attributes,f.attributes,"number"==typeof d.retain);if(h&&(p.attributes=h),l.push(p),!n.hasNext()&&r(l.ops[l.ops.length-1],p)){var m=new u(t.rest());return l.concat(m).chop()}}else"number"==typeof f.delete&&"number"==typeof d.retain&&l.push(f)}return l.chop()},u.prototype.concat=function(e){var t=new u(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},u.prototype.diff=function(e,t){if(this.ops===e.ops)return new u;var n=[this,e].map((function(t){return t.map((function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:l;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")})).join("")})),i=new u,a=o(n[0],n[1],t),c=s.iterator(this.ops),d=s.iterator(e.ops);return a.forEach((function(e){for(var t=e[1].length;t>0;){var n=0;switch(e[0]){case o.INSERT:n=Math.min(d.peekLength(),t),i.push(d.next(n));break;case o.DELETE:n=Math.min(t,c.peekLength()),c.next(n),i.delete(n);break;case o.EQUAL:n=Math.min(c.peekLength(),d.peekLength(),t);var a=c.next(n),l=d.next(n);r(a.insert,l.insert)?i.retain(n,s.attributes.diff(a.attributes,l.attributes)):i.push(l).delete(n)}t-=n}})),i.chop()},u.prototype.eachLine=function(e,t){t=t||"\n";for(var n=s.iterator(this.ops),i=new u,o=0;n.hasNext();){if("insert"!==n.peekType())return;var r=n.peek(),a=s.length(r)-n.peekLength(),l="string"==typeof r.insert?r.insert.indexOf(t,a)-a:-1;if(l<0)i.push(n.next());else if(l>0)i.push(n.next(l));else{if(!1===e(i,n.next(1).attributes||{},o))return;o+=1,i=new u}}i.length()>0&&e(i,{},o)},u.prototype.transform=function(e,t){if(t=!!t,"number"==typeof e)return this.transformPosition(e,t);for(var n=s.iterator(this.ops),i=s.iterator(e.ops),o=new u;n.hasNext()||i.hasNext();)if("insert"!==n.peekType()||!t&&"insert"===i.peekType())if("insert"===i.peekType())o.push(i.next());else{var r=Math.min(n.peekLength(),i.peekLength()),a=n.next(r),l=i.next(r);if(a.delete)continue;l.delete?o.push(l):o.retain(r,s.attributes.transform(a.attributes,l.attributes,t))}else o.retain(s.length(n.next()));return o.chop()},u.prototype.transformPosition=function(e,t){t=!!t;for(var n=s.iterator(this.ops),i=0;n.hasNext()&&i<=e;){var o=n.peekLength(),r=n.peekType();n.next(),"delete"!==r?("insert"===r&&(i<e||!t)&&(e+=o),i+=o):e-=Math.min(o,e-i)}return e},e.exports=u},V7ul:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("ERkP")),r=i.__importDefault(n("aWzz")),a=i.__importDefault(n("riqF")),s=i.__importDefault(n("4Xt8")),l=i.__importStar(n("ChZS")),u=i.__importDefault(n("XAd7")),c=n("B43Y"),d=i.__importDefault(n("FTog")),f=i.__importDefault(n("Xgsd")),p=i.__importDefault(n("6VEp")),h=i.__importDefault(n("4p8m")),m=i.__importDefault(n("f7Oh")),b=i.__importDefault(n("2SZA")),g=e=>o.default.createElement(a.default,Object.assign({},e),o.default.createElement(s.default,Object.assign({},l.FormatStyleMenu,{iconOnly:!0}),o.default.createElement(s.default,Object.assign({},l.Bold)),o.default.createElement(s.default,Object.assign({},l.Italic)),o.default.createElement(s.default,Object.assign({},l.Underline))),o.default.createElement(p.default,{pluginButtons:e.pluginButtons,iconOnly:!0}),e.pluginButtons.length>0&&o.default.createElement(s.default,Object.assign({},l.InsertContentMenu,{iconOnly:!0,separator:!0}),o.default.createElement(f.default,{pluginButtons:e.pluginButtons}),o.default.createElement(d.default,{pluginButtons:e.pluginButtons}),o.default.createElement(b.default,{pluginButtons:e.pluginButtons}),u.default(e,c.TOOLBAR_SETS.minimal,c.TOOLBAR_BREAKPOINTS.small)),o.default.createElement(h.default,{id:c.EDITABLE_ATTACHMENT_CONFIG.id,pluginButtons:e.pluginButtons,iconOnly:!0,isHideable:!0}),o.default.createElement(m.default,{id:c.EDITABLE_TPC_CONFIG.id,pluginButtons:e.pluginButtons,iconOnly:!0,isHideable:!0}));g.propTypes={pluginButtons:r.default.arrayOf(r.default.shape({id:r.default.string.isRequired,cssClass:r.default.string.isRequired,iconName:r.default.string.isRequired,isActive:r.default.func.isRequired,onClick:r.default.func.isRequired})).isRequired},t.default=g},ViOD:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return Array.from(e.body.querySelectorAll("table")).forEach(n=>{var i,o;const r=null===(i=n.previousSibling)||void 0===i?void 0:i.previousSibling,a=null===(o=n.nextSibling)||void 0===o?void 0:o.nextSibling;"BR"===(null==r?void 0:r.nodeName)&&n.parentElement.removeChild(r),"BR"===(null==a?void 0:a.nodeName)&&n.parentElement.removeChild(a);const s=e.createElement("p");s.innerHTML=t,n.parentElement.replaceChild(s,n)}),e}},"W/d8":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,i){if(n)return{insert:!0,format:{inlineImage:{bbtype:n?"inlineImage":"image",src:e,alt:t}}};const o=[{insert:!0,format:{image:{bbtype:"image",bbfile:JSON.stringify({alt:t}),href:e}}}];return o.unshift({insert:"\n"}),i||o.push({insert:"\n"}),o}},WBY7:function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},"WZs/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("CbbY");t.default=i.AlignStyle;t.ALIGN_LEFT="left";t.ALIGN_CENTER="center";t.ALIGN_RIGHT="right";t.ALIGN_JUSTIFY="justify",i.AlignStyle.whitelist=["left","center","right","justify"],i.AlignStyle.createChange=(e="left")=>({format:{align:e}})},WrSi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("ERkP")),r=i.__importDefault(n("aWzz")),a=n("13AT"),s=n("B43Y"),l=e=>{const t=JSON.parse(e.bbFile),n={href:t.linkType===s.LTI_LINKTYPE.externalLink?t.url:"#",className:`lti-placement__root ${e.hasHoverState?"has-hover":""}`,onClick:t=>{e.launchLtiLink&&e.launchLtiLink(e.bbFile,t)},"data-bbtype":e.bbType,"data-bbfile":e.bbFile};return o.default.createElement("a",Object.assign({},n,{target:"_blank",tabIndex:e.tabIndex}),o.default.createElement("div",{className:"lti-placement__root-wrapper"},o.default.createElement("div",{className:"lti-placement__container"},e.iconUrl.length>0?o.default.createElement("img",{src:e.iconUrl,className:"lti-placement__icon",alt:e.displayName}):o.default.createElement(a.Lti,{color:"primary"}),o.default.createElement("span",{className:"lti-placement__title"},e.displayName))))};l.propTypes={displayName:r.default.string.isRequired,iconUrl:r.default.string.isRequired,bbType:r.default.string.isRequired,bbFile:r.default.string.isRequired,hasHoverState:r.default.bool.isRequired,tabIndex:r.default.string.isRequired,launchLtiLink:r.default.func},l.defaultProps={launchLtiLink:null},t.default=l},XAd7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("ERkP")),r=i.__importDefault(n("4Xt8")),a=n("B43Y"),s={[a.TOOLBAR_SETS.default]:{[a.TOOLBAR_BREAKPOINTS.small]:["link","editAttachment","editYoutubeVideo"],[a.TOOLBAR_BREAKPOINTS.medium]:["link","insertLocalFile","editAttachment","editYoutubeVideo"],[a.TOOLBAR_BREAKPOINTS.large]:["link","insertLocalFile","editAttachment","editYoutubeVideo"]},[a.TOOLBAR_SETS.minimal]:{[a.TOOLBAR_BREAKPOINTS.small]:["math","link","image","editAttachment","editYoutubeVideo"],[a.TOOLBAR_BREAKPOINTS.medium]:["math","link","image","editAttachment","editYoutubeVideo"],[a.TOOLBAR_BREAKPOINTS.large]:["math","link","image","editAttachment","editYoutubeVideo"]}};t.hasPlugins=(e,t,n)=>e.filter(e=>!s[t][n].some(t=>e.id===t)).length>0,t.default=(e,t,n)=>e.pluginButtons.filter(e=>!s[t][n].some(t=>e.id===t)&&!e.isHidden).map(e=>o.default.createElement(r.default,Object.assign({},e)))},XQPC:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("ERkP")),r=n("8unJ"),a=i.__importDefault(n("aWzz")),s=n("G0uU"),l=n("myse"),u=n("3/0u"),c=i.__importDefault(n("zkKN")),d=i.__importDefault(n("hENV")),f=i.__importDefault(n("BfoI"));class p extends o.default.Component{constructor(e){super(e),this.state={isOpen:!1,sources:[],selectedSource:null},this.handleSources=this.handleSources.bind(this),this.onCancel=this.onCancel.bind(this),this.onSourceSelect=this.onSourceSelect.bind(this),this.onAnimationComplete=this.onAnimationComplete.bind(this)}UNSAFE_componentWillMount(){const{courseId:e,xsrfToken:t,apiBasePath:n}=this.props;c.default({courseId:e,xsrfToken:t,apiBasePath:n},()=>d.default(this.props.buttonNode)).then(e=>{this.handleSources(e.data.results)}).catch(()=>{this.setState({isOpen:!0})})}handleSources(e){e&&1===e.length?(this.props.selectSource(e[0].srcURL),this.props.destroy()):this.setState({isOpen:!0,sources:e})}onCancel(){this.setState({isOpen:!1})}onSourceSelect(e,t){e.preventDefault(),e.stopPropagation(),this.setState({isOpen:!1,selectedSource:t})}onAnimationComplete(){this.state.selectedSource&&this.props.selectSource(this.state.selectedSource.srcURL),this.props.destroy()}render(){const{analyticsEventAugmentor:e,localize:t}=this.props,n=t.translate("bbmlEditor.buttons.cancel");return o.default.createElement(u.Dialog,{hidden:!this.state.isOpen,dialogContentProps:{title:t.translate("bbmlEditor.dialogs.insertYoutubeVideo.titleContentSource"),showCloseButton:!1,type:u.DialogType.fullHeaderFooterLarge},modalProps:{onDismiss:this.onCancel,onDismissed:this.onAnimationComplete,containerClassName:"modal-insert-youtube-video"},firstFocusableSelector:"ms-Dialog-title",analyticsId:"editor.dialogs.insertYoutubeVideo.titleContentSource"},o.default.createElement("div",{className:"content-sources"},this.state.sources.map(t=>o.default.createElement("button",{"aria-label":t.label,id:t.id,key:t.id,className:"source-container",onClick:e(l.AnalyticsEventTypes.CLICK_EVENT,e=>this.onSourceSelect(e,t),"editor.modal.insert.youtube.video.contentSources.button"),"data-analytics-id":"editor.modal.insert.youtube.video.contentSources.button"},o.default.createElement("div",{className:"source-icon"},o.default.createElement("img",{src:t.iconURL,alt:t.label})),o.default.createElement("div",{className:"source-title"},t.label)))),this.state.sources.length<1&&o.default.createElement("div",{className:"no-results"},t.translate("bbmlEditor.dialogs.insertYoutubeVideo.noResults")),o.default.createElement("br",null),o.default.createElement(u.DialogFooter,null,o.default.createElement(s.DefaultButton,{onClick:this.onCancel,analyticsId:"editor.dialogs.insertYoutubeVideo.titleContentSource.cancel"},n)))}}t.BaseModalInsertYoutubeVideo=p,p.propTypes={apiBasePath:a.default.string.isRequired,courseId:a.default.string,selectSource:a.default.func.isRequired,destroy:a.default.func.isRequired,xsrfToken:a.default.string.isRequired,buttonNode:a.default.shape(),...f.default},p.defaultProps={courseId:null,buttonNode:null};const h=r.localizedComponentWrapper(l.withAnalytics(p));t.default=h},Xgsd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("aWzz")),r=i.__importDefault(n("ERkP")),a=i.__importDefault(n("4Xt8"));function s(e){const t=e.pluginButtons.find(e=>"link"===e.id);return t?r.default.createElement(a.default,Object.assign({},t,e)):null}t.default=s,s.propTypes={pluginButtons:o.default.arrayOf(o.default.shape({id:o.default.string.isRequired,cssClass:o.default.string.isRequired,iconName:o.default.string.isRequired,isActive:o.default.func.isRequired,onClick:o.default.func.isRequired})).isRequired}},YBad:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("MJsW")),r=i.__importDefault(n("nuzP"));class a extends o.default{undo(){if(!this.stack)return;this.stack.undo=this.stack.undo.filter(e=>!e.redo.ops.find(e=>{var t;return null===(t=e.attributes)||void 0===t?void 0:t.td})&&!e.undo.ops.find(e=>{var t;return null===(t=e.attributes)||void 0===t?void 0:t.td}));const e=this.undoAroundTables(this.stack.undo);e.length>0&&(e[e.length-1].undo.ops=e[e.length-1].undo.ops.filter(e=>0!==e.retain),this.stack.undo=e),super.undo()}redo(){}getTableIndexes(){const e=[...document.getElementsByClassName("ql-editor")].find(e=>"true"===e.contentEditable).getElementsByTagName("table");let t=[];for(let n=0;n<e.length;n++){const i=e[n],o=this.quill.getIndex(r.default.find(i))-1,a=this.quill.getIndex(r.default.find(i.nextSibling));t=[...t,{index:o,endIndex:a}]}return t}getLastSetOfOps(e){let t=[];for(let n=e.length-1;n>=0;n--){const i=e.pop();if(t=[i,...t],i.retain)break;0!==n||i.retain||(t=[{retain:0},...t])}return t}getOpsLength(e){let t=0;return e.forEach(e=>{var n,i,o,r;t+=null!==(n=e.retain)&&void 0!==n?n:0,t+=null!==(o=null===(i=e.insert)||void 0===i?void 0:i.length)&&void 0!==o?o:0,t+=null!==(r=e.delete)&&void 0!==r?r:0}),t}addOffsetToTableIndexes(e,t){e.forEach(e=>{e.index+=t,e.endIndex+=t})}undoAroundTables(e){var t;const n=null===(t=e[e.length-1])||void 0===t?void 0:t.undo.ops,i=this.getTableIndexes();if(0===i.length||!n)return e;for(;i.length>0;){const e=i.shift(),t=this.getLastSetOfOps(n);let o=this.getOpsLength(n);for(;t.length>0;){const r=t.shift();if(void 0!==r.retain)o+r.retain>=e.index&&r.retain<e.endIndex?(r.retain=r.retain+e.endIndex-e.index+1,n.push(r,...t),t.length=0):r.retain<e.index?(o+=r.retain,0!==r.retain&&n.push(r)):(n.push(r,...t),t.length=0);else if(r.delete)if(r.delete+o>e.index){const i=r.delete+o-e.index;r.delete=r.delete-i,n.push(r,{retain:e.endIndex-e.index+1},{delete:i},...t),t.length=0}else o+=r.delete,n.push(r);else r.insert&&(o+=r.insert.length,this.addOffsetToTableIndexes(i,r.insert.length),n.push(r))}}return e}}t.default=a},YNvz:function(e,t,n){"use strict";var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,r=Object.defineProperty,a=Object.getOwnPropertyDescriptor,s=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===o.call(e)},l=function(e){if(!e||"[object Object]"!==o.call(e))return!1;var t,n=i.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&i.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;for(t in e);return void 0===t||i.call(e,t)},u=function(e,t){r&&"__proto__"===t.name?r(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},c=function(e,t){if("__proto__"===t){if(!i.call(e,t))return;if(a)return a(e,t).value}return e[t]};e.exports=function e(){var t,n,i,o,r,a,d=arguments[0],f=1,p=arguments.length,h=!1;for("boolean"==typeof d&&(h=d,d=arguments[1]||{},f=2),(null==d||"object"!=typeof d&&"function"!=typeof d)&&(d={});f<p;++f)if(null!=(t=arguments[f]))for(n in t)i=c(d,n),d!==(o=c(t,n))&&(h&&o&&(l(o)||(r=s(o)))?(r?(r=!1,a=i&&s(i)?i:[]):a=i&&l(i)?i:{},u(d,{name:n,newValue:e(h,a,o)})):void 0!==o&&u(d,{name:n,newValue:o}));return d}},YXsS:function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},YYJ2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=n("tN4z"),r=i.__importDefault(n("ERkP")),a=n("8unJ"),s=i.__importDefault(n("7nmT")),l=i.__importDefault(n("SOWH"));t.renderReactPluginFactory=e=>{const t=e.component;return(n,i,u,c)=>{e.processValues&&(u=e.processValues(u));const d=l.default(n,i,u);d.contentEditable=!1;const f=e=>{const n=e.localize.getLocalePropsForClone();s.default.render(r.default.createElement(o.AnalyticsJssThemeProvider,{cssReset:"none",isRtl:n.isRtl},r.default.createElement(a.Locale,Object.assign({},n),r.default.createElement(t,{attributes:i,values:u,editorProps:e}))),d)};return f(c),(d.childNodes[0]||d.appendChild(document.createElement("div"))).classList.add("no-longtext"),d.formatComponent=e=>f(e),d.unmountComponent=()=>s.default.unmountComponentAtNode(d),d.classList.add("wants-props-update",...e.additionalRootClasses||[]),d}}},"YZE+":function(e,t,n){"use strict";var i=Object,o=TypeError;e.exports=function(){if(null!=this&&this!==i(this))throw new o("RegExp.prototype.flags getter called on non-object");var e="";return this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e}},"Ym/N":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("ERkP")),r=i.__importDefault(n("7nmT")),a=n("Begd"),s=i.__importDefault(n("K87l")),l=i.__importDefault(n("7sIO")),u=i.__importDefault(n("RG4c")),c=i.__importDefault(n("n580")),d=i.__importDefault(n("SOWH")),f=i.__importDefault(n("hOhB")),p=n("B43Y"),h=n("Cb59"),m=i.__importDefault(n("yf/r")),b=n("KCbv");n("3k60");const g="editYoutubeVideo",y="embedded-app",v=[`a[data-bbtype="${y}"]`],E="geolocation *; microphone *; camera *; midi *; encrypted-media *; fullscreen *",_=e=>({editorFormat:t,showModal:n,buttonNode:i,...o})=>new Promise((n,o)=>{const r=t.bbfile?JSON.parse(t.bbfile):{},{embeddedAppConfig:a}=r,{id:s}=a;l.default(s,e,i).then(e=>{e?n(e.srcURL):o()})}).then(i=>{const r=JSON.parse(t.bbfile);n(c.default,{goBack:()=>{},srcURL:i,editingData:r,...e,...o})}).catch(()=>{n(u.default,{destroy:o.destroy,messageType:"mashupNotAvailable"})});function O(e){return{id:g,cssClass:g,iconName:"app",iconComponent:b.App,isDialog:!0,isActive:e=>{const t=e.bbfile?JSON.parse(e.bbfile):{};return!!e[p.EDITABLE_TPC_CONFIG.type]&&t&&t.embeddedAppConfig&&t.embeddedAppConfig.isEditable},onClick:_(e)}}function C(e){if(e.data.messageType!==m.default.incoming.pageLoaded)return;const t=Array.from(this.querySelectorAll(".embedded-app-container")).find(t=>t.contentWindow===e.source);t&&t.onEmeddedAppLoaded&&t.onEmeddedAppLoaded(e)}function S(e){window.addEventListener("message",C.bind(e))}function T(){window.removeEventListener("message",C)}const N=e=>({type:"embed",blotName:y,tagName:"div",attributes:{"data-bbtype":g,"data-bbfile":null},renderDomNode(t,n,i,u){const c=JSON.parse(i.bbfile),{embeddedAppConfig:f,linkRefId:p}=c,{id:m}=f||{id:`content_market${p}_${Math.floor(1e3*Math.random())}`},b=d.default(t,n,i),g=document.createElement("div"),y=document.createElement("div"),v=document.createElement("div"),_={allow:E,className:"embedded-app-container hidden no-select",frameBorder:0,id:m,tabIndex:!u.isReadOnly||u.isDisabled?"-1":"0",width:"100%"};g.classList.add("bb-embedded-app"),c.width&&c.height&&(g.style.width=`${c.width}px`,g.style.height=`${c.height}px`),b.contentEditable=!1,b.classList.add("wants-props-update"),b.style.paddingBottom=".1rem",b.style.overflow="hidden",b.style.display="flex",b.style.backgroundColor="#f8f8f8",b.style.justifyContent="center",v.classList.add("embedded-app-overlay"),y.classList.add("loading-container"),b.appendChild(g),r.default.render(o.default.createElement(a.Spinner,{size:a.SpinnerSize.large}),y);const O=u.localize.getLocalePropsForClone(),C={title:c.title||u.localize.translate("bbmlEditor.components.editor.lightboxDefaultTitle"),fullScreenButtonText:u.localize.translate("bbmlEditor.components.editor.fullScreenButtonText")},S=new s.default(g,O,_,{localizedStrings:C,firstFocusableContentSelector:`.${_.id}`});return(g.childNodes[0]||g.appendChild(document.createElement("div"))).classList.add("no-longtext"),g.appendChild(y),g.appendChild(v),b.formatComponent=e=>{S.update(O,{tabIndex:!e.isReadOnly||e.isDisabled?"-1":"0"},{})},f?l.default(m,e,t).then(t=>{const n=t.srcURL;S.update(O,{onEmeddedAppLoaded:t=>{y.classList.replace("loading-container","hidden"),S.update(O,{className:"embedded-app-container no-select",src:n},{});const i=new URL(n,window.origin);if(t.origin===i.origin){const n={apiBasePath:e.apiBasePath,xsrfToken:e.xsrfToken,locale:O.locale},i=h.makeInitContentViewMessage(n,c);t.source.postMessage(i,t.origin)}}},{})}):e.getEmbedSrc(c).then(e=>{y.classList.remove("loading-container"),y.classList.add("hidden"),S.update(O,{src:e,allow:"autoplay *; fullscreen *; encrypted-media *",className:"embedded-app-container no-select"},{})}),b}});function w(e,t){const n=JSON.parse(t.bbfile);return`<a href="${n.src}" data-bbtype="${y}" data-bbfile="${f.default(t.bbfile)}">${n.alt}</a>`}t.default=e=>({pluginId:g,buttonConfig:O(e),formatter:N(e),matchers:v,toBbML:w,onLoad:S,onUnload:T,IFRAME_ALLOW:E})},YsDt:function(e,t,n){"use strict";var i=n("P0jV"),o=n("Q2eF"),r=n("O3AJ"),a=n("BtTt"),s=n("N/5i");function l(e){this.defaults=e,this.interceptors={request:new r,response:new r}}l.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},l.prototype.getUri=function(e){return e=s(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(i.merge(n||{},{method:e,url:t}))}})),i.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,o){return this.request(i.merge(o||{},{method:e,url:t,data:n}))}})),e.exports=l},ZRs3:function(e,t,n){"use strict";(function(t){var i=n("yYc7"),o=n("eK3w"),r={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s,l={adapter:("undefined"!=typeof XMLHttpRequest?s=n("FVUT"):void 0!==t&&(s=n("FVUT")),s),transformRequest:[function(e,t){return o(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};l.headers={common:{Accept:"application/json, text/plain, */*"}},i.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){l.headers[e]=i.merge(r)})),e.exports=l}).call(this,n("F63i"))},Zru4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K").__importDefault(n("oB8T")),o=new i.default.Attributor.Style("custom-indent","padding-left",{scope:i.default.Scope.BLOCK});t.customIndentAttributor=o;const r=new i.default.Attributor.Style("custom-indent-rtl","padding-right",{scope:i.default.Scope.BLOCK});t.customIndentAttributorRTL=r},Zs9o:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("ERkP")),r=i.__importDefault(n("aWzz")),a=n("G0uU"),s=n("gh1U"),l=n("3/0u"),u=i.__importDefault(n("2x8N")),c=i.__importDefault(n("yf/r")),d=n("bVcq");class f extends o.default.Component{constructor(){super(),this.postBackMashupInitConfig=e=>{const t={messageType:c.default.outgoing.initContent,config:{}};e.source.postMessage(t,window.origin)},this.state={isOpen:!1},this.onCancel=this.onCancel.bind(this),this.onInsert=this.onInsert.bind(this),this.onAnimationComplete=this.onAnimationComplete.bind(this),this.receiveMessage=this.receiveMessage.bind(this)}UNSAFE_componentWillMount(){window.addEventListener("message",this.receiveMessage,!1),setTimeout(()=>this.setState({isOpen:!0}))}componentWillUnmount(){window.removeEventListener("message",this.receiveMessage)}receiveMessage(e){if(window.origin===e.origin)switch(e.data.messageType){case c.default.incoming.pageLoaded:this.postBackMashupInitConfig(e);break;case c.default.incoming.canceled:this.onCancel();break;case c.default.incoming.contentReady:this.onInsert(e.data)}}onCancel(){this.setState({isOpen:!1})}onInsert(e){this.setState({isOpen:!1,content:e})}onAnimationComplete(){this.state.content&&this.props.applyChange(u.default(this.state.content)),this.props.destroy()}render(){return o.default.createElement(s.Modal,{containerClassName:"modal-youtube-video-provider",isOpen:this.state.isOpen,onDismiss:this.onCancel,onDismissed:this.onAnimationComplete},o.default.createElement("div",{className:"iframe-container",ref:e=>{this.iframeContainerEl=e}},o.default.createElement("iframe",{id:"demo-iframe",title:"Demo Mashup",src:d.makeDemoMashupDomString(),frameBorder:0})),o.default.createElement(l.DialogFooter,null,o.default.createElement(a.DefaultButton,{onClick:this.onCancel,analyticsId:"editor.modal.demo.mashup.close"},"Close")))}}t.default=f,f.propTypes={applyChange:r.default.func.isRequired,destroy:r.default.func.isRequired}},ZyyF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K").__importDefault(n("5XwT")),o=n("dpr/");t.NO_SELECTION_INDEX=-1;t.default=class{constructor(e,n,i,o,r){this.currentMenuIndex=t.NO_SELECTION_INDEX,this.currentSubmenuIndex=t.NO_SELECTION_INDEX,this.isSubmenuToolbar=!1,this.isSubToolbarOpen=!1,this.hasAdditionalToolbar=!1,this.isAdditionalToolbarVisible=!1,this.hasDisabledButtons=!1,this.toolbarButtons=e,this.additionalToolbarButtons=[],this.addKeyDownHandler=n,this.onClose=i,this.onChange=o,this.onResetSubmenu=r,this.events=[],this.resetAllMenus=this.resetAllMenus.bind(this),this.selectFirstButton=this.selectFirstButton.bind(this),this.updateToolbarButtons=this.updateToolbarButtons.bind(this),this.getMenuButtonCount=this.getMenuButtonCount.bind(this),this.getSubmenuButtonCount=this.getSubmenuButtonCount.bind(this),this.getIndexes=this.getIndexes.bind(this),this.setIndexes=this.setIndexes.bind(this),this.registerEventListeners=this.registerEventListeners.bind(this),this.destroy=this.destroy.bind(this),this.moveLeft=this.moveLeft.bind(this),this.moveRight=this.moveRight.bind(this),this.moveUp=this.moveUp.bind(this),this.moveDown=this.moveDown.bind(this),this.openSubmenu=this.openSubmenu.bind(this),this.forceOpenSubmenu=this.forceOpenSubmenu.bind(this),this.setSubmenuToolbar=this.setSubmenuToolbar.bind(this),this.setSubToolbarOpen=this.setSubToolbarOpen.bind(this),this.closeAllMenus=this.closeAllMenus.bind(this),this.registerEventListeners()}updateToolbarButtons(e,t){t?this.additionalToolbarButtons=e:(this.toolbarButtons=e,this.hasDisabledButtons=this.toolbarButtons.some(e=>{var t;return null===(t=null==e?void 0:e.props)||void 0===t?void 0:t.isButtonDisabled}))}setOnAdditionalChange(e){this.onAdditionalChange=e}getMenuButtonCount(){return this.toolbarButtons?this.additionalToolbarButtons&&this.isAdditionalToolbarVisible?this.toolbarButtons.length+this.additionalToolbarButtons.length:this.toolbarButtons.length:0}getSubmenuButtonCount(e){var t,n;const i=this.toolbarButtons.length,o=i+this.additionalToolbarButtons.length;if(e>-1){if(e<i&&(null===(t=this.toolbarButtons[e])||void 0===t?void 0:t.props.children))return this.toolbarButtons[e].props.children.length;if(e>=i&&e<o&&(null===(n=this.additionalToolbarButtons[e])||void 0===n?void 0:n.props.children))return this.additionalToolbarButtons[e].props.children.length}return 0}getIndexes(){return{currentMenuIndex:this.currentMenuIndex,currentSubmenuIndex:this.currentSubmenuIndex}}setIndexes(e,t){this.currentMenuIndex=e,this.currentSubmenuIndex=t,this.onChange&&this.onChange(this.getIndexes()),this.onAdditionalChange&&this.onAdditionalChange(this.getIndexes())}resetAllMenus(...e){this.setIndexes(t.NO_SELECTION_INDEX,t.NO_SELECTION_INDEX),this.onClose&&this.onClose(...e)}selectFirstButton(){var e;this.isAdditionalToolbarVisible&&this.isSubToolbarOpen&&this.onResetSubmenu();let n=0;this.hasDisabledButtons&&(null===(e=this.toolbarButtons[0])||void 0===e?void 0:e.props.isButtonDisabled)&&(n=this.getNextAvailableItem(0,this.getMenuButtonCount())),this.setIndexes(n,t.NO_SELECTION_INDEX)}registerEventListeners(){const{addKeyDownHandler:e}=this,{TOOLBAR:n}=o.KeyDownEventScope,{SHIFT:r}=o.KeyDownModifier,a=(e,n="any")=>{return i=>{i.preventDefault(),i.stopPropagation();const{currentMenuIndex:o,currentSubmenuIndex:r}=this,a=this.getSubmenuButtonCount(o);return("any"===n||"main"===n&&r===t.NO_SELECTION_INDEX||"main-no-children"===n&&r===t.NO_SELECTION_INDEX&&0===a||"sub"===n&&r!==t.NO_SELECTION_INDEX)&&e(i),!1}};this.events.push(e(i.default.LEFT,null,a(this.moveLeft,"main"),n)),this.events.push(e(i.default.LEFT,null,a(this.moveUp,"sub"),n)),this.events.push(e(i.default.TAB,r,a(this.moveLeft,"main"),n)),this.events.push(e(i.default.TAB,r,a(this.moveUp,"sub"),n)),this.events.push(e(i.default.RIGHT,null,a(this.moveRight,"main"),n)),this.events.push(e(i.default.RIGHT,null,a(this.moveDown,"sub"),n)),this.events.push(e(i.default.TAB,null,a(this.moveRight,"main"),n)),this.events.push(e(i.default.TAB,null,a(this.moveDown,"sub"),n)),this.events.push(e(i.default.UP,null,a(this.moveLeft,"main"),n)),this.events.push(e(i.default.UP,null,a(this.moveUp,"sub"),n)),this.events.push(e(i.default.DOWN,null,a(this.moveDown,"sub"),n)),this.events.push(e(i.default.DOWN,null,a(this.moveDown,"main"),n)),this.events.push(e(i.default.DOWN,null,a(this.moveRight,"main-no-children"),n)),this.events.push(e(i.default.ESC,null,a(this.closeAllMenus),n))}destroy(){this.events.forEach(e=>e())}getPreviousAvailableItem(e,t){var n,i;for(let t=e-1;t>=0;t--)if(!(null===(n=this.toolbarButtons[t])||void 0===n?void 0:n.props.isButtonDisabled))return t;for(let n=t-1;n>e;n--)if(!(null===(i=this.toolbarButtons[n])||void 0===i?void 0:i.props.isButtonDisabled))return n;return e}moveLeft(){let{currentMenuIndex:e}=this;const n=this.getMenuButtonCount();e=this.hasDisabledButtons?this.getPreviousAvailableItem(e,n):e-1<=-1?n-1:e-1,this.setIndexes(e,t.NO_SELECTION_INDEX)}getNextAvailableItem(e,t){var n,i;for(let i=e+1;i<t;i++)if(!(null===(n=this.toolbarButtons[i])||void 0===n?void 0:n.props.isButtonDisabled))return i;for(let t=0;t<e;t++)if(!(null===(i=this.toolbarButtons[t])||void 0===i?void 0:i.props.isButtonDisabled))return t;return e}moveRight(){let{currentMenuIndex:e}=this;const n=this.getMenuButtonCount();e=this.hasDisabledButtons?this.getNextAvailableItem(e,n):e+1===n?0:e+1,this.setIndexes(e,t.NO_SELECTION_INDEX)}moveUp(){const{currentMenuIndex:e}=this;let{currentSubmenuIndex:t}=this;const n=this.getSubmenuButtonCount(e);n&&(t=t-1<=-1?n-1:t-1),this.setIndexes(e,t)}moveDown(){const{currentMenuIndex:e}=this;let{currentSubmenuIndex:t}=this;const n=this.getSubmenuButtonCount(e);n&&(t=t+1===n?0:t+1),this.setIndexes(e,t)}openSubmenu(e){const{currentMenuIndex:n,currentSubmenuIndex:i}=this,o=this.getSubmenuButtonCount(e);o&&n!==e&&i!==t.NO_SELECTION_INDEX||o&&i===t.NO_SELECTION_INDEX?this.setIndexes(e,0):this.resetAllMenus()}forceOpenSubmenu(e,t){this.setIndexes(e,t)}setAdditionalToolbar(e){this.hasAdditionalToolbar=e}setAdditionalToolbarVisible(e){this.isAdditionalToolbarVisible=e}setSubmenuToolbar(e){this.isSubmenuToolbar=e}setSubToolbarOpen(e){this.isSubToolbarOpen=e}closeAllMenus(){const{currentMenuIndex:e,currentSubmenuIndex:n,isSubmenuToolbar:i,isSubToolbarOpen:o,isAdditionalToolbarVisible:r}=this;if(n===t.NO_SELECTION_INDEX){if(i)return!this.isSubToolbarOpen&&r?void this.resetAllMenus(!0):void(this.onResetSubmenu&&this.onResetSubmenu());if(!o)return void this.resetAllMenus(!0)}this.setIndexes(e,t.NO_SELECTION_INDEX)}}},aNcu:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K").__importDefault(n("EROk")),o=n("km4Y");class r extends i.default{static value(e){return o.getAttributes(e,this.blotAttributes)}static formats(e){return o.getAttributes(e,this.blotAttributes,!0)}format(e,t){return e===this.statics.blotName&&t?o.setAttributes(this.domNode,this.statics.blotAttributes,t):super.format(e,t)}}r.blotName="inline",r.tagName="span",t.default=r},aaDR:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importStar(n("ERkP")),r=i.__importStar(n("aWzz")),a=n("8unJ"),s=n("t9Ny"),l=n("0x+l"),u=n("t3aq"),c=n("76kz"),d=i.__importDefault(n("YF1/")),f=n("d8sb");class p extends o.Component{constructor(e){super(e),this.state={isAllyAvailable:!1,contentId:"",xythosId:"",isMediaVisible:!1}}componentDidMount(){const{ally:e,fileViewerProps:t,rootContentId:n}=this.props;if(e&&e.service){const i=e.service;i.isAvailable().then(e=>{e&&this.setState({isAllyAvailable:e,contentId:d.default(),xythosId:i.getXythosIdFromContentFileUrl(t.file.resourceUrl)},()=>{i.update(n,this.state.xythosId)})})}}render(){const{ally:e,fileViewerProps:t,localize:n}=this.props,{isAllyAvailable:i,contentId:r,xythosId:a}=this.state,{file:d}=t,f=c.isImageFile(c.getMediaType(d))&&c.canFileBeRenderedInline(d),p=f&&(c.isFileDisplayedInline(d)||this.state.isMediaVisible);let h=null,m={};i&&t.showContextMenu&&(h=o.createElement("div",{className:"ally-icons"},o.createElement("span",{className:"score-indicator"},o.createElement(u.AllyWidget,{contentRef:r,widgetType:u.WidgetType.ScoreIndicator})),o.createElement("span",{className:"alternative-formats"},o.createElement(u.AllyWidget,{contentRef:r,widgetType:u.WidgetType.AlternativeFormats,ariaLabel:n.translate("bbmlEditor.components.fileViewer.downloadAlternativeFormats")})))),i&&p&&(m={"data-ally-content-id":r,"data-ally-file-eid":a,"data-ally-file-preview-url":d.resourceUrl},e.indexMap&&a&&e.indexMap.has(a)&&(m["data-ally-richcontent-index"]=e.indexMap.get(a)));const b=[];i&&(b.push({key:"instructorfeedback",icon:o.createElement(l.AllyScore,null),name:n.translate("bbmlEditor.components.fileViewer.instructorFeedback"),additionalAttributes:{"data-ally-show":"instructorfeedback","data-ally-content-ref":r,"data-ally-invoke":"instructorfeedback"},style:{display:"none"}}),b.push({key:"alternativeformats",icon:o.createElement(l.AllyDownload,null),name:n.translate("bbmlEditor.components.fileViewer.downloadAlternativeFormats"),additionalAttributes:{"data-ally-show":"alternativeformats","data-ally-content-ref":r,"data-ally-invoke":"alternativeformats"},style:{display:"none"}}));const g={};return i&&f&&c.isFileDisplayedInline(d)&&(g.minHeight="6rem"),o.createElement(o.Fragment,null,!!i&&!p&&o.createElement(u.AllyContentId,{contentId:r,fileId:a,filePreviewUrl:d.resourceUrl}),o.createElement("div",{className:"bb-editor-file-viewer",style:g},o.createElement(s.FileViewer,Object.assign({},t,{widgets:h,inlineMediaAdditionalAttributes:m,alwaysShowDownloadLink:!0,additionalContextualMenuItems:b,onToggleMediaPreview:e=>this.setState({isMediaVisible:e})}))))}}p.propTypes={ally:f.allyPropShape,fileViewerProps:r.object,rootContentId:r.string},p.defaultProps={ally:f.defaultAllyProp,fileViewerProps:null,rootContentId:null},t.FileViewer=a.localizedComponentWrapper(p)},aiGC:function(e,t,n){"use strict";n.r(t),n.d(t,"SizeClass",(function(){return r})),n.d(t,"SizeStyle",(function(){return a}));var i=n("oB8T"),o=n.n(i),r=new o.a.Attributor.Class("size","ql-size",{scope:o.a.Scope.INLINE,whitelist:["small","large","huge"]}),a=new o.a.Attributor.Style("size","font-size",{scope:o.a.Scope.INLINE,whitelist:["10px","18px","32px"]})},av34:function(e,t,n){"use strict";var i=n("yYc7"),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,r,a={};return e?(i.forEach(e.split("\n"),(function(e){if(r=e.indexOf(":"),t=i.trim(e.substr(0,r)).toLowerCase(),n=i.trim(e.substr(r+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},b70u:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importStar(n("ERkP")),r=n("8unJ"),a=i.__importDefault(n("aWzz")),s=i.__importDefault(n("O94r")),l=n("ZyyF"),u=n("myse"),c=n("tN4z"),d=e=>{const{analyticsId:t,localize:n,id:i,label:r,value:a}=e,u=o.useRef(null);o.useEffect(()=>{e.hasKeyboardFocus&&e.currentSubmenuIndex===l.NO_SELECTION_INDEX&&e.currentMenuIndex===e.index&&u.current&&u.current.focus()});return o.default.createElement(c.AnalyticsFormControlLabel,{analyticsId:t,className:(()=>s.default({"bb-editor-toolbar-checkbox":!0,"is-focused":e.hasKeyboardFocus&&e.currentSubmenuIndex===l.NO_SELECTION_INDEX&&e.currentMenuIndex===e.index}))(),label:n.translate(`bbmlEditor.toolbar.${r}.label`),control:o.default.createElement(c.AnalyticsCheckbox,{analyticsId:t,id:i,className:"inner-checkbox",value:a,checked:a}),htmlFor:i,onChange:t=>{e.onChange(t,e)},ref:u})};d.propTypes={id:a.default.string.isRequired,label:a.default.string.isRequired,hasKeyboardFocus:a.default.bool,index:a.default.number,value:a.default.bool,currentMenuIndex:a.default.number.isRequired,currentSubmenuIndex:a.default.number.isRequired,onChange:a.default.func.isRequired},d.defaultProps={hasKeyboardFocus:!1,index:-1,currentSubmenuIndex:-1,value:!1},t.default=r.localizedComponentWrapper(u.withAnalytics(d))},bDbe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=e=>`<html>\n<head>\n    <title>Demo Mashup</title>\n    <script>\n\n    function getParentOrigin() {\n        const parentOrigin = '${e}';\n        return parentOrigin;\n\n        // Actual external demos should use the referrer\n        // However in a sourceDoc-generated mashup the referrer is empty\n        // const url = new URL(document.referrer);\n        // return url.origin;\n    }\n        window.addEventListener('message', receiveMessage);\n        window.onload = () => {\n            window.URL.revokeObjectURL(window.location.href);\n            window.parent.postMessage({ messageType: 'page_loaded' }, getParentOrigin());\n        }\n        window.onunload = () => {\n            window.removeEventListener('message', receiveMessage);\n        }\n        const MESSAGE_LINK = {\n            dataType: 'link',\n            dataContent: {\n                src: 'www.blackboard.com',\n                alt: 'Test Link',\n            },\n            messageType: 'content_ready',\n        };\n        const MESSAGE_IMAGE = {\n            dataType: 'image',\n            dataContent: {\n                src: '',\n                alt: 'Test Image',\n            },\n            messageType: 'content_ready',\n        };\n        const MESSAGE_VIDEO = {\n            dataType: 'video',\n            dataContent: {\n                src: 'https://www.w3schools.com/tags/movie.mp4',\n                alt: 'Test Video',\n            },\n            messageType: 'content_ready',\n        };\n        const MESSAGE_AUDIO = {\n            dataType: 'audio',\n            dataContent: {\n                src: 'https://www.w3schools.com/TAGS/horse.mp3',\n                alt: 'Test Audio',\n            },\n            messageType: 'content_ready',\n        };\n        const MESSAGE_IFRAME = {\n            dataType: 'embedded-app',\n            dataContent: {\n                src: '',\n                alt: 'Test IFrame',\n                embeddedAppConfig: {\n                    id: 'demoMashup',\n                    isEditable: undefined,\n                },\n            },\n            messageType: 'content_ready',\n        };\n\n        const ROBO_HASH_URL = "https://robohash.org/";\n\n        function receiveMessage(event) {\n            if (event.data.messageType != 'init_content' || event.origin !== getParentOrigin()) {\n                return;\n            }\n\n            const { dataToDisplay } = event.data;\n            const mode = dataToDisplay ? dataToDisplay.mode : 'create';\n            document.querySelector('#' + mode + '-container').classList.toggle('hide-container');\n            if (mode === 'view') {\n                let text = 'Robohash for ' +  dataToDisplay.content.dataContent.src.split('/')[3];\n                document.querySelector('#view-container h4').innerText = text;\n                document.querySelector('#view-container img').src = dataToDisplay.content.dataContent.src;\n            }\n            if (mode === 'edit') {\n                document.querySelector('#edit-container input').value = dataToDisplay.content.dataContent.src.split('/')[3];\n                document.querySelector('#edit-container button').onclick = () => {\n                    const message = getEmbeddedAppMessage(true);\n                    message.dataContent.src = ROBO_HASH_URL + document.querySelector('#edit-container input').value;\n                    window.parent.postMessage(message, getParentOrigin());\n                };\n            }\n        }\n\n        function getRandomString(length) {\n            var text = "";\n            var possible = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";\n\n            for (var i = 0; i < length; i++)\n                text += possible.charAt(Math.floor(Math.random() * possible.length));\n\n            return text;\n        }\n\n        function getRandomRoboHashURL() {\n            return ROBO_HASH_URL + getRandomString(6);\n        }\n\n        function getEmbeddedAppMessage(isEditable) {\n            let newMessage = MESSAGE_IFRAME;\n            newMessage.dataContent.src = getRandomRoboHashURL();\n            newMessage.dataContent.embeddedAppConfig.isEditable = isEditable;\n            return newMessage;\n        }\n\n        function getImageMessage() {\n            let newMessage = MESSAGE_IMAGE;\n            newMessage.dataContent.src = getRandomRoboHashURL() + ".png";\n            return newMessage;\n        }\n\n        function sendMessage(mashupType) {\n            switch (mashupType) {\n                case 'link':\n                    window.parent.postMessage(MESSAGE_LINK, getParentOrigin());\n                    break;\n                case 'image':\n                    window.parent.postMessage(getImageMessage(), getParentOrigin());\n                    break;\n                case 'video':\n                    window.parent.postMessage(MESSAGE_VIDEO, getParentOrigin());\n                    break;\n                case 'audio':\n                    window.parent.postMessage(MESSAGE_AUDIO, getParentOrigin());\n                    break;\n                case 'edit-embedded-app':\n                    window.parent.postMessage(getEmbeddedAppMessage(true), getParentOrigin());\n                    break;\n                case 'nonedit-embedded-app':\n                    window.parent.postMessage(getEmbeddedAppMessage(false), getParentOrigin());\n                    break;\n                default:\n                    break;\n            }\n        }\n    <\/script>\n</head>\n<style>\n    .hide-container {\n        display: none;\n    }\n</style>\n\n<body>\n    <div id="create-container" class="hide-container">\n        <h3>This is a sample app to demonstrate posting messages from this content provider iFrame to the parent window (ie.\n            Blackboard Learn/Ultra).</h3>\n        <br />\n        <h4>Click an anchor tag to post the respective message</h4>\n        <br />\n        <ul>\n            <li>\n                <a href="" onClick="sendMessage('link')">link</a>\n            </li>\n            <li>\n                <a href="" onClick="sendMessage('image')">image</a>\n            </li>\n            <li>\n                <a href="" onClick="sendMessage('video')">video</a>\n            </li>\n            <li>\n                <a href="" onClick="sendMessage('audio')">audio</a>\n            </li>\n            <li>\n                <a href="" onClick="sendMessage('edit-embedded-app')">editable embedded-app</a>\n            </li>\n            <li>\n                <a href="" onClick="sendMessage('nonedit-embedded-app')">non-editable embedded-app</a>\n            </li>\n        </ul>\n    </div>\n    <div id="view-container" class="hide-container">\n    <h4></h4>\n    <img></img>\n    </div>\n    <div id="edit-container" class="hide-container">\n    <h4>Change Robohash Text</h4>\n    <input/>\n    <button type="submit">Save</button>\n    </div>\n</body>\n</html>\n`},bVcq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("Zs9o"));n("h1Vs");const r=i.__importDefault(n("bDbe")),a=n("KCbv"),s="demoMashup";t.default=()=>[{pluginId:s,buttonConfig:{id:s,cssClass:s,iconName:"app",iconComponent:a.App,isDialog:!0,isActive:()=>!1,onClick:({showModal:e,...t})=>{e(o.default,{...t})}}}],t.makeDemoMashupDomString=()=>{const e=new Blob([r.default(window.origin)],{type:"text/html"});return window.URL.createObjectURL(e)}},byGv:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("6spW")),r=i.__importDefault(n("nuzP")),a=i.__importDefault(n("2oOw")),s=i.__importDefault(n("wbTV")),l=i.__importDefault(n("EROk")),u=i.__importDefault(n("RSpw")),c=r.default.import("parchment");class d extends u.default{static create(e=y()){const t=super.create(this.tagName);return t.setAttribute("table_id",e),t}formats(){return{tablebr:this.domNode.getAttribute("table_id")}}}t.TableBreak=d,d.blotName="tablebr",d.tagName="p",d.className="tablebr";class f extends o.default{static create(e=y()){const t=super.create(this.tagName);return t.setAttribute("cell_id",e),t}static formats(e){if(e.hasAttribute("cell_id"))return e.getAttribute("cell_id")}formats(){return{...this.domNode.hasAttribute("cell_id")?{[this.statics.tagName.toLowerCase()]:this.domNode.getAttribute("cell_id")}:{}}}getIndexAndOffset(){return this.parent?v(this,this.parent.children):-1}format(e,t){e===this.blotName&&t?this.domNode.setAttribute("cell_id",t):super.format(e,t)}formatAt(e,t,n,i){n===this.domNode.nodeName&&i===this.formats(this.domNode)||super.formatAt(e,t,n,i)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}}t.TableCell=f,f.blotName="table-cell",f.tagName="td";class p extends f{}t.TableHead=p,p.blotName="table-head",p.tagName="th";class h extends o.default{static create(e=y()){const t=super.create(this.tagName);return t.setAttribute("row_id",e),t}formats(){return{...this.domNode.hasAttribute("row_id")?{[this.statics.tagName.toLowerCase()]:this.domNode.getAttribute("row_id")}:{}}}formatAt(e,t,n,i){n===this.blotName&&i===this.domNode.getAttribute("row_id")||super.formatAt(e,t,n,i)}rowOffset(){return this.parent?v(this,this.parent.children):-1}table(){return this.parent&&this.parent.parent}}t.TableRow=h,h.blotName="table-row",h.tagName="tr";class m extends o.default{}t.TableBody=m,m.blotName="table-body",m.tagName="TBODY";class b extends o.default{static create(e){const t=super.create(this.tagName);return t.setAttribute("table_id",e),t}formats(){return{...this.domNode.hasAttribute("table_id")?{[this.statics.tagName.toLowerCase()]:this.domNode.getAttribute("table_id")}:{}}}formatAt(e,t,n,i){n===this.blotName&&i===this.domNode.getAttribute("table_id")||super.formatAt(e,t,n,i)}balanceRows(){const e=this.descendants(h);if(!this.checkRowsMerge(e))return;const t={};e.forEach(e=>{const n=e.domNode.getAttribute("row_id");if(!n)return;const i=!t[n];i&&(t[n]={row:e,columns:{}});const o=t[n].columns;e.children.forEach(e=>{const i=e.domNode.getAttribute("cell_id");if(!o[i]){const r=this.createCell(e.statics.blotName,e.domNode.getAttribute("cell_id"),!1);o[i]={rowCell:r},t[n].row.appendChild(r)}const r=o[i].rowCell;e.children.forEach(e=>{"header"===e.statics.blotName?r.appendChild(e):r.children.head.appendChild(e)}),e.remove()}),i||e.remove()})}checkRowsMerge(e=this.descendants(h)){const t=[];if(e.length<=1)return!0;for(let n=0;n<e.length;n++){const i=e[n].domNode.getAttribute("row_id");if(t.includes(i))return!0;t.push(i)}return!1}cells(e){return this.rows().map(t=>t.children.at(e))}deleteColumn(e){if(null==this.children.head||e<0)return;let t=this.children.head;for(;null!==t;){const n=_(t,e);null!=n&&n.remove(),t=t.next}}createCell(e="td",t=y(),n=!0){const i=c.create(e,t),o=c.create("block");return n&&o.appendChild(c.create("text","\n")),i.appendChild(o),i}insertColumn(e,t){const n=0===e&&0===t&&this.hasHeaderCol(),i=n?p.blotName:f.blotName;n&&this.updateHeaderCol(!1),this.children.forEach(n=>{E(this.createCell(i),e,t,n)}),this.hasHeaderRow()&&this.checkHeaderRowConsistency()}insertRow(e,t){const n=c.create(h.blotName,y("row")),i=0===e&&0===t&&this.hasHeaderRow(),o=i?p.blotName:f.blotName;let r=this.children.head.children.length;for(;r>0;){const e=this.createCell(o);n.appendChild(e),r-=1}i&&this.updateHeaderRow(!1),E(n,e,t,this),this.hasHeaderCol()&&this.checkHeaderColConsistency()}rows(){const e=this.children.head;return null==e?[]:e.children.map(e=>e)}updateHeaderRow(e=!0){let t=this.children.head.children.head;for(;null!==t;){const n=t.replaceWith(e?p.blotName:f.blotName,t.domNode.getAttribute("cell_id"));n.scroll&&n.formatAt(0,n.scroll.length(),e?p.tagName:f.tagName,t.domNode.getAttribute("cell_id")),t=n.next}this.checkHeaderIntersection()}updateHeaderCol(e=!0){let t=this.children.head;for(;null!==t;){const n=t.children.head,i=n.replaceWith(e?p.blotName:f.blotName,n.domNode.getAttribute("cell_id"));i.scroll&&i.formatAt(0,i.scroll.length(),e?p.tagName:f.tagName,n.domNode.getAttribute("cell_id")),t=t.next}this.checkHeaderIntersection()}hasHeaderRow(){var e;return this.children.head.children&&(this.children.head.children.tail.statics.blotName===p.blotName||(null===(e=this.children.head.children.head.next)||void 0===e?void 0:e.statics.blotName)===p.blotName)}hasHeaderCol(){var e;return this.children.tail.children&&(this.children.tail.children.head.statics.blotName===p.blotName||(null===(e=this.children.head.next)||void 0===e?void 0:e.children.head.statics.blotName)===p.blotName)}checkHeaderIntersection(){if(this.hasHeaderRow()||this.hasHeaderCol()){const e=this.children.head.children.head;if(e.statics.blotName===p.blotName)return;e.replaceWith(p.blotName,e.domNode.getAttribute("cell_id"))}}checkHeaderRowConsistency(){let e=this.children.head.children.head;for(;null!==e;)e.statics.blotName!==p.blotName&&e.replaceWith(p.blotName,e.domNode.getAttribute("cell_id")),e=e.next}checkHeaderColConsistency(){let e=this.children.head;for(;null!==e;){const t=e.children.head;t.statics.blotName!==p.blotName&&t.replaceWith(p.blotName,t.domNode.getAttribute("cell_id")),e=e.next}}getLastCell(){if(this.children&&this.children.head.children)return this.children.tail.children.tail}}t.TableContainer=b,b.blotName="table-container",b.tagName="table";const g=[...o.default.allowedChildren,s.default,l.default,a.default];function y(e="cell"){return`${e}-${Math.random().toString(36).slice(2,6)}`}function v(e,t){let n=0,i=t.head;for(;i!==e&&null!==i;)i=i.next,n+=1;return[n,i.offset(t)]}function E(e,t,n,i){if(i.children&&t+n>i.children.length-1)i.appendChild(e);else{const o=_(i,t+n);i.insertBefore(e,o)}}function _(e,t){let n=0,i=e.children.head;for(;n<e.children.length&&null!=i;){if(n===t)return i;i=i.next,n+=1}return null}b.allowedChildren=[m,h,...g],b.scope=c.Scope.BLOCK_BLOT,m.allowedChildren=[h,...g],m.requiredContainer=b,m.scope=c.Scope.BLOCK_BLOT,h.allowedChildren=[f,p,...g],h.requiredContainer=m,h.scope=c.Scope.BLOCK_BLOT,f.allowedChildren=[...g],f.requiredContainer=h,f.scope=c.Scope.BLOCK_BLOT,p.allowedChildren=[...g],p.requiredContainer=h,p.scope=c.Scope.BLOCK_BLOT,t.tableId=y},byzF:function(e,t,n){"use strict";n.r(t)},c7IC:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=/^\w+:\/\/|^mailto:/;function o(e,t){return t?{[e]:t}:null}t.default=function(e,t,n,r){if(e.length<1)return{insert:t};let a=e;return i.test(a)||(a=`http://${a}`),{insert:t||a,format:{link:{href:a,...o("bbfile",n),...o("bbtype",r)}}}}},d5gP:function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.r(t);var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(n,e);var t=r(n);function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t.apply(this,arguments)}return n}(n("EROk").default);l.blotName="underline",l.tagName="U",t.default=l},d8sb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K").__importStar(n("aWzz")),o=n("t3aq");t.allyPropShape=i.shape({service:o.allyServiceShape,indexMap:i.shape({get:i.func,has:i.func,set:i.func})}),t.defaultAllyProp={service:null,indexMap:new Map}},dScN:function(e,t,n){"use strict";n.r(t)},dkHR:function(e,t,n){"use strict";n.r(t)},"dpr/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeyDownEventScope={EDITOR:"editor",TOOLBAR:"toolbar"},t.KeyDownModifier={CTRL:"ctrlKey",ALT:"altKey",SHIFT:"shiftKey",META:"metaKey"};t.default=class{static hasModifierKey(e){return Object.keys(t.KeyDownModifier).some(n=>e[t.KeyDownModifier[n]])}static hasRegularKey(e){return!!e.keyCode}constructor(){this.keyDownEventScope=t.KeyDownEventScope.EDITOR,this.keyDownHandlers=[],this.enableEditorScope=this.enableEditorScope.bind(this),this.enableToolbarScope=this.enableToolbarScope.bind(this),this.inToolbarScope=this.inToolbarScope.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.addKeyDownHandler=this.addKeyDownHandler.bind(this)}enableEditorScope(){this.keyDownEventScope=t.KeyDownEventScope.EDITOR}enableToolbarScope(){this.keyDownEventScope=t.KeyDownEventScope.TOOLBAR}inToolbarScope(){return this.keyDownEventScope===t.KeyDownEventScope.TOOLBAR}handleKeyDown(e){let t=!1;const n=this.constructor.hasModifierKey(e);return this.keyDownHandlers.forEach(i=>{i.scope!==this.keyDownEventScope||i.keyCode!==e.keyCode||(i.modifierName||n)&&!e[i.modifierName]||(i.callback(e),t=!0)}),t}addKeyDownHandler(e,t,n,i){return this.keyDownHandlers.push({keyCode:e,modifierName:t,callback:n,scope:i}),()=>{this.keyDownHandlers=this.keyDownHandlers.filter(o=>!(o.keyCode===e&&o.modifierName===t&&o.callback===n&&o.scope===i))}}}},dyNj:function(e,t,n){"use strict";(function(t){var i=n("P0jV"),o=n("rFSu"),r={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s,l={adapter:("undefined"!=typeof XMLHttpRequest?s=n("Ay6X"):void 0!==t&&"[object process]"===Object.prototype.toString.call(t)&&(s=n("Ay6X")),s),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};l.headers={common:{Accept:"application/json, text/plain, */*"}},i.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){l.headers[e]=i.merge(r)})),e.exports=l}).call(this,n("F63i"))},e2zm:function(e,t,n){"use strict";var i=n("ZRs3"),o=n("yYc7"),r=n("y1Do"),a=n("IUnp");function s(e){this.defaults=e,this.interceptors={request:new r,response:new r}}s.prototype.request=function(e){"string"==typeof e&&(e=o.merge({url:arguments[0]},arguments[1])),(e=o.merge(i,this.defaults,{method:"get"},e)).method=e.method.toLowerCase();var t=[void 0],n=Promise.resolve(e);for(t.unshift(a),this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},o.forEach(["delete","get","head","options","jsonp"],(function(e){s.prototype[e]=function(t,n){return this.request(o.merge(n||{},{method:e,url:t}))}})),o.forEach(["post","put","patch"],(function(e){s.prototype[e]=function(t,n,i){return this.request(o.merge(i||{},{method:e,url:t,data:n}))}})),e.exports=s},e5Rc:function(e,t){e.exports='<svg viewBox="0 0 51 51" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>video_on</title><desc>Created with Sketch.</desc><defs><path d="M17.4285714,13 C17.2028571,13 16.9771429,13.0534444 16.7685714,13.1632222 C16.2971429,13.4116667 16,13.9056667 16,14.4444444 L16,24.5555556 C16,25.0943333 16.2957143,25.5883333 16.7685714,25.8367778 C16.9757143,25.9465556 17.2028571,26 17.4285714,26 C17.7171429,26 18.0028571,25.9133333 18.2485714,25.74 L25.3914286,20.6844444 C25.7728571,20.4128889 26,19.9708889 26,19.5 C26,19.0291111 25.7714286,18.5871111 25.39,18.3155556 L18.2471429,13.26 C18.0042857,13.0866667 17.7157143,13 17.4285714,13 L17.4285714,13 Z" id="path-1"></path><mask id="mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="10" height="13" fill="white"><use xlink:href="#path-1"></use></mask></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Desktop" transform="translate(-743.000000, -906.000000)"><g id="video" transform="translate(743.000000, 906.000000)"><g id="icon-large-video" transform="translate(6.000000, 6.000000)"><g id="Group"><path d="M37.1428571,39 L2.85714286,39 C1.28571429,39 0,37.7 0,36.1111111 L0,2.88888889 C0,1.3 1.28571429,0 2.85714286,0 L37.1428571,0 C38.7142857,0 40,1.3 40,2.88888889 L40,36.1111111 C40,37.7 38.7142857,39 37.1428571,39 L37.1428571,39 Z" id="Shape" fill="#FFFFFF"></path><path d="M7,39 L2.8,39 C1.26,39 0,37.7 0,36.1111111 L0,2.88888889 C0,1.3 1.26,0 2.8,0 L7,0 L7,39 L7,39 Z M33,39 L37.2,39 C38.74,39 40,37.7 40,36.1111111 L40,2.88888889 C40,1.3 38.74,0 37.2,0 L33,0 L33,39 L33,39 Z" id="Shape" fill="#CEE0F3"></path><path d="M6,1 L7,1 L7,38 L6,38 L6,1 Z M33,1 L34,1 L34,38 L33,38 L33,1 Z M37.5384615,1 C38.3423077,1 39,1.666 39,2.48 L39,36.52 C39,37.334 38.3423077,38 37.5384615,38 L2.46153846,38 C1.65769231,38 1,37.334 1,36.52 L1,2.48 C1,1.666 1.65769231,1 2.46153846,1 L37.5384615,1 L37.5384615,1 Z M2.85714286,0 C1.28571429,0 0,1.3 0,2.88888889 L0,36.1111111 C0,37.7 1.28571429,39 2.85714286,39 L37.1428571,39 C38.7142857,39 40,37.7 40,36.1111111 L40,2.88888889 C40,1.3 38.7142857,0 37.1428571,0 L2.85714286,0 Z" id="Shape" fill="#777677"></path><use id="Path" stroke="#777677" mask="url(#mask-2)" stroke-width="2" fill="#CEE0F3" xlink:href="#path-1"></use><polygon id="Path" fill="#777677" points="1 19 7 19 7 20 1 20"></polygon><polygon id="Path-Copy" fill="#777677" points="34 19 40 19 40 20 34 20"></polygon><polygon id="Path" fill="#777677" points="1 31 7 31 7 32 1 32"></polygon><polygon id="Path-Copy-2" fill="#777677" points="34 31 40 31 40 32 34 32"></polygon><polygon id="Path" fill="#777677" points="1 25 7 25 7 26 1 26"></polygon><polygon id="Path-Copy-3" fill="#777677" points="34 25 40 25 40 26 34 26"></polygon><polygon id="Path" fill="#777677" points="1 13 7 13 7 14 1 14"></polygon><polygon id="Path-Copy-4" fill="#777677" points="34 13 40 13 40 14 34 14"></polygon><polygon id="Path" fill="#777677" points="1 7 7 7 7 8 1 8"></polygon><polygon id="Path-Copy-5" fill="#777677" points="34 7 40 7 40 8 34 8"></polygon></g></g></g></g></g></svg>'},eCMq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("aWzz")),r=i.__importDefault(n("Ced4")),a=i.__importDefault(n("Ym/N")),s=i.__importDefault(n("nSiq")),l=i.__importDefault(n("XQPC")),u=i.__importDefault(n("n580")),c=n("KCbv");n("j7oS");const d="insertYoutubeVideo",f=e=>({showModal:t,...n})=>new Promise(i=>{t(l.default,{selectSource:i,...e,...n})}).then(i=>{t(u.default,{srcURL:i,...e,...n})});function p(e){return{id:d,cssClass:d,iconName:"app",iconComponent:c.App,isDialog:!0,isActive:()=>!1,onClick:f(e)}}t.pluginConfigPropType=o.default.shape({apiBasePath:o.default.string,xsrfToken:o.default.string,courseId:o.default.string,enableDemoMashup:o.default.bool}),t.default=e=>[r.default(),a.default(e),s.default(e),{pluginId:d,buttonConfig:p(e)}]},eD3c:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=["td","th","tr","table","tablebr"];t.default={keyboard:{bindings:{tab:{key:9,prefix:/\t$/,handler:()=>{}},"remove tab":{key:9,shiftKey:!0,prefix:/\t$/,handler:()=>{}},"list autofill":{prefix:/^\s*?(\d+\.|-|\*)$/},contextBackspace:{key:"Backspace",shiftKey:null,context:{format:i},handler:(e,t)=>{var n;if(!Array.isArray(t.format.td)&&(t.offset>0||!t.collapsed))return!0;let i=document.getSelection().baseNode;for(;!(null===(n=i.parentNode.classList)||void 0===n?void 0:n.contains("ql-editor"))&&"TD"!==i.parentNode.nodeName;)i=i.parentNode;if(i.previousSibling&&"TABLE"===i.previousSibling.nodeName){document.getSelection().removeAllRanges();const e=document.createRange();return e.setStartBefore(i.previousSibling),e.setEnd(i.firstChild,0),document.getSelection().addRange(e),!1}return!!i.previousSibling||Array.isArray(t.format.td)&&(0===e.index||i.previousSibling.previousSibling)}},contextDelete:{key:"Delete",context:{format:i},handler:(e,t)=>{if(!Array.isArray(t.format.td)&&(t.suffix.length>0||!t.collapsed))return!0;let n=document.getSelection().baseNode;if("#text"===n.nodeName&&(n=n.parentNode),n.nextSibling&&"TABLE"===n.nextSibling.nodeName){document.getSelection().removeAllRanges();const e=document.createRange();return e.setStartAfter(n.lastChild),e.setEnd(n.nextSibling.nextSibling.firstChild,0),document.getSelection().addRange(e),!1}return!!n.nextSibling}},shiftDelete:{key:"Delete",shiftKey:"true",context:{format:i},handler:()=>!1},undoTables:{key:90,shortKey:"true",handler:(e,t)=>!t.format.table}}},history:{delay:1e3,maxStack:50,userOnly:!1},table:!0}},eGgp:function(e,t,n){"use strict";var i=n("P0jV"),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,r,a={};return e?(i.forEach(e.split("\n"),(function(e){if(r=e.indexOf(":"),t=i.trim(e.substr(0,r)).toLowerCase(),n=i.trim(e.substr(r+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},eK3w:function(e,t,n){"use strict";var i=n("yYc7");e.exports=function(e,t){i.forEach(e,(function(n,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[i])}))}},eYkv:function(e,t,n){"use strict";var i=function(e){return e!=e};e.exports=function(e,t){return 0===e&&0===t?1/e==1/t:e===t||!(!i(e)||!i(t))}},"eg/M":function(e,t,n){"use strict";var i=n("5o3E"),o=0;function r(){}e.exports=function(e){var t,n,a=e.prefix||"__jp",s=e.callback||"callback",l=e.name||a+o++,u=e.timeout||6e4,c=e.cache||!1,d=encodeURIComponent,f=document.getElementsByTagName("script")[0]||document.head;function p(){t.parentNode&&t.parentNode.removeChild(t),window[l]=r,n&&clearTimeout(n)}if(!e.url)throw new TypeError("url is null or not defined");return new Promise((function(o,r){try{u&&(n=setTimeout((function(){p(),r(new Error("Request timed out"))}),u)),window[l]=function(t){p(),e.cancelToken&&e.cancelToken.throwIfRequested(),o(t)},e.url=i(e.url,e.params,e.paramsSerializer),e.url+=(-1===e.url.indexOf("?")?"?":"&")+s+"="+d(l),!c&&(e.url+="&_="+(new Date).getTime()),(t=document.createElement("script")).src=e.url,f.parentNode.insertBefore(t,f)}catch(e){r(e)}}))}},f50L:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("aWzz")),r=i.__importDefault(n("ERkP")),a=i.__importDefault(n("4Xt8"));function s(e){const t=e.pluginButtons.find(e=>"insertLocalFile"===e.id);return t?r.default.createElement(a.default,Object.assign({},t,e)):null}t.default=s,s.propTypes={pluginButtons:o.default.arrayOf(o.default.shape({id:o.default.string.isRequired,cssClass:o.default.string.isRequired,iconName:o.default.string.isRequired,isActive:o.default.func.isRequired,onClick:o.default.func.isRequired})).isRequired}},f7Oh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("aWzz")),r=i.__importDefault(n("ERkP")),a=i.__importDefault(n("4Xt8"));function s(e){const t=e.pluginButtons.find(e=>"editYoutubeVideo"===e.id);return t?r.default.createElement(a.default,Object.assign({},t,e)):null}t.default=s,s.propTypes={pluginButtons:o.default.arrayOf(o.default.shape({id:o.default.string.isRequired,cssClass:o.default.string.isRequired,iconName:o.default.string.isRequired,isActive:o.default.func.isRequired,onClick:o.default.func.isRequired})).isRequired}},fSNh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importStar(n("ERkP")),r=i.__importDefault(n("aWzz")),a=i.__importDefault(n("O94r")),s=n("ZyyF"),l=n("myse"),u=n("V5yS"),c=n("0x+l");function d(e){const{title:t,placement:n,ariaLabel:i}=e;let r;o.useEffect(()=>{e.hasKeyboardFocus&&e.currentSubmenuIndex===s.NO_SELECTION_INDEX&&e.currentMenuIndex===e.index&&r&&r.focus()});return o.default.createElement(u.Tooltip,{className:(()=>a.default({"bb-editor-toolbar-tooltip":!0,"is-focused":e.hasKeyboardFocus&&e.currentSubmenuIndex===s.NO_SELECTION_INDEX&&e.currentMenuIndex===e.index}))(),title:t,placement:n},o.default.createElement(u.IconButton,{"aria-label":i,ref:e=>{r=e}},o.default.createElement(c.Information,null)))}d.propTypes={ariaLabel:r.default.string.isRequired,hasKeyboardFocus:r.default.bool,index:r.default.number,placement:r.default.string,title:r.default.string.isRequired},d.defaultProps={hasKeyboardFocus:!1,index:-1,placement:"top"},t.default=l.withAnalytics(d)},fvEQ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K").__importDefault(n("oHkO"));i.default.createChange=(e=4)=>({format:{header:e}}),t.default=i.default},g3gc:function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},gCTi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e="",t=!0,n){const i={alt:!0===t||"string"==typeof t&&0===t.length?e:t,src:e},o=[{insert:!0,format:{video:{bbtype:"video",bbfile:JSON.stringify(i)}}}];return o.unshift({insert:"\n"}),n||o.push({insert:"\n"}),o}},gUiA:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("5Iw4"),o=n("2x8N"),r=n("hOhB");t.default=function(e){return e.reduce((e,t)=>{const n="string"==typeof t.data?JSON.parse(r.stringDecode(t.data)):t.data;return n.title=t.title.trim(),"embedded-app"!==n.bbtype&&e.push({insert:"\n"}),e.push(...function(e){return"embedded-app"===e.bbtype?o.embeddedAppCreateChange(e):[{insert:!0,format:{[i.pluginId]:{href:"#",bbfile:JSON.stringify(e),bbtype:i.pluginId}}}]}(n)),e},[])}},ggb3:function(e,t,n){e.exports=n("8dj6")},ghwj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("ERkP")),r=n("8unJ"),a=i.__importDefault(n("aWzz")),s=i.__importStar(n("kY6K")),l=i.__importDefault(n("D2Qr"));class u extends o.default.Component{constructor(e){super(e),this.state={isOpen:!1}}UNSAFE_componentWillMount(){this.promise=l.default(this.props.service.getPlaybackLink(this.props.videoId)).then(e=>{this.setState({src:e.data.result,isOpen:!0},s.setIframeHeight)})}componentWillUnmount(){this.promise.cancel()}render(){const{destroy:e,localize:t,showCloseButton:n}=this.props;return o.default.createElement(s.default,{destroy:e,showCloseButton:n,src:this.state.src,isOpen:this.state.isOpen,title:t.translate("bbmlEditor.dialogs.collab_video.playbackTitle")})}}u.propTypes={destroy:a.default.func,videoId:a.default.string.isRequired,service:a.default.shape({getPlaybackLink:a.default.func.isRequired}).isRequired,showCloseButton:a.default.bool},u.defaultProps={destroy:null,showCloseButton:!0},t.default=r.localizedComponentWrapper(u)},h1Vs:function(e,t,n){"use strict";n.r(t)},h9IM:function(e,t,n){var i,o,r;
/*!
  * $script.js JS loader & dependency manager
  * https://github.com/ded/script.js
  * (c) Dustin Diaz 2014 | License MIT
  */r=function(){var e,t,n=document,i=n.getElementsByTagName("head")[0],o=!1,r="push",a="readyState",s="onreadystatechange",l={},u={},c={},d={};function f(e,t){for(var n=0,i=e.length;n<i;++n)if(!t(e[n]))return o;return 1}function p(e,t){f(e,(function(e){return t(e),1}))}function h(t,n,i){t=t[r]?t:[t];var o=n&&n.call,a=o?n:i,s=o?t.join(""):n,b=t.length;function g(e){return e.call?e():l[e]}function y(){if(!--b)for(var e in l[s]=1,a&&a(),c)f(e.split("|"),g)&&!p(c[e],g)&&(c[e]=[])}return setTimeout((function(){p(t,(function t(n,i){return null===n?y():(i||/^https?:\/\//.test(n)||!e||(n=-1===n.indexOf(".js")?e+n+".js":e+n),d[n]?(s&&(u[s]=1),2==d[n]?y():setTimeout((function(){t(n,!0)}),0)):(d[n]=1,s&&(u[s]=1),void m(n,y)))}))}),0),h}function m(e,o){var r,l=n.createElement("script");l.onload=l.onerror=l[s]=function(){l[a]&&!/^c|loade/.test(l[a])||r||(l.onload=l[s]=null,r=1,d[e]=2,o())},l.async=1,l.src=t?e+(-1===e.indexOf("?")?"?":"&")+t:e,i.insertBefore(l,i.lastChild)}return h.get=m,h.order=function(e,t,n){!function i(o){o=e.shift(),e.length?h(o,i):h(o,t,n)}()},h.path=function(t){e=t},h.urlArgs=function(e){t=e},h.ready=function(e,t,n){e=e[r]?e:[e];var i,o=[];return!p(e,(function(e){l[e]||o[r](e)}))&&f(e,(function(e){return l[e]}))?t():(i=e.join("|"),c[i]=c[i]||[],c[i][r](t),n&&n(o)),h},h.done=function(e){h([null],e)},h},e.exports?e.exports=r():void 0===(o="function"==typeof(i=r)?i.call(t,n,t,e):i)||(e.exports=o)},hENV:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=!1;t.default=e=>{if(!i)return!1;const t=Array.from(document.querySelectorAll(".bb-editor-root")).find(t=>t.contains(e));return t&&t.shouldEnableDemoMashup},t.enableDemoMashupFakeConfig=()=>{i=!0}},hOhB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;")},t.stringDecode=function(e){return e.replace(/&quot;/g,'"').replace(/&amp;/g,"&")},t.parseHTML=function(e){return(new DOMParser).parseFromString(e,"text/html")}},iH9P:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var i=n("V6LY"),o=n.n(i),r=n("oB8T"),a=n.n(r),s=n("RSpw"),l=n("EROk"),u=n("wbTV");function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var i,o,r=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function p(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function h(e,t,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=E(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=function(e){b(n,e);var t=y(n);function n(){return m(this,n),t.apply(this,arguments)}return n}(l.default);_.blotName="code",_.tagName="CODE";var O=function(e){b(s,e);var t,n,i,r=y(s);function s(){return m(this,s),r.apply(this,arguments)}return t=s,i=[{key:"create",value:function(e){var t=h(E(s),"create",this).call(this,e);return t.setAttribute("spellcheck",!1),t}},{key:"formats",value:function(){return!0}}],(n=[{key:"delta",value:function(){var e=this,t=this.domNode.textContent;return t.endsWith("\n")&&(t=t.slice(0,-1)),t.split("\n").reduce((function(t,n){return t.insert(n).insert("\n",e.formats())}),new o.a)}},{key:"format",value:function(e,t){if(e!==this.statics.blotName||!t){var n=d(this.descendant(u.default,this.length()-1),1)[0];null!=n&&n.deleteAt(n.length()-1,1),h(E(s.prototype),"format",this).call(this,e,t)}}},{key:"formatAt",value:function(e,t,n,i){if(0!==t&&null!=a.a.query(n,a.a.Scope.BLOCK)&&(n!==this.statics.blotName||i!==this.statics.formats(this.domNode))){var o=this.newlineIndex(e);if(!(o<0||o>=e+t)){var r=this.newlineIndex(e,!0)+1,l=o-r+1,u=this.isolate(r,l),c=u.next;u.format(n,i),c instanceof s&&c.formatAt(0,e-r+t-l,n,i)}}}},{key:"insertAt",value:function(e,t,n){if(null==n){var i=d(this.descendant(u.default,e),2),o=i[0],r=i[1];o.insertAt(r,t)}}},{key:"length",value:function(){var e=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?e:e+1}},{key:"newlineIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t)return this.domNode.textContent.slice(0,e).lastIndexOf("\n");var n=this.domNode.textContent.slice(e).indexOf("\n");return n>-1?e+n:-1}},{key:"optimize",value:function(e){this.domNode.textContent.endsWith("\n")||this.appendChild(a.a.create("text","\n")),h(E(s.prototype),"optimize",this).call(this,e);var t=this.next;null!=t&&t.prev===this&&t.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===t.statics.formats(t.domNode)&&(t.optimize(e),t.moveChildren(this),t.remove())}},{key:"replace",value:function(e){h(E(s.prototype),"replace",this).call(this,e),[].slice.call(this.domNode.querySelectorAll("*")).forEach((function(e){var t=a.a.find(e);null==t?e.parentNode.removeChild(e):t instanceof a.a.Embed?t.remove():t.unwrap()}))}}])&&p(t.prototype,n),i&&p(t,i),s}(s.default);O.blotName="code-block",O.tagName="PRE",O.TAB="  "},iMjE:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){const i=[{insert:!0,format:{attachment:{bbtype:"attachment",bbfile:JSON.stringify(t),href:e}}}];return i.unshift({insert:"\n"}),n||i.push({insert:"\n"}),i}},iZxV:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.r(t);var o=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),this.quill=t,this.options=n};o.DEFAULTS={},t.default=o},"iZy+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K").__importDefault(n("ggb3")),o=n("QjXM");let r=null;t.resetAvailability=function(){r=null};t.default=class{constructor({apiBasePath:e,courseId:t,xsrfToken:n}){this.apiBasePath=e,this.courseId=t,this.xsrfToken=n}getAvailability(){return r||(r=i.default({method:"get",url:o.convertToAbsoluteUrl(`${this.apiBasePath}/v1/video-integration/availability`),headers:{"X-Blackboard-XSRF":this.xsrfToken}}).then(e=>e.data.result)),r}getRecordLink(){return i.default({method:"get",url:o.convertToAbsoluteUrl(`${this.apiBasePath}/v1/courses/${this.courseId}/video-integration/recordLink`),headers:{"X-Blackboard-XSRF":this.xsrfToken}})}getPlaybackLink(e){return i.default({method:"get",url:o.convertToAbsoluteUrl(`${this.apiBasePath}/v1/courses/${this.courseId}/video-integration/playLink/${e}`),headers:{"X-Blackboard-XSRF":this.xsrfToken}})}saveVideo(e,t,n){return i.default({method:"post",data:{videoUuid:e,videoTitle:t,videoAltText:n},url:o.convertToAbsoluteUrl(`${this.apiBasePath}/v1/video-integration`),headers:{"X-Blackboard-XSRF":this.xsrfToken}})}}},ihtQ:function(e,t,n){"use strict";n.r(t);var i=n("oB8T"),o=n.n(i),r=n("nuzP"),a=n("RSpw"),s=n("2oOw"),l=n("6spW"),u=n("lwQ/"),c=n("y7Jh"),d=n("EROk"),f=n("zGrB"),p=n("wbTV"),h=n("1x17"),m=n("MJsW"),b=n("9WnA"),g=n.n(b),y=n("06eB"),v=n.n(y),E=n("YNvz"),_=n.n(E),O=n("V6LY"),C=n.n(O),S=n("QvOe"),T=n.n(S),N=n("N8r5"),w=n("iZxV");function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var i,o,r=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function R(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return M(this,n)}}function M(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var P=Object(N.a)("quill:keyboard"),B=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(a,e);var t,n,i,r=I(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=r.call(this,e,t)).bindings={},Object.keys(n.options.bindings).forEach((function(t){("list autofill"!==t||null==e.scroll.whitelist||e.scroll.whitelist.list)&&n.options.bindings[t]&&n.addBinding(n.options.bindings[t])})),n.addBinding({key:a.keys.ENTER,shiftKey:null},K),n.addBinding({key:a.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},(function(){})),/Firefox/i.test(navigator.userAgent)?(n.addBinding({key:a.keys.BACKSPACE},{collapsed:!0},U),n.addBinding({key:a.keys.DELETE},{collapsed:!0},H)):(n.addBinding({key:a.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},U),n.addBinding({key:a.keys.DELETE},{collapsed:!0,suffix:/^.?$/},H)),n.addBinding({key:a.keys.BACKSPACE},{collapsed:!1},z),n.addBinding({key:a.keys.DELETE},{collapsed:!1},z),n.addBinding({key:a.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},U),n.listen(),n}return t=a,i=[{key:"match",value:function(e,t){return t=V(t),!["altKey","ctrlKey","metaKey","shiftKey"].some((function(n){return!!t[n]!==e[n]&&null!==t[n]}))&&t.key===(e.which||e.keyCode)}}],(n=[{key:"addBinding",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=V(e);if(null==i||null==i.key)return P.warn("Attempted to add invalid keyboard binding",i);"function"==typeof t&&(t={handler:t}),"function"==typeof n&&(n={handler:n}),i=_()(i,t,n),this.bindings[i.key]=this.bindings[i.key]||[],this.bindings[i.key].push(i)}},{key:"listen",value:function(){var e=this;this.quill.root.addEventListener("keydown",(function(t){if(!t.defaultPrevented){var n=t.which||t.keyCode,i=(e.bindings[n]||[]).filter((function(e){return a.match(t,e)}));if(0!==i.length){var r=e.quill.getSelection();if(null!=r&&e.quill.hasFocus()){var s=k(e.quill.getLine(r.index),2),l=s[0],u=s[1],c=k(e.quill.getLeaf(r.index),2),d=c[0],f=c[1],p=k(0===r.length?[d,f]:e.quill.getLeaf(r.index+r.length),2),h=p[0],m=p[1],b=d instanceof o.a.Text?d.value().slice(0,f):"",g=h instanceof o.a.Text?h.value().slice(m):"",y={collapsed:0===r.length,empty:0===r.length&&l.length()<=1,format:e.quill.getFormat(r),offset:u,prefix:b,suffix:g};i.some((function(t){if(null!=t.collapsed&&t.collapsed!==y.collapsed)return!1;if(null!=t.empty&&t.empty!==y.empty)return!1;if(null!=t.offset&&t.offset!==y.offset)return!1;if(Array.isArray(t.format)){if(t.format.every((function(e){return null==y.format[e]})))return!1}else if("object"===x(t.format)&&!Object.keys(t.format).every((function(e){return!0===t.format[e]?null!=y.format[e]:!1===t.format[e]?null==y.format[e]:v()(t.format[e],y.format[e])})))return!1;return!(null!=t.prefix&&!t.prefix.test(y.prefix)||null!=t.suffix&&!t.suffix.test(y.suffix)||!0===t.handler.call(e,r,y))}))&&t.preventDefault()}}}}))}}])&&R(t.prototype,n),i&&R(t,i),a}(w.default);function q(e,t){var n,i=e===F.keys.LEFT?"prefix":"suffix";return A(n={key:e,shiftKey:t,altKey:null},i,/^$/),A(n,"handler",(function(n){var i=n.index;return e===F.keys.RIGHT&&(i+=n.length+1),!(k(this.quill.getLeaf(i),1)[0]instanceof o.a.Embed)||(e===F.keys.LEFT?t?this.quill.setSelection(n.index-1,n.length+1,r.default.sources.USER):this.quill.setSelection(n.index-1,r.default.sources.USER):t?this.quill.setSelection(n.index,n.length+1,r.default.sources.USER):this.quill.setSelection(n.index+n.length+1,r.default.sources.USER),!1)})),n}function U(e,t){if(!(0===e.index||this.quill.getLength()<=1)){var n=k(this.quill.getLine(e.index),1)[0],i={};if(0===t.offset){var o=k(this.quill.getLine(e.index-1),1)[0];if(null!=o&&o.length()>1){var a=n.formats(),s=this.quill.getFormat(e.index-1,1);i=T.a.attributes.diff(a,s)||{}}}var l=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;this.quill.deleteText(e.index-l,l,r.default.sources.USER),Object.keys(i).length>0&&this.quill.formatLine(e.index-l,l,i,r.default.sources.USER),this.quill.focus()}}function H(e,t){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(!(e.index>=this.quill.getLength()-n)){var i={},o=0,a=k(this.quill.getLine(e.index),1)[0];if(t.offset>=a.length()-1){var s=k(this.quill.getLine(e.index+1),1)[0];if(s){var l=a.formats(),u=this.quill.getFormat(e.index,1);i=T.a.attributes.diff(l,u)||{},o=s.length()}}this.quill.deleteText(e.index,n,r.default.sources.USER),Object.keys(i).length>0&&this.quill.formatLine(e.index+o-1,n,i,r.default.sources.USER)}}function z(e){var t=this.quill.getLines(e),n={};if(t.length>1){var i=t[0].formats(),o=t[t.length-1].formats();n=T.a.attributes.diff(o,i)||{}}this.quill.deleteText(e,r.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(e.index,1,n,r.default.sources.USER),this.quill.setSelection(e.index,r.default.sources.SILENT),this.quill.focus()}function K(e,t){var n=this;e.length>0&&this.quill.scroll.deleteAt(e.index,e.length);var i=Object.keys(t.format).reduce((function(e,n){return o.a.query(n,o.a.Scope.BLOCK)&&!Array.isArray(t.format[n])&&(e[n]=t.format[n]),e}),{});this.quill.insertText(e.index,"\n",i,r.default.sources.USER),this.quill.setSelection(e.index+1,r.default.sources.SILENT),this.quill.focus(),Object.keys(t.format).forEach((function(e){null==i[e]&&(Array.isArray(t.format[e])||"link"!==e&&n.quill.format(e,t.format[e],r.default.sources.USER))}))}function W(e){return{key:F.keys.TAB,shiftKey:!e,format:{"code-block":!0},handler:function(t){var n=o.a.query("code-block"),i=t.index,a=t.length,s=k(this.quill.scroll.descendant(n,i),2),l=s[0],u=s[1];if(null!=l){var c=this.quill.getIndex(l),d=l.newlineIndex(u,!0)+1,f=l.newlineIndex(c+u+a),p=l.domNode.textContent.slice(d,f).split("\n");u=0,p.forEach((function(t,o){e?(l.insertAt(d+u,n.TAB),u+=n.TAB.length,0===o?i+=n.TAB.length:a+=n.TAB.length):t.startsWith(n.TAB)&&(l.deleteAt(d+u,n.TAB.length),u-=n.TAB.length,0===o?i-=n.TAB.length:a-=n.TAB.length),u+=t.length+1})),this.quill.update(r.default.sources.USER),this.quill.setSelection(i,a,r.default.sources.SILENT)}}}}function $(e){return{key:e[0].toUpperCase(),shortKey:!0,handler:function(t,n){this.quill.format(e,!n.format[e],r.default.sources.USER)}}}function V(e){if("string"==typeof e||"number"==typeof e)return V({key:e});if("object"===x(e)&&(e=g()(e,!1)),"string"==typeof e.key)if(null!=F.keys[e.key.toUpperCase()])e.key=F.keys[e.key.toUpperCase()];else{if(1!==e.key.length)return null;e.key=e.key.toUpperCase().charCodeAt(0)}return e.shortKey&&(e[B]=e.shortKey,delete e.shortKey),e}F.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},F.DEFAULTS={bindings:{bold:$("bold"),italic:$("italic"),underline:$("underline"),indent:{key:F.keys.TAB,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","+1",r.default.sources.USER)}},outdent:{key:F.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","-1",r.default.sources.USER)}},"outdent backspace":{key:F.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(e,t){null!=t.format.indent?this.quill.format("indent","-1",r.default.sources.USER):null!=t.format.list&&this.quill.format("list",!1,r.default.sources.USER)}},"indent code-block":W(!0),"outdent code-block":W(!1),"remove tab":{key:F.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(e){this.quill.deleteText(e.index-1,1,r.default.sources.USER)}},tab:{key:F.keys.TAB,handler:function(e){this.quill.history.cutoff();var t=(new C.a).retain(e.index).delete(e.length).insert("\t");this.quill.updateContents(t,r.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,r.default.sources.SILENT)}},"list empty enter":{key:F.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(e,t){this.quill.format("list",!1,r.default.sources.USER),t.format.indent&&this.quill.format("indent",!1,r.default.sources.USER)}},"checklist enter":{key:F.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(e){var t=k(this.quill.getLine(e.index),2),n=t[0],i=t[1],o=_()({},n.formats(),{list:"checked"}),a=(new C.a).retain(e.index).insert("\n",o).retain(n.length()-i-1).retain(1,{list:"unchecked"});this.quill.updateContents(a,r.default.sources.USER),this.quill.setSelection(e.index+1,r.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:F.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(e,t){var n=k(this.quill.getLine(e.index),2),i=n[0],o=n[1],a=(new C.a).retain(e.index).insert("\n",t.format).retain(i.length()-o-1).retain(1,{header:null});this.quill.updateContents(a,r.default.sources.USER),this.quill.setSelection(e.index+1,r.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(e,t){var n,i=t.prefix.length,o=k(this.quill.getLine(e.index),2),a=o[0],s=o[1];if(s>i)return!0;switch(t.prefix.trim()){case"[]":case"[ ]":n="unchecked";break;case"[x]":n="checked";break;case"-":case"*":n="bullet";break;default:n="ordered"}this.quill.insertText(e.index," ",r.default.sources.USER),this.quill.history.cutoff();var l=(new C.a).retain(e.index-s).delete(i+1).retain(a.length()-2-s).retain(1,{list:n});this.quill.updateContents(l,r.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-i,r.default.sources.SILENT)}},"code exit":{key:F.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(e){var t=k(this.quill.getLine(e.index),2),n=t[0],i=t[1],o=(new C.a).retain(e.index+n.length()-i-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(o,r.default.sources.USER)}},"embed left":q(F.keys.LEFT,!1),"embed left shift":q(F.keys.LEFT,!0),"embed right":q(F.keys.RIGHT,!1),"embed right shift":q(F.keys.RIGHT,!0)}},r.default.register({"blots/block":a.default,"blots/block/embed":a.BlockEmbed,"blots/break":s.default,"blots/container":l.default,"blots/cursor":u.a,"blots/embed":c.default,"blots/inline":d.default,"blots/scroll":f.default,"blots/text":p.default,"modules/clipboard":h.default,"modules/history":m.default,"modules/keyboard":F}),o.a.register(a.default,s.default,u.a,d.default,f.default,p.default);t.default=r.default},ii0J:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K").__importDefault(n("ERkP"));t.default=function e(t,n,o,r){const a=function(e,t,n){const o=[];return i.default.Children.forEach(e,(e,r)=>{(i.default.Component.isPrototypeOf(e.type)||"function"==typeof e.type&&null!==e.type({...e.props,...t,index:r,parentIndex:n})||!e.props.isHideable||e.props.isActive)&&o.push(e)}),o.length?o:null}(t);return i.default.Children.map(a,(t,a)=>{a+=r;const s={...n};return s.children=e(t.props.children,n,a,0),i.default.cloneElement(t,{...t.props,...s,index:a,parentIndex:o})})}},j7oS:function(e,t,n){"use strict";n.r(t)},jNaF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("ERkP")),r=n("aaDR"),a=i.__importDefault(n("hOhB")),s=i.__importDefault(n("F0tE")),l=i.__importDefault(n("jdLX")),u=i.__importDefault(n("HTWm")),c=n("ml91");n("JQup");const d=n("B43Y"),f=n("YYJ2"),p="editAttachment",h="attachment",m=[`[data-bbtype=${h}][data-bbfile]`,"[data-bbfile]:not([data-bbtype])"];function b(e){return{id:p,cssClass:p,iconName:"edit",iconComponent:c.Edit,isDialog:!0,isActive:e=>!!e[d.EDITABLE_ATTACHMENT_CONFIG.type],onClick:({showModal:t,editorFormat:n,...i})=>{const o=JSON.parse(n[h].bbfile);t(l.default,{isEdit:!0,editorFormat:n,file:o,...e,...i,href:n[h].href})}}}t.FormatterComponent=e=>{const{editorProps:t,values:n}=e,i=o.default.useMemo(()=>JSON.parse(n.bbfile),[n.bbfile]),{href:a,metadata:l}=s.default(n.href,i),c=u.default(l.linkName,l.mimeType),d={disableMediaModal:!t.isReadOnly,file:{resourceUrl:a,fileName:c,viewerUrl:l.viewerUrl,displayInline:"inline"===l.render,alternativeText:l.alternativeText||l.linkName,displayName:l.linkName,mimeType:l.mimeType,isDecorative:l.isDecorative||!1,attemptFileId:l.attemptFileId||null,groupAttemptFileId:l.groupAttemptFileId||null,canDownloadWithAnnotations:l.canDownloadWithAnnotations||!1},readOnly:t.isReadOnly||t.isDisabled,showContextMenu:t.isReadOnly&&!t.isDisabled,onDownloadWithAnnotations:t.onDownloadWithAnnotations,alwaysShowDownloadLink:!0};return o.default.createElement(r.FileViewer,{fileViewerProps:d,ally:t.ally,rootContentId:t.rootContentId})};const g={type:"embed",blotName:h,tagName:"div",attributes:{"data-bbtype":p,"data-bbfile":null,href:null},renderDomNode:f.renderReactPluginFactory({processValues:e=>{const t=JSON.parse(e.bbfile),{href:n,metadata:i}=s.default(e.href,t);return{...e,href:n,bbfile:JSON.stringify(i)}},component:t.FormatterComponent})};function y(e,t){const n=JSON.parse(t.bbfile);return`<a href="${t.href}" data-bbtype="${h}" data-bbfile="${a.default(t.bbfile)}">${n.linkName||n.alternativeText}</a>`}t.default=e=>({pluginId:p,buttonConfig:b(e),matchers:m,formatter:g,toBbML:y})},jdLX:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("ERkP")),r=i.__importDefault(n("aWzz")),a=n("AY8y"),s=i.__importDefault(n("HTWm")),l=i.__importDefault(n("iMjE")),u=e=>t=>{e.applyChange(l.default(e.href,t,e.isEdit)),e.destroy()},c=e=>{const t={alternativeText:e.file.alternativeText||e.file.linkName,displayInline:e.file.displayInline,displayName:e.file.linkName,fileName:s.default(e.file.linkName,e.file.mimeType),isDecorative:e.file.isDecorative,mimeType:e.file.mimeType,render:e.file.render,resourceUrl:e.href};return o.default.createElement(a.FilePropertyDialog,{file:t,hidden:!1,onSave:u(e),onCancel:e.destroy})};c.propTypes={isEdit:r.default.bool,applyChange:r.default.func.isRequired,destroy:r.default.func.isRequired,file:r.default.shape({linkName:r.default.string,alternativeText:r.default.string,mimeType:r.default.string,displayInline:r.default.bool,render:r.default.string,isDecorative:r.default.bool}).isRequired,href:r.default.string.isRequired},c.defaultProps={isEdit:!1},t.default=c},"jfY+":function(e,t,n){"use strict";n.r(t)},jgNF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=n("tN4z"),r=n("8unJ"),a=i.__importDefault(n("ERkP")),s=i.__importDefault(n("7nmT"));function l(e,t){return()=>{s.default.unmountComponentAtNode(e),e.remove(),t.applyChange&&t.applyChange()}}t.default=(e,t,n)=>{setTimeout(()=>{if(document.querySelector("div.bb-editor-modal"))return;const i=document.createElement("div");i.classList.add("bb-editor-modal"),document.body.appendChild(i),s.default.render(a.default.createElement(o.AnalyticsJssThemeProvider,{cssReset:"none",isRtl:n.isRtl},a.default.createElement(r.Locale,Object.assign({},n),a.default.createElement(e,Object.assign({destroy:l(i,t)},t)))),i)},250)}},kBJj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("7nmT")),r=i.__importDefault(n("ERkP")),a=i.__importDefault(n("aWzz")),s=n("8unJ"),l=i.__importDefault(n("4dof"));t.BbEditor=l.default;const u=i.__importStar(n("8rpy"));t.uploadWorkflow=u.default,t.ModalInsertLocalFile=u.ModalInsertLocalFile,t.ModalMaxFileSizeError=u.ModalMaxFileSizeError;const c=i.__importDefault(n("HTWm"));t.getFileNameWithTypeExtension=c.default;const d=i.__importDefault(n("om/Z"));t.encodeURIComponentExt=d.default;const f=i.__importDefault(n("ViOD"));t.replaceTablesInHTML=f.default;const p=n("tB4T");t.isMessageTooLong=p.isMessageTooLong;const h=i.__importDefault(n("MrRw"));t.customClass=h.default;const m=i.__importDefault(n("LYUa"));t.link=m.default;const b=i.__importStar(n("Fvjt"));t.math=b.default;const g=i.__importDefault(n("4oOs"));t.image=g.default;const y=i.__importStar(n("rjOT"));t.insertCloudStorageIntegrationFile=y.default;const v=i.__importStar(n("xybc"));t.insertLocalFile=v.default;const E=i.__importStar(n("eCMq"));t.insertYoutubeVideo=E.default;const _=i.__importDefault(n("bVcq"));t.demoMashup=_.default;const O=i.__importDefault(n("nSiq"));t.video=O.default;const C=i.__importStar(n("5Iw4"));t.contentMarket=C.default;const S=i.__importStar(n("LHyt"));t.videoEverywhere=S.default;const T=n("tN4z");t.BbEditorFactory=function(e,t={}){let n=t;!function(e){if(!e)throw new Error("bb-editor: DOM element does not exist.")}(e);const i=()=>{const{isRtl:t,locale:i,babelfishInstance:a,babelfishFormatInstance:u,mockLocalize:c,...d}=n;o.default.render(r.default.createElement(s.Locale,{isRtl:t,locale:i,babelfishInstance:a,babelfishFormatInstance:u,mockLocalize:c,topLevelTag:r.default.Fragment},r.default.createElement(T.AnalyticsJssThemeProvider,{cssReset:"none",isRtl:t},r.default.createElement(l.default,Object.assign({},d)))),e)};return i(),{update(e={}){delete n.bbml,n={...n,...e},i()},destroy(){o.default.unmountComponentAtNode(e)}}};const N=a.default.shape({insertCloudStorageIntegrationFile:y.pluginConfigPropType,insertLocalFile:v.pluginConfigPropType,math:b.pluginConfigPropType,contentMarket:C.pluginConfigPropType,insertYoutubeVideo:E.pluginConfigPropType,videoEverywhere:S.pluginConfigPropType});t.optionalPluginConfigPropTypes=N},kIia:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("pLwJ")),r=i.__importDefault(n("1x17")),a=i.__importDefault(n("ihtQ")),s=i.__importDefault(n("6spW")),l=i.__importDefault(n("zGrB")),u=a.default.import("parchment");class c extends r.default{constructor(e,t){super(e,t),this.quill.root.addEventListener("cut",this.onCut.bind(this))}convert(e){const t=this.isHTMLManuallyLoaded;return e?this.isHTMLManuallyLoaded=!0:delete this.isHTMLManuallyLoaded,e||t||(Array.from(this.container.querySelectorAll("img")).forEach(e=>("string"!=typeof e.src||/^(blob|data|file):.*/.test(e.src))&&e.remove()),Array.from(this.container.querySelectorAll('[data-bbtype="image"]')).forEach(e=>("string"!=typeof e.getAttribute("href")||/^(blob|data|file):.*/.test(e.getAttribute("href")))&&e.remove()),this.container.innerHTML=this.container.innerHTML.replace(/<br\s?\/?>\r?\n/g,"<br>"),Array.from(this.container.querySelectorAll('[data-bbtype="attachment"]')).forEach(e=>{e.setAttribute("data-bbtype","reinsertAttachment"),e.getAttribute("href").includes("/sessions/")&&e.remove()}),Array.from(this.container.querySelectorAll("[data-bbfile]")).forEach(e=>{e.parentNode.insertBefore(document.createElement("p").appendChild(document.createElement("br")),e)})),super.convert(e)}onPaste(e){if(e.defaultPrevented||!this.quill.isEnabled())return;const t=this.quill.getSelection();let n=(new o.default).retain(t.index);const i=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(a.default.sources.SILENT),setTimeout(()=>{n=n.concat(this.convert());let e="";let o=null;if(this.quill.scroll.length()-t.index>1&&(n.ops.forEach(t=>{var n;"#ffffff"===(null===(n=t.attributes)||void 0===n?void 0:n.color)&&(t.insert=" \n",e+=" ")}),e.length>0)){let i=this.quill.getLeaf(t.index)[0];const r="text"===i.statics.blotName;for(;null!=i&&!(i instanceof s.default||i instanceof l.default);)o=i,i=i.parent;if(["TD","TH"].includes(i.domNode.nodeName)){for(;null!=i&&!(i instanceof l.default);)o=i,i=i.parent;t.index=this.quill.getIndex(o.next),n.ops[0].retain=t.index}r&&0!==t.index&&(this.quill.insertText(t.index,"\n","silent"),n.ops[0].retain+=1,t.index+=1),o=o.next,i.insertBefore(u.create("text","\n"),o),n.ops.push({delete:2}),this.quill.insertText(t.index,e,"silent")}if(this.quill.updateContents(n,a.default.sources.USER),o){let e=this.quill.getIndex(o);-1===e&&(e=this.quill.getIndex(o.next)),this.quill.setSelection(e,"silent")}else this.quill.setSelection(n.length()-t.length,a.default.sources.SILENT);this.quill.scrollingContainer.scrollTop=i,this.quill.focus(),this.quill.notifyPluginsOfPropChanges()},1)}onCut(e){if(e.defaultPrevented||!this.quill.isEnabled())return;const t=this.quill.getSelection();setTimeout(()=>{this.quill.setSelection(t.index,a.default.sources.SILENT)},1)}dangerouslyPasteHTML(e){let t=e.replace(/\s*[\n]\s*/g,"");return t=(t=t.replace(/<h(\d)\s*><\/h\d\s*>/g,"<h$1><br></h$1>")).replace(/<h(\d)\s*\/>/g,"<h$1><br></h$1>"),this.quill.setContents(this.convert(t))}}t.default=c},kY6K:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("ERkP")),r=i.__importDefault(n("aWzz")),a=n("3/0u");function s(){const e=document.querySelector("div.modal-video-everywhere-contents > iframe");e&&(e.height=`${e.offsetWidth*(700/1200)}px`)}t.setIframeHeight=s;class l extends o.default.Component{constructor(e){super(e),this.state={isOpen:!1},this.onCancel=this.onCancel.bind(this),this.onAnimationComplete=this.onAnimationComplete.bind(this)}UNSAFE_componentWillMount(){this.timer=setTimeout(()=>{this.setState({isOpen:!0},()=>{window.addEventListener("resize",s)})})}UNSAFE_componentWillReceiveProps(e){!e.isOpen&&this.state.isOpen&&this.onCancel()}componentWillUnmount(){clearTimeout(this.timer),window.removeEventListener("resize",s)}onCancel(){this.setState({isOpen:!1})}onAnimationComplete(){this.props.destroy&&this.props.destroy()}getAllowAttribute(){return this.props.allowMedia?"geolocation *; microphone *; camera *; midi *; encrypted-media *; fullscreen *":null}render(){return o.default.createElement(a.Dialog,{hidden:!this.state.isOpen,dialogContentProps:{title:this.props.title,type:a.DialogType.fullHeaderFooter,showCloseButton:this.props.showCloseButton},modalProps:{onDismiss:this.onCancel,onDismissed:this.onAnimationComplete,containerClassName:"modal-video-everywhere"},onDismiss:this.onCancel,firstFocusableSelector:"ms-Dialog-title"},o.default.createElement("div",{className:"modal-video-everywhere-contents"},this.props.src&&o.default.createElement("iframe",{tabIndex:"0",title:this.props.title,src:this.props.src,frameBorder:"0",width:"100%",height:"100%",scrolling:"no",allow:this.getAllowAttribute(),allowFullScreen:!0,onLoad:s})))}}t.default=l,l.propTypes={allowMedia:r.default.bool,destroy:r.default.func,isOpen:r.default.bool,showCloseButton:r.default.bool,src:r.default.string,title:r.default.string.isRequired},l.defaultProps={allowMedia:!1,destroy:null,isOpen:!1,showCloseButton:!0,src:null}},km4Y:function(e,t,n){"use strict";function i(e,t,n,i){return(n||i)&&e.setAttribute(t,n||i),e}Object.defineProperty(t,"__esModule",{value:!0}),t.setAttribute=i,t.setAttributes=function(e,t,n){let o=e;return Object.keys(t).forEach(e=>{const r=n[e.replace("data-","")],a=t[e];o=i(o,e,r,a)}),o},t.getAttributes=function(e,t,n=!1){const i=n?{domNode:e}:{};return Object.keys(t).reduce((t,n)=>{const i=t;if(e.hasAttribute(n)){let t=e.getAttribute(n);"string"==typeof t&&t.slice(0,3)===encodeURIComponent("{")&&(t=decodeURIComponent(t)),i[n.replace("data-","")]=t}return i},i)}},kmO7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("nuzP")),r=i.__importDefault(n("iZxV")),a=i.__importDefault(n("6spW")),s=i.__importDefault(n("zGrB")),l=i.__importDefault(n("wbTV")),u=n("byGv"),c=o.default.import("parchment");class d extends r.default{static register(){o.default.register(u.TableCell,!0),o.default.register(u.TableHead,!0),o.default.register(u.TableRow,!0),o.default.register(u.TableBody,!0),o.default.register(u.TableContainer,!0),o.default.register(u.TableBreak,!0)}constructor(...e){super(...e),this.listenBalanceTables()}balanceTables(){let e=this.quill.scroll.descendants(u.TableContainer);const t=this.checkTablesMerge(e);if(0===t.length)return;for(let n=(e=e.filter(e=>t.includes(e.formats().table))).length-1;n>=0;n--){const t=e[n],i=t.children.tail;for(;i.prev;)this.quill.scroll.insertBefore(i.prev,t);const o=i.children.tail;let r=t.prev;for(;r&&!r.formats().tablebr&&!r.prev.formats().table;)o.insertBefore(r,o.children.head),r=t.prev;o.children.tail.remove(),t.next.domNode.remove(),this.quill.scroll.removeChild(t.next)}e[e.length-1].next||this.quill.scroll.appendChild(c.create("text","\n"));let n=null,i=null;e.forEach(e=>{const t=e.children.head,o=t.formats();if(n!==o.tr)n=o.tr,i=t;else{const e=t.children.head;i.appendChild(e)}});let o=null,r=null;e.forEach(e=>{const t=e.formats();if(o!==t.table)o=t.table,r=e;else{const t=e.children.head;r.appendChild(t)}})}checkTablesMerge(e=this.quill.scroll.descendants(u.TableContainer)){const t=[],n=[];for(let i=0;i<e.length;i++){const o=e[i].domNode.getAttribute("table_id");t.includes(o)&&!n.includes(o)&&n.push(o),e[i].prev.formats().tablebr||n.includes(o)||n.push(o),t.push(o)}return n}deleteColumn(){const[e,,t]=this.getTable();if(null==t)return;const n=e.children.tail.children.head instanceof u.TableHead;if(!t.next&&t.prev){const e=t.prev.getIndexAndOffset()[1];this.quill.setSelection(e,o.default.sources.SILENT)}e.deleteColumn(t.getIndexAndOffset()[0]),n&&this.updateHeaderCol(!0),this.quill.update(o.default.sources.USER)}deleteRow(){const[,e,t]=this.getTable();if(null==e)return;const n=e.children.tail instanceof u.TableHead,i=t.getIndexAndOffset()[0];let r=0,a=null,s=!1;for(!e.next&&e.prev?a=e.prev.children.head:e.next||e.prev?a=e.next.children.head:(a=e.children.head,s=!0);a.next&&r<i&&!s;)a=a.next,r+=1;this.quill.setSelection(a.getIndexAndOffset()[1],o.default.sources.SILENT),e.remove(),n&&this.updateHeaderRow(!0),this.quill.update(o.default.sources.USER)}deleteTable(){var e;const[t]=this.getTable();if(null==t)return;const n=t.offset()-1;(null===(e=t.prev)||void 0===e?void 0:e.statics.blotName)===u.TableBreak.blotName&&t.prev.domNode.getAttribute("table_id")===t.domNode.getAttribute("table_id")&&t.prev.remove(),t.remove(),this.quill.update(o.default.sources.USER),this.quill.setSelection(n,o.default.sources.SILENT)}getTable(e=this.quill.getSelection()){if(null==e)return[null,null,null,-1];const[t,n]=this.quill.getLine(e.index),i=this.getCellOfContent(t);if(null==i)return[null,null,null,-1];const o=i.parent;return[o.parent,o,i,n]}getCells(){const[e]=this.getTable();return e?e.getCells():[]}getCellOfContent(e){if(!e)return null;let t=e.parent;for(;t;){if(t.statics.blotName===u.TableCell.blotName||t.statics.blotName===u.TableHead.blotName)return t;t=t.parent}return null}getTableData(e=this.quill.getSelection()){const t=this.getTable(e)[0],n=this.getTableColumnsCount(t),i=this.getTableRowsCount(t),o=this.getTableHeadersValue();return{columnCount:n,rowCount:i,headerRow:o.row,headerColumn:o.column}}getTableColumnsCount(e){return this.getTableRowsCount(e)<=0||!e.children.head.children?0:e.children.head.children.length}getTableRowsCount(e){return(null==e?void 0:e.children)?e.children.length:0}getTableHeadersValue(e=this.quill.getSelection()){const t=this.getTable(e)[0],n={row:!1,column:!1};return this.getTableRowsCount(t)<=0||!t.children.head.children?n:(this.isHeaderCell(t.children.tail.children.head)&&(n.column=!0),this.isHeaderCell(t.children.head.children.tail)&&(n.row=!0),n)}isHeaderCell(e){return e.domNode.localName.toLowerCase()===u.TableHead.tagName.toLowerCase()}insertColumn(e){const t=this.quill.getSelection(),[n,i,r]=this.getTable(t);if(null==r)return;const a=r.getIndexAndOffset()[0];n.insertColumn(a,e),this.quill.update(o.default.sources.USER);const s=n.children.head.children.map(e=>e)[a+e];this.quill.setSelection(s.offset(this.quill.scroll),0,o.default.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){const t=this.quill.getSelection(),[n,i,r]=this.getTable(t);if(null==r)return;const a=i.rowOffset()[0];n.insertRow(a,e),this.quill.update(o.default.sources.USER);const s=n.children.map(e=>e)[a+e].children.head;this.quill.setSelection(s.offset(this.quill.scroll),0,o.default.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertColumns(e,t){const n=this.quill.getSelection(),[i,r]=this.getTable(n),a=i.getLastCell();if(null==a)return;const s=a.getIndexAndOffset()[0];for(let n=0;n<e;n++)i.insertColumn(s,t);this.quill.update(o.default.sources.USER);let l=r.rowOffset()[0];0===t&&(l+=1),this.quill.setSelection(n.index+l,n.length,o.default.sources.SILENT)}insertRows(e,t){const n=this.quill.getSelection(),[i]=this.getTable(n),r=i.getLastCell(),a=r.parent;if(null==r||null==a)return;const s=a.rowOffset()[0];for(let n=0;n<e;n++)i.insertRow(s,t);this.quill.update(o.default.sources.USER),1===t?this.quill.setSelection(n,o.default.sources.SILENT):this.quill.setSelection(n.index+a.children.length,n.length,o.default.sources.SILENT)}deleteColumns(e){const t=this.quill.getSelection(),[n,i,r]=this.getTable(t);if(null==r||null==i)return;const a=r.getIndexAndOffset()[0],s=i.children.length-1-e;for(let t=0;t<e;t++){const e=i.children.length-1;n.deleteColumn(e),this.quill.update(o.default.sources.USER)}if(s<a){const e=i.children.tail.getIndexAndOffset()[1];this.quill.setSelection(e,t.length,o.default.sources.SILENT)}this.quill.update(o.default.sources.USER)}deleteRows(e){const t=this.quill.getSelection(),[n,i,r]=this.getTable(t);if(null==r||null==i)return;const a=i.rowOffset()[0],s=r.getIndexAndOffset()[0],l=n.children.length-e-1;for(let t=0;t<e;t++){n.children.tail.remove(),this.quill.update(o.default.sources.USER)}if(l<a){let e=n.children.tail.children.head;for(let t=0;t<s;t++)e=e.next;const i=e.getIndexAndOffset()[1];this.quill.setSelection(i,t.length,o.default.sources.SILENT)}this.quill.update(o.default.sources.USER)}insertTable(e,t,n,i){this.quill.history.cutoff();const r=this.quill.getSelection();if(null==r)return;const a=u.tableId("table"),s=c.create(u.TableContainer.blotName,a);for(let n=0;n<e;n++){const e=c.create(u.TableRow.blotName,u.tableId("row"));for(let n=0;n<t;n++){const t=c.create(u.TableCell.blotName,u.tableId("cell")),n=c.create("block");n.appendChild(c.create("text","\n")),t.appendChild(n),e.appendChild(t)}s.appendChild(e)}s.updateHeaderCol(i),s.updateHeaderRow(n),this.insertBlot(r,s),this.quill.update(o.default.sources.USER);const l=this.quill.history.stack.undo.pop();this.quill.history.stack.undo.forEach(e=>{var t,n,i;const o=null!==(t=l.undo.ops[0].retain)&&void 0!==t?t:0,r=null!==(i=null!==(n=l.undo.ops[0].delete)&&void 0!==n?n:l.undo.ops[1].delete)&&void 0!==i?i:0;e.undo.ops.forEach(e=>{e.retain&&e.retain>=o&&(e.retain+=r)})}),r.index+=1,this.quill.setSelection(r),s.parent.insertBefore(c.create(u.TableBreak.blotName,a),s)}editTable(e,t){const n=this.getTableData();if(null==this.quill.getSelection())return;const i=t-n.columnCount,o=e-n.rowCount;o>0?this.insertRows(o,1):o<0&&this.deleteRows(Math.abs(o)),i>0?this.insertColumns(i,1):i<0&&this.deleteColumns(Math.abs(i)),this.updateNullSelection()}insertBlot(e,t){let n=this.quill.getLeaf(e.index)[0];const i=n.statics.blotName===l.default.blotName;let o=null;for(;null!=n&&!(n instanceof a.default||n instanceof s.default);)o=n,n=n.parent;if(i){const e=c.create("text","\n");o.next?(n.insertBefore(e,o.next),n.insertBefore(t,o.next)):(n.appendChild(t),n.appendChild(e,o))}else n.insertBefore(t,o)}listenBalanceTables(){this.quill.on(o.default.events.SCROLL_OPTIMIZE,e=>{let t=!0;for(let n=0;n<e.length&&t;n++)["TH","TD","TR","TABLE"].includes(e[n].target.tagName)&&(this.balanceTables(),t=!1)})}updateHeaderRow(e){const t=this.getTable()[0],n=this.quill.getSelection();null!==t&&(t.updateHeaderRow(e),this.quill.setSelection(n))}updateHeaderCol(e){const t=this.getTable()[0],n=this.quill.getSelection();null!==t&&(t.updateHeaderCol(e),this.quill.setSelection(n))}updateNullSelection(){null===this.quill.getSelection()&&this.quill.setSelection(this.quill.selection.savedRange)}deltaHasTable(e){return e.ops.some(e=>e.attributes&&(e.attributes["table-container"]||e.attributes["table-cell"]))}deltaHasDangerousContent(e){let t=!1;for(let n=0;n<e.ops.length&&!t;n++){const i=e.ops[n];i.attributes&&(t=["header","src","list"].some(e=>Object.keys(i.attributes).includes(e))),i.insert&&!t&&((t=["inlineImage"].some(e=>Object.keys(i.insert).includes(e)))||(t=i.insert.includes("\n","cJ","\n","\f","\r")))}return t}}t.default=d},kxzk:function(e,t,n){"use strict";n.r(t)},lUnj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i="is-disabled";t.updateDisabledStyle=function(e,t){t&&!e.contains(i)?e.add(i):!t&&e.contains(i)&&e.remove(i)};const o="is-read-only";t.updateReadOnlyStyle=function(e,t){t&&!e.contains(o)?e.add(o):!t&&e.contains(o)&&e.remove(o)};const r="is-active";t.updateActiveStyle=function(e,t){t&&!e.contains(r)?e.add(r):!t&&e.contains(r)&&e.remove(r)};const a="has-focus";t.updateMouseFocusStyle=function(e,t){t&&!e.contains(a)?e.add(a):!t&&e.contains(a)&&e.remove(a)};const s="has-error";t.updateErrorState=function(e,t){t&&!e.contains(s)?e.add(s):!t&&e.contains(s)&&e.remove(s)};const l="has-keyboard-focus";t.updateKeyboardFocusStyle=function(e,t){t&&!e.contains(l)?e.add(l):!t&&e.contains(l)&&e.remove(l)}},lfu7:function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},ljjZ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K").__importStar(n("ERkP"));t.default=({contentId:e,fileId:t,filePreviewUrl:n})=>i.createElement("a",{"data-ally-content-id":e,"data-ally-file-eid":t,"data-ally-file-preview-url":n,style:{display:"none"}})},lkhO:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("ERkP")),r=i.__importDefault(n("aWzz")),a=n("8unJ"),s=n("G0uU"),l=n("3/0u"),u=i.__importDefault(n("412i"));class c extends o.default.Component{constructor(e){super(e),this.state={primaryButtonDisabled:!0,isOpen:!1},this.onAnimationComplete=this.onAnimationComplete.bind(this),this.onCancel=this.onCancel.bind(this),this.onSave=this.onSave.bind(this),this.onClick=this.onClick.bind(this),this.loadWiris=this.loadWiris.bind(this),this.close=this.close.bind(this),this.getImageAndCreateChange=this.getImageAndCreateChange.bind(this)}UNSAFE_componentWillMount(){setTimeout(()=>this.setState({isOpen:!0},this.loadWiris))}loadWiris(){const{courseId:e,currentLocale:t,apiBasePath:n,xsrfToken:i,localize:o}=this.props;this.wirisService=u.default({courseId:e,locale:t,apiBasePath:n,xsrfToken:i}),this.wirisService.newInstance(this.props.isActive?this.props.editorFormat.math.mathml:null).then(e=>{this.wirisEditor=e,e.insertInto(this.wirisDiv),e.focus(),this.setState({primaryButtonDisabled:!1})},()=>{this.wirisDiv.innerHTML=`<div>${o.translate("bbmlEditor.dialogs.math.connectionError")}</div>`})}onCancel(){this.setState({isOpen:!1})}onAnimationComplete(){this.change&&this.props.applyChange(this.change),this.props.destroy()}onClick(e){e.preventDefault(),e.stopPropagation(),this.onSave()}onSave(){this.saveInitiated||(this.saveInitiated=!0,this.setState({primaryButtonDisabled:!0},this.getImageAndCreateChange))}getImageAndCreateChange(){const e=this.wirisEditor.getMathML();if(this.wirisEditor.isFormulaEmpty())return this.change=this.props.createChange("","",e,!0),void this.close();Promise.all([this.wirisService.getMathMLToImageURL(e),this.wirisService.getAltText(e)]).then(([t,n])=>{const i=n&&200===n.status?n.data.result.text:"";this.change=this.props.createChange(t,i,e,!1),this.close()}).catch(()=>this.close())}close(){this.setState({isOpen:!1})}translate(e){return this.props.translate(`dialogs.math.${e}`)}render(){const{localize:e,isActive:t}=this.props;return o.default.createElement(l.Dialog,{hidden:!this.state.isOpen,dialogContentProps:{title:t?e.translate("bbmlEditor.dialogs.math.titleEdit"):e.translate("bbmlEditor.dialogs.math.titleInsert"),showCloseButton:!1,type:l.DialogType.fullHeaderFooter},modalProps:{onDismiss:this.onCancel,onDismissed:this.onAnimationComplete,containerClassName:"modal-math-wiris-editor"},firstFocusableSelector:"ms-Dialog-title",analyticsId:`${t?"editor.modalMath.titleEdit":"editor.modalMath.titleInsert"}`},o.default.createElement("div",{ref:e=>{this.wirisDiv=e},className:"wiris-container"}),o.default.createElement(l.DialogFooter,null,o.default.createElement(s.DefaultButton,{onClick:this.onCancel,analyticsId:`${t?"editor.modal.math.titleEdit":"editor.modal.math.titleInsert"}.cancel`},e.translate("bbmlEditor.dialogs.math.cancel")),o.default.createElement(s.PrimaryButton,{onClick:this.onClick,disabled:this.state.primaryButtonDisabled,analyticsId:t?"editor.modalMath.save":"editor.modalMath.insert"},t?e.translate("bbmlEditor.dialogs.math.save"):e.translate("bbmlEditor.dialogs.math.insert"))))}}t.BaseModalMath=c,c.propTypes={destroy:r.default.func.isRequired,applyChange:r.default.func.isRequired,editorFormat:r.default.shape(),isActive:r.default.bool.isRequired,apiBasePath:r.default.string.isRequired,courseId:r.default.string,xsrfToken:r.default.string.isRequired,createChange:r.default.func.isRequired},c.defaultProps={editorFormat:null,courseId:null},t.default=a.localizedComponentWrapper(c)},"lwQ/":function(e,t,n){"use strict";var i=n("oB8T"),o=n.n(i),r=n("wbTV");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var i,o,r=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(l,e);var t,n,i,a=f(l);function l(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(n=a.call(this,e)).selection=t,n.textNode=document.createTextNode(l.CONTENTS),n.domNode.appendChild(n.textNode),n._length=0,n}return t=l,i=[{key:"value",value:function(){}}],(n=[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(e,t){if(0!==this._length)return c(h(l.prototype),"format",this).call(this,e,t);for(var n=this,i=0;null!=n&&n.statics.scope!==o.a.Scope.BLOCK_BLOT;)i+=n.offset(n.parent),n=n.parent;null!=n&&(this._length=l.CONTENTS.length,n.optimize(),n.formatAt(i,l.CONTENTS.length,e,t),this._length=0)}},{key:"index",value:function(e,t){return e===this.textNode?0:c(h(l.prototype),"index",this).call(this,e,t)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){c(h(l.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var e,t,n,i=this.textNode,a=this.selection.getNativeRange();if(null!=a&&a.start.node===i&&a.end.node===i){var u=[i,a.start.offset,a.end.offset];e=u[0],t=u[1],n=u[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==l.CONTENTS){var c=this.textNode.data.split(l.CONTENTS).join("");this.next instanceof r.default?(e=this.next.domNode,this.next.insertAt(0,c),this.textNode.data=l.CONTENTS):(this.textNode.data=c,this.parent.insertBefore(o.a.create(this.textNode),this),this.textNode=document.createTextNode(l.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=t){var d=s([t,n].map((function(t){return Math.max(0,Math.min(e.data.length,t-1))})),2);return t=d[0],n=d[1],{startNode:e,startOffset:t,endNode:e,endOffset:n}}}}},{key:"update",value:function(e,t){var n=this;if(e.some((function(e){return"characterData"===e.type&&e.target===n.textNode}))){var i=this.restore();i&&(t.range=i)}}},{key:"value",value:function(){return""}}])&&u(t.prototype,n),i&&u(t,i),l}(o.a.Embed);m.blotName="cursor",m.className="ql-cursor",m.tagName="span",m.CONTENTS="\ufeff",t.a=m},mPiH:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FORMATS={Bold:"bold",Italic:"italic",Underline:"underline",Superscript:"superscript",Strike:"strike",Subscript:"subscript",List:"list"};t.INLINE_FORMATS=["font","bold","italic","size","color","strike","underline","superscript","subscript"];t.BLOCK_FORMATS=["header","list","align","lineheight","direction"]},n4qM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K").__importDefault(n("JOC4"));t.default=e=>new Promise((t,n)=>{const o=document.getElementById("browseForFiles");o&&o.remove();const r=document.createElement("input");r.id="browseForFiles",r.classList.add("sr-only"),r.tabIndex="-1",r.role="presentation",r.type="file",r.multiple=!!e,r.onchange=e=>{const o=e.target.files;r.remove();for(let e=0;e<o.length;e+=1)if(o[e].size>i.default.maxFileSize){const t=new Error("File is larger than the maximum file size");return t.file=o[e],t.maxFileMB=i.default.maxFileMB,void n(t)}t(o)},document.body.appendChild(r);document.querySelector(".data-e2e-simulate-file-input")||r.click()})},n580:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("ERkP")),r=i.__importDefault(n("aWzz")),a=n("8unJ"),s=n("gh1U"),l=i.__importDefault(n("2x8N")),u=i.__importDefault(n("yf/r")),c=n("Cb59");class d extends o.default.Component{constructor(e){super(e),this.origin=new URL(e.srcURL).origin,this.postBackMashupInitConfig=this.postBackMashupInitConfig.bind(this),this.receiveMessage=this.receiveMessage.bind(this),this.onCancel=this.onCancel.bind(this),this.onInsert=this.onInsert.bind(this),this.onAnimationComplete=this.onAnimationComplete.bind(this),this.state={isOpen:!1,content:null}}UNSAFE_componentWillMount(){window.addEventListener("message",this.receiveMessage,!1),setTimeout(()=>this.setState({isOpen:!0}))}componentWillUnmount(){window.removeEventListener("message",this.receiveMessage)}postBackMashupInitConfig(){this.iframeEl||(this.iframeEl=this.iframeContainerEl.getElementsByTagName("iframe")[0]);const e={apiBasePath:this.props.apiBasePath,xsrfToken:this.props.xsrfToken,locale:this.props.currentLocale,isRtl:this.props.isRtl};let t;t=this.props.editingData?c.makeInitContentEditMessage(e,this.props.editingData):c.makeInitContentCreateMessage(e),this.iframeEl.contentWindow.postMessage(t,this.origin)}receiveMessage(e){if(new URL(this.props.srcURL).origin===e.origin)switch(e.data.messageType){case u.default.incoming.pageLoaded:this.postBackMashupInitConfig();break;case u.default.incoming.canceled:this.onCancel();break;case u.default.incoming.contentReady:this.onInsert(e.data)}}onCancel(){this.setState({isOpen:!1})}onInsert(e){this.setState({isOpen:!1,content:e})}onAnimationComplete(){this.state.content&&this.props.applyChange(l.default(this.state.content)),this.props.destroy()}render(){const{srcURL:e,localize:t}=this.props;return o.default.createElement(s.Modal,{containerClassName:"modal-youtube-video-provider",isBlocking:!1,isOpen:this.state.isOpen,onDismiss:this.onCancel,onDismissed:this.onAnimationComplete},o.default.createElement("div",{className:"iframe-container",ref:e=>{this.iframeContainerEl=e}},this.state.isOpen&&o.default.createElement("iframe",{title:t.translate("bbmlEditor.dialogs.youtubeVideoProviderModal.title"),src:e,frameBorder:0,className:"js-editor-video-container"})))}}d.propTypes={apiBasePath:r.default.string.isRequired,applyChange:r.default.func.isRequired,destroy:r.default.func.isRequired,editingData:r.default.shape(),srcURL:r.default.string.isRequired,xsrfToken:r.default.string.isRequired},d.defaultProps={editingData:null},t.default=a.localizedComponentWrapper(d)},nSiq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("toH1")),r=i.__importDefault(n("SOWH")),a=i.__importDefault(n("hOhB")),s=i.__importDefault(n("2B5A")),l=n("zyx7");n("kxzk");const u="video",c=e=>!(!e.isReadOnly||e.isDisabled);function d(e){return{id:u,cssClass:`${u}`,iconName:"video",iconComponent:l.Video,isDialog:!0,isActive:e=>!!e[u],onClick:({showModal:t,...n})=>{t(o.default,{...e,...n})}}}const f=[`[data-bbtype="${u}"][data-bbfile]`],p={type:"embed",tagName:"div",attributes:{"data-bbtype":u,"data-bbfile":null},renderDomNode:(e,t,n,i)=>{const o=JSON.parse(n.bbfile),a=!s.default.some(e=>o.src&&o.src.toLowerCase().endsWith(e)),l=document.createElement("div");let u,d;if(l.classList.add("bb-video-embed"),a)u=(({bbFile:e,editorProps:t})=>{const n=document.createElement("iframe");return n.frameBorder=0,n.setAttribute("allowFullScreen",""),n.tabIndex=c(t)?"0":"-1",n.src=e.src,n.classList.add("no-select"),n})({bbFile:o,editorProps:i});else{const e=(({bbFile:e,editorProps:t})=>{const{localize:n,isReadOnly:i,isDisabled:o}=t,r=document.createElement("video");r.autoplay=!1,r.controls=!(!i||o),r.playsinline=!0,r.src=e.src,r.classList.add("no-select");const a=document.createElement("div");return a.classList.add("video-placeholder"),a.classList.add("no-select"),c(t)&&a.classList.add("hidden"),a.innerHTML=`\n        <span class="video-placeholder-icon"></span>\n        <span class="video-title">${e.alt}</span>\n        <span class="placeholder-disclaimer">${n.translate("bbmlEditor.components.editor.noInlineVideo")}</span>\n        <a tabIndex="-1" href="${e.src}" class="video-preview-link" target="_blank">${n.translate("bbmlEditor.components.editor.watchInNewTab")}</a>\n    `,{frameEl:r,placeholderEl:a}})({bbFile:o,editorProps:i});u=e.frameEl,d=e.placeholderEl}a||l.appendChild(d),l.appendChild(u);const f=r.default(e,t,n);return f.contentEditable=!1,f.classList.add("wants-props-update"),f.formatComponent=e=>{u.tabIndex=!e.isReadOnly||e.isDisabled?"-1":"0",u.controls=!(!e.isReadOnly||e.isDisabled),a||(c(e)?(d.classList.add("hidden"),u.classList.remove("hidden")):(d.classList.remove("hidden"),u.classList.add("hidden")))},f.formatComponent(i),f.appendChild(l),f}};function h(e,t){const n=JSON.parse(t.bbfile);return`<a href="${n.src}" data-bbtype="${u}" data-bbfile="${a.default(t.bbfile)}">${n.alt}</a>`}t.default=e=>({pluginId:u,buttonConfig:d(e),matchers:f,formatter:p,toBbML:h})},nVdv:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K").__importDefault(n("ggb3"));t.default=function(e,t,n){return i.default({url:n,method:"GET",headers:{"X-Blackboard-XSRF":t},cancelToken:new i.default.CancelToken(t=>{e.cancelInternal=t})})}},niB6:function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return e.apply(t,n)}}},nuzP:function(e,t,n){"use strict";n.r(t);n("tq6R");var i=n("V6LY"),o=n.n(i),r=n("QvOe"),a=n.n(r),s=n("oB8T"),l=n.n(s),u=n("iH9P"),c=n("lwQ/"),d=n("RSpw"),f=n("2oOw"),p=n("9WnA"),h=n.n(p),m=n("06eB"),b=n.n(m),g=n("YNvz"),y=n.n(g);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var i,o,r=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function O(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var C=/^[ -~]*$/;function S(e,t){return Object.keys(t).reduce((function(n,i){return null==e[i]?n:(t[i]===e[i]?n[i]=t[i]:Array.isArray(t[i])?t[i].indexOf(e[i])<0&&(n[i]=t[i].concat([e[i]])):n[i]=[t[i],e[i]],n)}),{})}var T=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scroll=t,this.delta=this.getDelta()}var t,n,i;return t=e,(n=[{key:"applyDelta",value:function(e){var t=this,n=!1;this.scroll.update();var i=this.scroll.length();return this.scroll.batchStart(),(e=function(e){return e.reduce((function(e,t){if(1===t.insert){var n=h()(t.attributes);return delete n.image,e.insert({image:t.attributes.image},n)}if(null==t.attributes||!0!==t.attributes.list&&!0!==t.attributes.bullet||((t=h()(t)).attributes.list?t.attributes.list="ordered":(t.attributes.list="bullet",delete t.attributes.bullet)),"string"==typeof t.insert){var i=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(i,t.attributes)}return e.push(t)}),new o.a)}(e)).reduce((function(e,o){var r=o.retain||o.delete||o.insert.length||1,s=o.attributes||{};if(null!=o.insert){if("string"==typeof o.insert){var u=o.insert;u.endsWith("\n")&&n&&(n=!1,u=u.slice(0,-1)),e>=i&&!u.endsWith("\n")&&(n=!0),t.scroll.insertAt(e,u);var c=E(t.scroll.line(e),2),f=c[0],p=c[1],h=y()({},Object(d.bubbleFormats)(f));if(f instanceof d.default){var m=E(f.descendant(l.a.Leaf,p),1)[0];h=y()(h,Object(d.bubbleFormats)(m))}s=a.a.attributes.diff(h,s)||{}}else if("object"===v(o.insert)){var b=Object.keys(o.insert)[0];if(null==b)return e;t.scroll.insertAt(e,b,o.insert[b])}i+=r}return Object.keys(s).forEach((function(n){t.scroll.formatAt(e,r,n,s[n])})),e+r}),0),e.reduce((function(e,n){return"number"==typeof n.delete?(t.scroll.deleteAt(e,n.delete),e):e+(n.retain||n.insert.length||1)}),0),this.scroll.batchEnd(),this.update(e)}},{key:"deleteText",value:function(e,t){return this.scroll.deleteAt(e,t),this.update((new o.a).retain(e).delete(t))}},{key:"formatLine",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(i).forEach((function(o){if(null==n.scroll.whitelist||n.scroll.whitelist[o]){var r=n.scroll.lines(e,Math.max(t,1)),a=t;r.forEach((function(t){var r=t.length();if(t instanceof u.a){var s=e-t.offset(n.scroll),l=t.newlineIndex(s+a)-s+1;t.formatAt(s,l,o,i[o])}else t.format(o,i[o]);a-=r}))}})),this.scroll.optimize(),this.update((new o.a).retain(e).retain(t,h()(i)))}},{key:"formatText",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(i).forEach((function(o){n.scroll.formatAt(e,t,o,i[o])})),this.update((new o.a).retain(e).retain(t,h()(i)))}},{key:"getContents",value:function(e,t){return this.delta.slice(e,e+t)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce((function(e,t){return e.concat(t.delta())}),new o.a)}},{key:"getFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],i=[];0===t?this.scroll.path(e).forEach((function(e){var t=E(e,1)[0];t instanceof d.default?n.push(t):t instanceof l.a.Leaf&&i.push(t)})):(n=this.scroll.lines(e,t),i=this.scroll.descendants(l.a.Leaf,e,t));var o=[n,i].map((function(e){if(0===e.length)return{};for(var t=Object(d.bubbleFormats)(e.shift());Object.keys(t).length>0;){var n=e.shift();if(null==n)return t;t=S(Object(d.bubbleFormats)(n),t)}return t}));return y.a.apply(y.a,o)}},{key:"getText",value:function(e,t){return this.getContents(e,t).filter((function(e){return"string"==typeof e.insert})).map((function(e){return e.insert})).join("")}},{key:"insertEmbed",value:function(e,t,n){return this.scroll.insertAt(e,t,n),this.update((new o.a).retain(e).insert(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n)))}},{key:"insertText",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(i).forEach((function(o){n.scroll.formatAt(e,t.length,o,i[o])})),this.update((new o.a).retain(e).insert(t,h()(i)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var e=this.scroll.children.head;return e.statics.blotName===d.default.blotName&&!(e.children.length>1)&&e.children.head instanceof f.default}},{key:"removeFormat",value:function(e,t){var n=this.getText(e,t),i=E(this.scroll.line(e+t),2),r=i[0],a=i[1],s=0,l=new o.a;null!=r&&(s=r instanceof u.a?r.newlineIndex(a)-a+1:r.length()-a,l=r.delta().slice(a,a+s-1).insert("\n"));var c=this.getContents(e,t+s).diff((new o.a).insert(n).concat(l)),d=(new o.a).retain(e).concat(c);return this.applyDelta(d)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(C)&&l.a.find(t[0].target)){var r=l.a.find(t[0].target),a=Object(d.bubbleFormats)(r),s=r.offset(this.scroll),u=t[0].oldValue.replace(c.a.CONTENTS,""),f=(new o.a).insert(u),p=(new o.a).insert(r.value()),h=(new o.a).retain(s).concat(f.diff(p,n));e=h.reduce((function(e,t){return t.insert?e.insert(t.insert,a):e.push(t)}),new o.a),this.delta=i.compose(e)}else this.delta=this.getDelta(),e&&b()(i.compose(e),this.delta)||(e=i.diff(this.delta,n));return e}}])&&O(t.prototype,n),i&&O(t,i),e}(),N=n("UOZ7"),w=n("iZxV"),A=n("UCFG"),x=n("N8r5");function k(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var D=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=n,this.modules={}}var t,n,i;return t=e,(n=[{key:"init",value:function(){var e=this;Object.keys(this.options.modules).forEach((function(t){null==e.modules[t]&&e.addModule(t)}))}},{key:"addModule",value:function(e){var t=this.quill.constructor.import("modules/".concat(e));return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}])&&k(t.prototype,n),i&&k(t,i),e}();D.DEFAULTS={modules:{}},D.themes={default:D};var R=D;function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var i,o,r=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function P(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n.d(t,"expandConfig",(function(){return q})),n.d(t,"overload",(function(){return H})),n.d(t,"default",(function(){return F}));var B=Object(x.a)("quill"),F=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=q(t,i),this.container=this.options.container,null==this.container)return B.error("Invalid Quill container",t);this.options.debug&&e.debug(this.options.debug);var o=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new N.a,this.scroll=l.a.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new T(this.scroll),this.selection=new A.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(N.a.events.EDITOR_CHANGE,(function(e){e===N.a.events.TEXT_CHANGE&&n.root.classList.toggle("ql-blank",n.editor.isBlank())})),this.emitter.on(N.a.events.SCROLL_UPDATE,(function(e,t){var i=n.selection.lastRange,o=i&&0===i.length?i.index:void 0;U.call(n,(function(){return n.editor.update(null,t,o)}),e)}));var r=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">".concat(o,"<p><br></p></div>"));this.setContents(r),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}var t,n,i;return t=e,i=[{key:"debug",value:function(e){!0===e&&(e="log"),x.a.level(e)}},{key:"find",value:function(e){return e.__quill||l.a.find(e)}},{key:"import",value:function(e){return null==this.imports[e]&&B.error("Cannot import ".concat(e,". Are you sure it was registered?")),this.imports[e]}},{key:"register",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof e){var o=e.attrName||e.blotName;"string"==typeof o?this.register("formats/"+o,e,t):Object.keys(e).forEach((function(i){n.register(i,e[i],t)}))}else null==this.imports[e]||i||B.warn("Overwriting ".concat(e," with"),t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&"abstract"!==t.blotName?l.a.register(t):e.startsWith("modules")&&"function"==typeof t.register&&t.register()}}],(n=[{key:"addContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof e){var n=e;(e=document.createElement("div")).classList.add(n)}return this.container.insertBefore(e,t),e}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(e,t,n){var i=this,o=M(H(e,t,n),4);return e=o[0],t=o[1],n=o[3],U.call(this,(function(){return i.editor.deleteText(e,t)}),n,e,-1*t)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}},{key:"focus",value:function(){var e=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=e,this.scrollIntoView()}},{key:"format",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:N.a.sources.API;return U.call(this,(function(){var i=n.getSelection(!0),r=new o.a;if(null==i)return r;if(l.a.query(e,l.a.Scope.BLOCK))r=n.editor.formatLine(i.index,i.length,I({},e,t));else{if(0===i.length)return n.selection.format(e,t),r;r=n.editor.formatText(i.index,i.length,I({},e,t))}return n.setSelection(i,N.a.sources.SILENT),r}),i)}},{key:"formatLine",value:function(e,t,n,i,o){var r,a=this,s=M(H(e,t,n,i,o),4);return e=s[0],t=s[1],r=s[2],o=s[3],U.call(this,(function(){return a.editor.formatLine(e,t,r)}),o,e,0)}},{key:"formatText",value:function(e,t,n,i,o){var r,a=this,s=M(H(e,t,n,i,o),4);return e=s[0],t=s[1],r=s[2],o=s[3],U.call(this,(function(){return a.editor.formatText(e,t,r)}),o,e,0)}},{key:"getBounds",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t="number"==typeof e?this.selection.getBounds(e,n):this.selection.getBounds(e.index,e.length);var i=this.container.getBoundingClientRect();return{bottom:t.bottom-i.top,height:t.height,left:t.left-i.left,right:t.right-i.left,top:t.top-i.top,width:t.width}}},{key:"getContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=H(e,t),i=M(n,2);return e=i[0],t=i[1],this.editor.getContents(e,t)}},{key:"getFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}},{key:"getIndex",value:function(e){return e.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(e){return this.scroll.leaf(e)}},{key:"getLine",value:function(e){return this.scroll.line(e)}},{key:"getLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}},{key:"getModule",value:function(e){return this.theme.modules[e]}},{key:"getSelection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=H(e,t),i=M(n,2);return e=i[0],t=i[1],this.editor.getText(e,t)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(t,n,i){var o=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.sources.API;return U.call(this,(function(){return o.editor.insertEmbed(t,n,i)}),r,t)}},{key:"insertText",value:function(e,t,n,i,o){var r,a=this,s=M(H(e,0,n,i,o),4);return e=s[0],r=s[2],o=s[3],U.call(this,(function(){return a.editor.insertText(e,t,r)}),o,e,t.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(e,t,n){this.clipboard.dangerouslyPasteHTML(e,t,n)}},{key:"removeFormat",value:function(e,t,n){var i=this,o=M(H(e,t,n),4);return e=o[0],t=o[1],n=o[3],U.call(this,(function(){return i.editor.removeFormat(e,t)}),n,e)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N.a.sources.API;return U.call(this,(function(){e=new o.a(e);var n=t.getLength(),i=t.editor.deleteText(0,n),r=t.editor.applyDelta(e),a=r.ops[r.ops.length-1];return null!=a&&"string"==typeof a.insert&&"\n"===a.insert[a.insert.length-1]&&(t.editor.deleteText(t.getLength()-1,1),r.delete(1)),i.compose(r)}),n)}},{key:"setSelection",value:function(t,n,i){if(null==t)this.selection.setRange(null,n||e.sources.API);else{var o=M(H(t,n,i),4);t=o[0],n=o[1],i=o[3],this.selection.setRange(new A.Range(t,n),i),i!==N.a.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N.a.sources.API,n=(new o.a).insert(e);return this.setContents(n,t)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N.a.sources.USER,t=this.scroll.update(e);return this.selection.update(e),t}},{key:"updateContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N.a.sources.API;return U.call(this,(function(){return e=new o.a(e),t.editor.applyDelta(e,n)}),n,!0)}}])&&P(t.prototype,n),i&&P(t,i),e}();function q(e,t){if((t=y()(!0,{container:e,modules:{clipboard:!0,keyboard:!0,history:!0}},t)).theme&&t.theme!==F.DEFAULTS.theme){if(t.theme=F.import("themes/".concat(t.theme)),null==t.theme)throw new Error("Invalid theme ".concat(t.theme,". Did you register it?"))}else t.theme=R;var n=y()(!0,{},t.theme.DEFAULTS);[n,t].forEach((function(e){e.modules=e.modules||{},Object.keys(e.modules).forEach((function(t){!0===e.modules[t]&&(e.modules[t]={})}))}));var i=Object.keys(n.modules).concat(Object.keys(t.modules)).reduce((function(e,t){var n=F.import("modules/".concat(t));return null==n?B.error("Cannot load ".concat(t," module. Are you sure you registered it?")):e[t]=n.DEFAULTS||{},e}),{});return null!=t.modules&&t.modules.toolbar&&t.modules.toolbar.constructor!==Object&&(t.modules.toolbar={container:t.modules.toolbar}),t=y()(!0,{},F.DEFAULTS,{modules:i},n,t),["bounds","container","scrollingContainer"].forEach((function(e){"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))})),t.modules=Object.keys(t.modules).reduce((function(e,n){return t.modules[n]&&(e[n]=t.modules[n]),e}),{}),t}function U(e,t,n,i){if(this.options.strict&&!this.isEnabled()&&t===N.a.sources.USER)return new o.a;var r=null==n?null:this.getSelection(),a=this.editor.delta,s=e();if(null!=r&&(!0===n&&(n=r.index),null==i?r=z(r,s,t):0!==i&&(r=z(r,n,i,t)),this.setSelection(r,N.a.sources.SILENT)),s.length()>0){var l,u,c=[N.a.events.TEXT_CHANGE,s,a,t];if((l=this.emitter).emit.apply(l,[N.a.events.EDITOR_CHANGE].concat(c)),t!==N.a.sources.SILENT)(u=this.emitter).emit.apply(u,c)}return s}function H(e,t,n,i,o){var r={};return"number"==typeof e.index&&"number"==typeof e.length?"number"!=typeof t?(o=i,i=n,n=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!=typeof t&&(o=i,i=n,n=t,t=0),"object"===L(n)?(r=n,o=i):"string"==typeof n&&(null!=i?r[n]=i:o=n),[e,t,r,o=o||N.a.sources.API]}function z(e,t,n,i){if(null==e)return null;var r,a;if(t instanceof o.a){var s=M([e.index,e.index+e.length].map((function(e){return t.transformPosition(e,i!==N.a.sources.USER)})),2);r=s[0],a=s[1]}else{var l=M([e.index,e.index+e.length].map((function(e){return e<t||e===t&&i===N.a.sources.USER?e:n>=0?e+n:Math.max(t,e+n)})),2);r=l[0],a=l[1]}return new A.Range(r,a-r)}F.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},F.events=N.a.events,F.sources=N.a.sources,F.version="undefined"==typeof QUILL_VERSION?"dev":QUILL_VERSION,F.imports={delta:o.a,parchment:l.a,"core/module":w.default,"core/theme":R}},oB8T:function(e,t,n){var i;"undefined"!=typeof self&&self,i=function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=9)}([function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(t){var n=this;return t="[Parchment] "+t,(n=e.call(this,t)||this).message=t,n.name=n.constructor.name,n}return o(t,e),t}(Error);t.ParchmentError=r;var a,s={},l={},u={},c={};function d(e,t){var n;if(void 0===t&&(t=a.ANY),"string"==typeof e)n=c[e]||s[e];else if(e instanceof Text||e.nodeType===Node.TEXT_NODE)n=c.text;else if("number"==typeof e)e&a.LEVEL&a.BLOCK?n=c.block:e&a.LEVEL&a.INLINE&&(n=c.inline);else if(e instanceof HTMLElement){var i=(e.getAttribute("class")||"").split(/\s+/);for(var o in i)if(n=l[i[o]])break;n=n||u[e.tagName]}return null==n?null:t&a.LEVEL&n.scope&&t&a.TYPE&n.scope?n:null}t.DATA_KEY="__blot",function(e){e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY"}(a=t.Scope||(t.Scope={})),t.create=function(e,t){var n=d(e);if(null==n)throw new r("Unable to create "+e+" blot");var i=n,o=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:i.create(t);return new i(o,t)},t.find=function e(n,i){return void 0===i&&(i=!1),null==n?null:null!=n[t.DATA_KEY]?n[t.DATA_KEY].blot:i?e(n.parentNode,i):null},t.query=d,t.register=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(t.length>1)return t.map((function(t){return e(t)}));var i=t[0];if("string"!=typeof i.blotName&&"string"!=typeof i.attrName)throw new r("Invalid definition");if("abstract"===i.blotName)throw new r("Cannot register abstract class");return c[i.blotName||i.attrName]=i,"string"==typeof i.keyName?s[i.keyName]=i:(null!=i.className&&(l[i.className]=i),null!=i.tagName&&(Array.isArray(i.tagName)?i.tagName=i.tagName.map((function(e){return e.toUpperCase()})):i.tagName=i.tagName.toUpperCase(),(Array.isArray(i.tagName)?i.tagName:[i.tagName]).forEach((function(e){null!=u[e]&&null!=i.className||(u[e]=i)})))),i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=function(){function e(e,t,n){void 0===n&&(n={}),this.attrName=e,this.keyName=t;var o=i.Scope.TYPE&i.Scope.ATTRIBUTE;null!=n.scope?this.scope=n.scope&i.Scope.LEVEL|o:this.scope=i.Scope.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}return e.keys=function(e){return[].map.call(e.attributes,(function(e){return e.name}))},e.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)},e.prototype.canAdd=function(e,t){return null!=i.query(e,i.Scope.BLOT&(this.scope|i.Scope.TYPE))&&(null==this.whitelist||("string"==typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1))},e.prototype.remove=function(e){e.removeAttribute(this.keyName)},e.prototype.value=function(e){var t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""},e}();t.default=o},function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),a=n(5),s=n(0),l=function(e){function t(t){var n=e.call(this,t)||this;return n.build(),n}return o(t,e),t.prototype.appendChild=function(e){this.insertBefore(e)},t.prototype.attach=function(){e.prototype.attach.call(this),this.children.forEach((function(e){e.attach()}))},t.prototype.build=function(){var e=this;this.children=new r.default,[].slice.call(this.domNode.childNodes).reverse().forEach((function(t){try{var n=u(t);e.insertBefore(n,e.children.head||void 0)}catch(e){if(e instanceof s.ParchmentError)return;throw e}}))},t.prototype.deleteAt=function(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,(function(e,t,n){e.deleteAt(t,n)}))},t.prototype.descendant=function(e,n){var i=this.children.find(n),o=i[0],r=i[1];return null==e.blotName&&e(o)||null!=e.blotName&&o instanceof e?[o,r]:o instanceof t?o.descendant(e,r):[null,-1]},t.prototype.descendants=function(e,n,i){void 0===n&&(n=0),void 0===i&&(i=Number.MAX_VALUE);var o=[],r=i;return this.children.forEachAt(n,i,(function(n,i,a){(null==e.blotName&&e(n)||null!=e.blotName&&n instanceof e)&&o.push(n),n instanceof t&&(o=o.concat(n.descendants(e,i,r))),r-=a})),o},t.prototype.detach=function(){this.children.forEach((function(e){e.detach()})),e.prototype.detach.call(this)},t.prototype.formatAt=function(e,t,n,i){this.children.forEachAt(e,t,(function(e,t,o){e.formatAt(t,o,n,i)}))},t.prototype.insertAt=function(e,t,n){var i=this.children.find(e),o=i[0],r=i[1];if(o)o.insertAt(r,t,n);else{var a=null==n?s.create("text",t):s.create(t,n);this.appendChild(a)}},t.prototype.insertBefore=function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some((function(t){return e instanceof t})))throw new s.ParchmentError("Cannot insert "+e.statics.blotName+" into "+this.statics.blotName);e.insertInto(this,t)},t.prototype.length=function(){return this.children.reduce((function(e,t){return e+t.length()}),0)},t.prototype.moveChildren=function(e,t){this.children.forEach((function(n){e.insertBefore(n,t)}))},t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),0===this.children.length)if(null!=this.statics.defaultChild){var n=s.create(this.statics.defaultChild);this.appendChild(n),n.optimize(t)}else this.remove()},t.prototype.path=function(e,n){void 0===n&&(n=!1);var i=this.children.find(e,n),o=i[0],r=i[1],a=[[this,e]];return o instanceof t?a.concat(o.path(r,n)):(null!=o&&a.push([o,r]),a)},t.prototype.removeChild=function(e){this.children.remove(e)},t.prototype.replace=function(n){n instanceof t&&n.moveChildren(this),e.prototype.replace.call(this,n)},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=this.clone();return this.parent.insertBefore(n,this.next),this.children.forEachAt(e,this.length(),(function(e,i,o){e=e.split(i,t),n.appendChild(e)})),n},t.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},t.prototype.update=function(e,t){var n=this,i=[],o=[];e.forEach((function(e){e.target===n.domNode&&"childList"===e.type&&(i.push.apply(i,e.addedNodes),o.push.apply(o,e.removedNodes))})),o.forEach((function(e){if(!(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var t=s.find(e);null!=t&&(null!=t.domNode.parentNode&&t.domNode.parentNode!==n.domNode||t.detach())}})),i.filter((function(e){return e.parentNode==n.domNode})).sort((function(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1})).forEach((function(e){var t=null;null!=e.nextSibling&&(t=s.find(e.nextSibling));var i=u(e);i.next==t&&null!=i.next||(null!=i.parent&&i.parent.removeChild(n),n.insertBefore(i,t||void 0))}))},t}(a.default);function u(e){var t=s.find(e);if(null==t)try{t=s.create(e)}catch(n){t=s.create(s.Scope.INLINE),[].slice.call(e.childNodes).forEach((function(e){t.domNode.appendChild(e)})),e.parentNode&&e.parentNode.replaceChild(t.domNode,e),t.attach()}return t}t.default=l},function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=n(6),s=n(2),l=n(0),u=function(e){function t(t){var n=e.call(this,t)||this;return n.attributes=new a.default(n.domNode),n}return o(t,e),t.formats=function(e){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},t.prototype.format=function(e,t){var n=l.query(e);n instanceof r.default?this.attributes.attribute(n,t):t&&(null==n||e===this.statics.blotName&&this.formats()[e]===t||this.replaceWith(e,t))},t.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode);return null!=t&&(e[this.statics.blotName]=t),e},t.prototype.replaceWith=function(t,n){var i=e.prototype.replaceWith.call(this,t,n);return this.attributes.copy(i),i},t.prototype.update=function(t,n){var i=this;e.prototype.update.call(this,t,n),t.some((function(e){return e.target===i.domNode&&"attributes"===e.type}))&&this.attributes.build()},t.prototype.wrap=function(n,i){var o=e.prototype.wrap.call(this,n,i);return o instanceof t&&o.statics.scope===this.statics.scope&&this.attributes.move(o),o},t}(s.default);t.default=u},function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),a=n(0),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.value=function(e){return!0},t.prototype.index=function(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},t.prototype.position=function(e,t){var n=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return e>0&&(n+=1),[this.parent.domNode,n]},t.prototype.value=function(){return(e={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,e;var e},t.scope=a.Scope.INLINE_BLOT,t}(r.default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=function(){function e(e){this.domNode=e,this.domNode[i.DATA_KEY]={blot:this}}return Object.defineProperty(e.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),e.create=function(e){if(null==this.tagName)throw new i.ParchmentError("Blot definition missing tagName");var t;return Array.isArray(this.tagName)?("string"==typeof e&&(e=e.toUpperCase(),parseInt(e).toString()===e&&(e=parseInt(e))),t="number"==typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t},e.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},e.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return i.create(e)},e.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[i.DATA_KEY]},e.prototype.deleteAt=function(e,t){this.isolate(e,t).remove()},e.prototype.formatAt=function(e,t,n,o){var r=this.isolate(e,t);if(null!=i.query(n,i.Scope.BLOT)&&o)r.wrap(n,o);else if(null!=i.query(n,i.Scope.ATTRIBUTE)){var a=i.create(this.statics.scope);r.wrap(a),a.format(n,o)}},e.prototype.insertAt=function(e,t,n){var o=null==n?i.create("text",t):i.create(t,n),r=this.split(e);this.parent.insertBefore(o,r)},e.prototype.insertInto=function(e,t){void 0===t&&(t=null),null!=this.parent&&this.parent.children.remove(this);var n=null;e.children.insertBefore(this,t),null!=t&&(n=t.domNode),this.domNode.parentNode==e.domNode&&this.domNode.nextSibling==n||e.domNode.insertBefore(this.domNode,n),this.parent=e,this.attach()},e.prototype.isolate=function(e,t){var n=this.split(e);return n.split(t),n},e.prototype.length=function(){return 1},e.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this==e?0:this.parent.children.offset(this)+this.parent.offset(e)},e.prototype.optimize=function(e){null!=this.domNode[i.DATA_KEY]&&delete this.domNode[i.DATA_KEY].mutations},e.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},e.prototype.replace=function(e){null!=e.parent&&(e.parent.insertBefore(this,e.next),e.remove())},e.prototype.replaceWith=function(e,t){var n="string"==typeof e?i.create(e,t):e;return n.replace(this),n},e.prototype.split=function(e,t){return 0===e?this:this.next},e.prototype.update=function(e,t){},e.prototype.wrap=function(e,t){var n="string"==typeof e?i.create(e,t):e;return null!=this.parent&&this.parent.insertBefore(n,this.next),n.appendChild(this),n},e.blotName="abstract",e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(7),r=n(8),a=n(0),s=function(){function e(e){this.attributes={},this.domNode=e,this.build()}return e.prototype.attribute=function(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])},e.prototype.build=function(){var e=this;this.attributes={};var t=i.default.keys(this.domNode),n=o.default.keys(this.domNode),s=r.default.keys(this.domNode);t.concat(n).concat(s).forEach((function(t){var n=a.query(t,a.Scope.ATTRIBUTE);n instanceof i.default&&(e.attributes[n.attrName]=n)}))},e.prototype.copy=function(e){var t=this;Object.keys(this.attributes).forEach((function(n){var i=t.attributes[n].value(t.domNode);e.format(n,i)}))},e.prototype.move=function(e){var t=this;this.copy(e),Object.keys(this.attributes).forEach((function(e){t.attributes[e].remove(t.domNode)})),this.attributes={}},e.prototype.values=function(){var e=this;return Object.keys(this.attributes).reduce((function(t,n){return t[n]=e.attributes[n].value(e.domNode),t}),{})},e}();t.default=s},function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function r(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter((function(e){return 0===e.indexOf(t+"-")}))}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.keys=function(e){return(e.getAttribute("class")||"").split(/\s+/).map((function(e){return e.split("-").slice(0,-1).join("-")}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(this.keyName+"-"+t),!0)},t.prototype.remove=function(e){r(e,this.keyName).forEach((function(t){e.classList.remove(t)})),0===e.classList.length&&e.removeAttribute("class")},t.prototype.value=function(e){var t=(r(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""},t}(n(1).default);t.default=a},function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function r(e){var t=e.split("-"),n=t.slice(1).map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("");return t[0]+n}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.keys=function(e){return(e.getAttribute("style")||"").split(";").map((function(e){return e.split(":")[0].trim()}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.style[r(this.keyName)]=t,!0)},t.prototype.remove=function(e){e.style[r(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")},t.prototype.value=function(e){var t=e.style[r(this.keyName)];return this.canAdd(e,t)?t:""},t}(n(1).default);t.default=a},function(e,t,n){e.exports=n(10)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=n(3),r=n(4),a=n(12),s=n(13),l=n(14),u=n(15),c=n(16),d=n(1),f=n(7),p=n(8),h=n(6),m=n(0),b={Scope:m.Scope,create:m.create,find:m.find,query:m.query,register:m.register,Container:i.default,Format:o.default,Leaf:r.default,Embed:u.default,Scroll:a.default,Block:l.default,Inline:s.default,Text:c.default,Attributor:{Attribute:d.default,Class:f.default,Style:p.default,Store:h.default}};t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.head=this.tail=null,this.length=0}return e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.insertBefore(e[0],null),e.length>1&&this.append.apply(this,e.slice(1))},e.prototype.contains=function(e){for(var t,n=this.iterator();t=n();)if(t===e)return!0;return!1},e.prototype.insertBefore=function(e,t){e&&(e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)},e.prototype.offset=function(e){for(var t=0,n=this.head;null!=n;){if(n===e)return t;t+=n.length(),n=n.next}return-1},e.prototype.remove=function(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)},e.prototype.iterator=function(e){return void 0===e&&(e=this.head),function(){var t=e;return null!=e&&(e=e.next),t}},e.prototype.find=function(e,t){void 0===t&&(t=!1);for(var n,i=this.iterator();n=i();){var o=n.length();if(e<o||t&&e===o&&(null==n.next||0!==n.next.length()))return[n,e];e-=o}return[null,0]},e.prototype.forEach=function(e){for(var t,n=this.iterator();t=n();)e(t)},e.prototype.forEachAt=function(e,t,n){if(!(t<=0))for(var i,o=this.find(e),r=o[0],a=e-o[1],s=this.iterator(r);(i=s())&&a<e+t;){var l=i.length();e>a?n(i,e-a,Math.min(t,a+l-e)):n(i,0,Math.min(l,e+t-a)),a+=l}},e.prototype.map=function(e){return this.reduce((function(t,n){return t.push(e(n)),t}),[])},e.prototype.reduce=function(e,t){for(var n,i=this.iterator();n=i();)t=e(t,n);return t},e}();t.default=i},function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),a=n(0),s={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},l=function(e){function t(t){var n=e.call(this,t)||this;return n.scroll=n,n.observer=new MutationObserver((function(e){n.update(e)})),n.observer.observe(n.domNode,s),n.attach(),n}return o(t,e),t.prototype.detach=function(){e.prototype.detach.call(this),this.observer.disconnect()},t.prototype.deleteAt=function(t,n){this.update(),0===t&&n===this.length()?this.children.forEach((function(e){e.remove()})):e.prototype.deleteAt.call(this,t,n)},t.prototype.formatAt=function(t,n,i,o){this.update(),e.prototype.formatAt.call(this,t,n,i,o)},t.prototype.insertAt=function(t,n,i){this.update(),e.prototype.insertAt.call(this,t,n,i)},t.prototype.optimize=function(t,n){var i=this;void 0===t&&(t=[]),void 0===n&&(n={}),e.prototype.optimize.call(this,n);for(var o=[].slice.call(this.observer.takeRecords());o.length>0;)t.push(o.pop());for(var s=function(e,t){void 0===t&&(t=!0),null!=e&&e!==i&&null!=e.domNode.parentNode&&(null==e.domNode[a.DATA_KEY].mutations&&(e.domNode[a.DATA_KEY].mutations=[]),t&&s(e.parent))},l=function(e){null!=e.domNode[a.DATA_KEY]&&null!=e.domNode[a.DATA_KEY].mutations&&(e instanceof r.default&&e.children.forEach(l),e.optimize(n))},u=t,c=0;u.length>0;c+=1){if(c>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(u.forEach((function(e){var t=a.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(s(a.find(e.previousSibling,!1)),[].forEach.call(e.addedNodes,(function(e){var t=a.find(e,!1);s(t,!1),t instanceof r.default&&t.children.forEach((function(e){s(e,!1)}))}))):"attributes"===e.type&&s(t.prev)),s(t))})),this.children.forEach(l),o=(u=[].slice.call(this.observer.takeRecords())).slice();o.length>0;)t.push(o.pop())}},t.prototype.update=function(t,n){var i=this;void 0===n&&(n={}),(t=t||this.observer.takeRecords()).map((function(e){var t=a.find(e.target,!0);return null==t?null:null==t.domNode[a.DATA_KEY].mutations?(t.domNode[a.DATA_KEY].mutations=[e],t):(t.domNode[a.DATA_KEY].mutations.push(e),null)})).forEach((function(e){null!=e&&e!==i&&null!=e.domNode[a.DATA_KEY]&&e.update(e.domNode[a.DATA_KEY].mutations||[],n)})),null!=this.domNode[a.DATA_KEY].mutations&&e.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,n),this.optimize(t,n)},t.blotName="scroll",t.defaultChild="block",t.scope=a.Scope.BLOCK_BLOT,t.tagName="DIV",t}(r.default);t.default=l},function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),a=n(0),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.formats=function(n){if(n.tagName!==t.tagName)return e.formats.call(this,n)},t.prototype.format=function(n,i){var o=this;n!==this.statics.blotName||i?e.prototype.format.call(this,n,i):(this.children.forEach((function(e){e instanceof r.default||(e=e.wrap(t.blotName,!0)),o.attributes.copy(e)})),this.unwrap())},t.prototype.formatAt=function(t,n,i,o){null!=this.formats()[i]||a.query(i,a.Scope.ATTRIBUTE)?this.isolate(t,n).format(i,o):e.prototype.formatAt.call(this,t,n,i,o)},t.prototype.optimize=function(n){e.prototype.optimize.call(this,n);var i=this.formats();if(0===Object.keys(i).length)return this.unwrap();var o=this.next;o instanceof t&&o.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}(i,o.formats())&&(o.moveChildren(this),o.remove())},t.blotName="inline",t.scope=a.Scope.INLINE_BLOT,t.tagName="SPAN",t}(r.default);t.default=s},function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),a=n(0),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.formats=function(n){var i=a.query(t.blotName).tagName;if(n.tagName!==i)return e.formats.call(this,n)},t.prototype.format=function(n,i){null!=a.query(n,a.Scope.BLOCK)&&(n!==this.statics.blotName||i?e.prototype.format.call(this,n,i):this.replaceWith(t.blotName))},t.prototype.formatAt=function(t,n,i,o){null!=a.query(i,a.Scope.BLOCK)?this.format(i,o):e.prototype.formatAt.call(this,t,n,i,o)},t.prototype.insertAt=function(t,n,i){if(null==i||null!=a.query(n,a.Scope.INLINE))e.prototype.insertAt.call(this,t,n,i);else{var o=this.split(t),r=a.create(n,i);o.parent.insertBefore(r,o)}},t.prototype.update=function(t,n){navigator.userAgent.match(/Trident/)?this.build():e.prototype.update.call(this,t,n)},t.blotName="block",t.scope=a.Scope.BLOCK_BLOT,t.tagName="P",t}(r.default);t.default=s},function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.formats=function(e){},t.prototype.format=function(t,n){e.prototype.formatAt.call(this,0,this.length(),t,n)},t.prototype.formatAt=function(t,n,i,o){0===t&&n===this.length()?this.format(i,o):e.prototype.formatAt.call(this,t,n,i,o)},t.prototype.formats=function(){return this.statics.formats(this.domNode)},t}(n(4).default);t.default=r},function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),a=n(0),s=function(e){function t(t){var n=e.call(this,t)||this;return n.text=n.statics.value(n.domNode),n}return o(t,e),t.create=function(e){return document.createTextNode(e)},t.value=function(e){var t=e.data;return t.normalize&&(t=t.normalize()),t},t.prototype.deleteAt=function(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)},t.prototype.index=function(e,t){return this.domNode===e?t:-1},t.prototype.insertAt=function(t,n,i){null==i?(this.text=this.text.slice(0,t)+n+this.text.slice(t),this.domNode.data=this.text):e.prototype.insertAt.call(this,t,n,i)},t.prototype.length=function(){return this.text.length},t.prototype.optimize=function(n){e.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},t.prototype.position=function(e,t){return void 0===t&&(t=!1),[this.domNode,e]},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=a.create(this.domNode.splitText(e));return this.parent.insertBefore(n,this.next),this.text=this.statics.value(this.domNode),n},t.prototype.update=function(e,t){var n=this;e.some((function(e){return"characterData"===e.type&&e.target===n.domNode}))&&(this.text=this.statics.value(this.domNode))},t.prototype.value=function(){return this.text},t.blotName="text",t.scope=a.Scope.INLINE_BLOT,t}(r.default);t.default=s}])},e.exports=i()},oHkO:function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.r(t);var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}(l,e);var t,n,i,s=a(l);function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),s.apply(this,arguments)}return t=l,i=[{key:"formats",value:function(e){return this.tagName.indexOf(e.tagName)+1}}],(n=null)&&o(t.prototype,n),i&&o(t,i),l}(n("RSpw").default);u.blotName="header",u.tagName=["H1","H2","H3","H4","H5","H6"],t.default=u},"om/Z":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16)}`)}},oo3j:function(e,t,n){"use strict";var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function o(){this.message="String contains an invalid character"}o.prototype=new Error,o.prototype.code=5,o.prototype.name="InvalidCharacterError",e.exports=function(e){for(var t,n,r=String(e),a="",s=0,l=i;r.charAt(0|s)||(l="=",s%1);a+=l.charAt(63&t>>8-s%1*8)){if((n=r.charCodeAt(s+=.75))>255)throw new o;t=t<<8|n}return a}},pCoU:function(e,t,n){"use strict";n.r(t),n.d(t,"ListItem",(function(){return g})),n.d(t,"default",(function(){return y}));var i=n("oB8T"),o=n.n(i),r=n("RSpw"),a=n("6spW");function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function d(e,t,n){return(d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){f(n,e);var t=h(n);function n(){return l(this,n),t.apply(this,arguments)}return c(n,[{key:"format",value:function(e,t){e!==y.blotName||t?d(b(n.prototype),"format",this).call(this,e,t):this.replaceWith(o.a.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():d(b(n.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(e,t){return this.parent.isolate(this.offset(this.parent),this.length()),e===this.parent.statics.blotName?(this.parent.replaceWith(e,t),this):(this.parent.unwrap(),d(b(n.prototype),"replaceWith",this).call(this,e,t))}}],[{key:"formats",value:function(e){return e.tagName===this.tagName?void 0:d(b(n),"formats",this).call(this,e)}}]),n}(r.default);g.blotName="list-item",g.tagName="LI";var y=function(e){f(n,e);var t=h(n);function n(e){var i;l(this,n),i=t.call(this,e);var r=function(t){if(t.target.parentNode===e){var n=i.statics.formats(e),r=o.a.find(t.target);"checked"===n?r.format("list","unchecked"):"unchecked"===n&&r.format("list","checked")}};return e.addEventListener("touchstart",r),e.addEventListener("mousedown",r),i}return c(n,[{key:"format",value:function(e,t){this.children.length>0&&this.children.tail.format(e,t)}},{key:"formats",value:function(){return e={},t=this.statics.blotName,n=this.statics.formats(this.domNode),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e;var e,t,n}},{key:"insertBefore",value:function(e,t){if(e instanceof g)d(b(n.prototype),"insertBefore",this).call(this,e,t);else{var i=null==t?this.length():t.offset(this),o=this.split(i);o.parent.insertBefore(e,o)}}},{key:"optimize",value:function(e){d(b(n.prototype),"optimize",this).call(this,e);var t=this.next;null!=t&&t.prev===this&&t.statics.blotName===this.statics.blotName&&t.domNode.tagName===this.domNode.tagName&&t.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(t.moveChildren(this),t.remove())}},{key:"replace",value:function(e){if(e.statics.blotName!==this.statics.blotName){var t=o.a.create(this.statics.defaultChild);e.moveChildren(t),this.appendChild(t)}d(b(n.prototype),"replace",this).call(this,e)}}],[{key:"create",value:function(e){var t="ordered"===e?"OL":"UL",i=d(b(n),"create",this).call(this,t);return"checked"!==e&&"unchecked"!==e||i.setAttribute("data-checked","checked"===e),i}},{key:"formats",value:function(e){return"OL"===e.tagName?"ordered":"UL"===e.tagName?e.hasAttribute("data-checked")?"true"===e.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),n}(a.default);y.blotName="list",y.scope=o.a.Scope.BLOCK_BLOT,y.tagName=["OL","UL"],y.defaultChild="list-item",y.allowedChildren=[g]},pLwJ:function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n("uKq7"),r=n("06eB"),a=n("YNvz"),s=n("8W6P"),l=String.fromCharCode(0),u=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};u.prototype.insert=function(e,t){var n={};return 0===e.length?this:(n.insert=e,null!=t&&"object"===i(t)&&Object.keys(t).length>0&&(n.attributes=t),this.push(n))},u.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},u.prototype.retain=function(e,t){if(e<=0)return this;var n={retain:e};return null!=t&&"object"===i(t)&&Object.keys(t).length>0&&(n.attributes=t),this.push(n)},u.prototype.push=function(e){var t=this.ops.length,n=this.ops[t-1];if(e=a(!0,{},e),"object"===i(n)){if("number"==typeof e.delete&&"number"==typeof n.delete)return this.ops[t-1]={delete:n.delete+e.delete},this;if("number"==typeof n.delete&&null!=e.insert&&(t-=1,"object"!==i(n=this.ops[t-1])))return this.ops.unshift(e),this;if(r(e.attributes,n.attributes)){if("string"==typeof e.insert&&"string"==typeof n.insert)return this.ops[t-1]={insert:n.insert+e.insert},"object"===i(e.attributes)&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof n.retain)return this.ops[t-1]={retain:n.retain+e.retain},"object"===i(e.attributes)&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},u.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},u.prototype.filter=function(e){return this.ops.filter(e)},u.prototype.forEach=function(e){this.ops.forEach(e)},u.prototype.map=function(e){return this.ops.map(e)},u.prototype.partition=function(e){var t=[],n=[];return this.forEach((function(i){(e(i)?t:n).push(i)})),[t,n]},u.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},u.prototype.changeLength=function(){return this.reduce((function(e,t){return t.insert?e+s.length(t):t.delete?e-t.delete:e}),0)},u.prototype.length=function(){return this.reduce((function(e,t){return e+s.length(t)}),0)},u.prototype.slice=function(e,t){e=e||0,"number"!=typeof t&&(t=1/0);for(var n=[],i=s.iterator(this.ops),o=0;o<t&&i.hasNext();){var r;o<e?r=i.next(e-o):(r=i.next(t-o),n.push(r)),o+=s.length(r)}return new u(n)},u.prototype.compose=function(e){for(var t=s.iterator(this.ops),n=s.iterator(e.ops),i=new u;t.hasNext()||n.hasNext();)if("insert"===n.peekType())i.push(n.next());else if("delete"===t.peekType())i.push(t.next());else{var o=Math.min(t.peekLength(),n.peekLength()),r=t.next(o),a=n.next(o);if("number"==typeof a.retain){var l={};"number"==typeof r.retain?l.retain=o:l.insert=r.insert;var c=s.attributes.compose(r.attributes,a.attributes,"number"==typeof r.retain);c&&(l.attributes=c),i.push(l)}else"number"==typeof a.delete&&"number"==typeof r.retain&&i.push(a)}return i.chop()},u.prototype.concat=function(e){var t=new u(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},u.prototype.diff=function(e,t){if(this.ops===e.ops)return new u;var n=[this,e].map((function(t){return t.map((function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:l;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")})).join("")})),i=new u,a=o(n[0],n[1],t),c=s.iterator(this.ops),d=s.iterator(e.ops);return a.forEach((function(e){for(var t=e[1].length;t>0;){var n=0;switch(e[0]){case o.INSERT:n=Math.min(d.peekLength(),t),i.push(d.next(n));break;case o.DELETE:n=Math.min(t,c.peekLength()),c.next(n),i.delete(n);break;case o.EQUAL:n=Math.min(c.peekLength(),d.peekLength(),t);var a=c.next(n),l=d.next(n);r(a.insert,l.insert)?i.retain(n,s.attributes.diff(a.attributes,l.attributes)):i.push(l).delete(n)}t-=n}})),i.chop()},u.prototype.eachLine=function(e,t){t=t||"\n";for(var n=s.iterator(this.ops),i=new u,o=0;n.hasNext();){if("insert"!==n.peekType())return;var r=n.peek(),a=s.length(r)-n.peekLength(),l="string"==typeof r.insert?r.insert.indexOf(t,a)-a:-1;if(l<0)i.push(n.next());else if(l>0)i.push(n.next(l));else{if(!1===e(i,n.next(1).attributes||{},o))return;o+=1,i=new u}}i.length()>0&&e(i,{},o)},u.prototype.transform=function(e,t){if(t=!!t,"number"==typeof e)return this.transformPosition(e,t);for(var n=s.iterator(this.ops),i=s.iterator(e.ops),o=new u;n.hasNext()||i.hasNext();)if("insert"!==n.peekType()||!t&&"insert"===i.peekType())if("insert"===i.peekType())o.push(i.next());else{var r=Math.min(n.peekLength(),i.peekLength()),a=n.next(r),l=i.next(r);if(a.delete)continue;l.delete?o.push(l):o.retain(r,s.attributes.transform(a.attributes,l.attributes,t))}else o.retain(s.length(n.next()));return o.chop()},u.prototype.transformPosition=function(e,t){t=!!t;for(var n=s.iterator(this.ops),i=0;n.hasNext()&&i<=e;){var o=n.peekLength(),r=n.peekType();n.next(),"delete"!==r?("insert"===r&&(i<e||!t)&&(e+=o),i+=o):e-=Math.min(o,e-i)}return e},e.exports=u},pQXz:function(e,t,n){"use strict";var i=n("M44J");e.exports=function(e,t,n,o,r){var a=new Error(e);return i(a,t,n,o,r)}},pRTq:function(e,t,n){e.exports=n("L+Of")},pWQM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("ERkP")),r=n("8unJ"),a=i.__importDefault(n("aWzz")),s=n("G0uU"),l=i.__importStar(n("3/0u"));class u extends o.default.Component{constructor(e){super(e),this.onDismiss=this.onDismiss.bind(this)}onDismiss(){this.props.destroy()}render(){const{localize:e,file:t,maxFileMB:n}=this.props,i=e.translate("bbmlEditor.buttons.cancel");return o.default.createElement(l.default,{hidden:!1,onDismiss:this.onDismiss,dialogContentProps:{title:e.translate("bbmlEditor.dialogs.insertLocalFile.titleInsert"),showCloseButton:!1},modalProps:{isAlert:!0,containerClassName:"modal-max-file-size"},firstFocusableSelector:"ms-Dialog-title",analyticsId:"editor.dialogs.insertLocalFile.titleInsert"},o.default.createElement("div",null,o.default.createElement("div",{className:"file-progress-container no-indicator"},o.default.createElement("div",{className:"file-name no-longtext no-select"},t.name)),o.default.createElement("div",{className:"upload-error-message"},e.translate("bbmlEditor.dialogs.insertLocalFile.maxFileSizeError",{maxFileMB:n})),o.default.createElement("br",null),o.default.createElement(l.DialogFooter,null,o.default.createElement(s.DefaultButton,{onClick:this.onDismiss,analyticsId:"editor.modalMaxFileSizeError.cancel"},i))))}}u.propTypes={destroy:a.default.func.isRequired,file:a.default.shape({lastModified:a.default.number,name:a.default.string,size:a.default.number,type:a.default.type}).isRequired,maxFileMB:a.default.number.isRequired},t.default=r.localizedComponentWrapper(u)},ppHI:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("5dj2")),r=i.__importDefault(n("0isv"));t.default=function(e,t,n,i){let a=t.index,s=t.length;if(!e)return void n.setSelection(a,s,o.default.sources.USER);(Array.isArray(e)?e:[e]).forEach(e=>{const t=!!e.insert,l=t&&s>0,u="string"==typeof e.insert?e.insert:"",c=u.length>0,d="object"==typeof e.format?e.format:{},f=Object.keys(d).length>0;if(l&&n.deleteText(a,s,o.default.sources.USER),t&&c&&!f)n.insertText(a,u),a+=u.length,s=0,n.setSelection(a,s,o.default.sources.USER);else if(f){const e=Object.keys(d).filter(e=>"object"!=typeof d[e]),l=Object.keys(d).filter(e=>"object"==typeof d[e]),f=l.length>0?l.shift():null,p=f&&d[f];t&&c?(f?n.insertText(a,u,f,p,o.default.sources.USER):n.insertText(a,u,o.default.sources.USER),s=u.length,n.setSelection(a,s,o.default.sources.USER)):t&&!c&&(n.insertEmbed(a,f,p,o.default.sources.USER),a+=1,s=0,n.setSelection(a,s,o.default.sources.USER),f&&n.format(f,!1,o.default.sources.USER),(/firefox/i.test(navigator.userAgent)||/^((?!chrome|android).)*safari/i.test(navigator.userAgent))&&r.default(n.container,()=>n.focus())),e.length&&(s>0||!t)&&e.forEach(e=>{const t=d[e];n.format(e,t,o.default.sources.USER)}),t&&c?(a+=u.length,s=0,n.setSelection(a,s,o.default.sources.USER),f?n.insertText(a," ",f,!1,o.default.sources.USER):n.insertText(a," ",o.default.sources.USER),n.deleteText(a,1,o.default.sources.USER),f&&(n.format(f,!1,o.default.sources.USER),i(o.default.events.TEXT_CHANGE))):i(o.default.events.TEXT_CHANGE)}})}},prCu:function(e,t,n){"use strict";t.decode=t.parse=n("r/K9"),t.encode=t.stringify=n("zHZo")},prIK:function(e,t,n){"use strict";n.r(t),n.d(t,"IndentClass",(function(){return f}));var i=n("oB8T"),o=n.n(i);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(r,e);var t,n,i,o=u(r);function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),o.apply(this,arguments)}return t=r,(n=[{key:"add",value:function(e,t){if("+1"===t||"-1"===t){var n=this.value(e)||0;t="+1"===t?n+1:n-1}return 0===t?(this.remove(e),!0):s(d(r.prototype),"add",this).call(this,e,t)}},{key:"canAdd",value:function(e,t){return s(d(r.prototype),"canAdd",this).call(this,e,t)||s(d(r.prototype),"canAdd",this).call(this,e,parseInt(t))}},{key:"value",value:function(e){return parseInt(s(d(r.prototype),"value",this).call(this,e))||void 0}}])&&a(t.prototype,n),i&&a(t,i),r}(o.a.Attributor.Class))("indent","ql-indent",{scope:o.a.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]})},qK4a:function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.r(t);var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(n,e);var t=r(n);function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t.apply(this,arguments)}return n}(n("EROk").default);l.blotName="strike",l.tagName="S",t.default=l},qNMA:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i={tagOpener:"<",tagCloser:">",doubleQuote:'"',ampersand:"&",quote:"'"},o={tagOpener:"",tagCloser:"",doubleQuote:"",ampersand:"",quote:"`",realDoubleQuote:""},r={tagOpener:"&laquo;",tagCloser:"&raquo;",doubleQuote:"&uml;",realDoubleQuote:"&quot;"},a={ltElement:"mo</mo",gtElement:"mo>/mo",ampElement:"mo&/mo"},s={ltElement:"molt;/mo",gtElement:"mogt;/mo",ampElement:"moamp;/mo"};t.MathmlDecode=function(e){if(!e)return e;let t=e;t=(t=(t=(t=t.split(r.tagOpener).join(o.tagOpener)).split(r.tagCloser).join(o.tagCloser)).split(r.doubleQuote).join(o.doubleQuote)).split(r.realDoubleQuote).join(o.realDoubleQuote),"_wrs_blackboard"in window&&window._wrs_blackboard&&(t=(t=(t=t.split(a.ltElement).join(s.ltElement)).split(a.gtElement).join(s.gtElement)).split(a.ampElement).join(s.ampElement)),t=(t=(t=(t=(t=t.split(o.tagOpener).join(i.tagOpener)).split(o.tagCloser).join(i.tagCloser)).split(o.doubleQuote).join(i.doubleQuote)).split(o.ampersand).join(i.ampersand)).split(o.quote).join(i.quote);let n="",l=null;for(let e=0;e<t.length;e+=1){const i=t.charAt(e);null===l?"$"===i?l="":n+=i:";"===i?(n+=`&${l};`,l=null):i.match(/([a-zA-Z0-9#._-] | '-')/)?l+=i:(n+=`$${l}`,l=null,e-=1)}return n},t.MathmlEncode=function(e){if(!e)return e;let t=e;return t=(t=(t=(t=(t=t.split(i.tagOpener).join(o.tagOpener)).split(i.tagCloser).join(o.tagCloser)).split(i.doubleQuote).join(o.doubleQuote)).split(i.ampersand).join(o.ampersand)).split(i.quote).join(o.quote)}},qnX1:function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,o=Object.prototype.toString,r=function(e){return!(i&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===o.call(e)},a=function(e){return!!r(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==o.call(e)&&"[object Function]"===o.call(e.callee)},s=function(){return r(arguments)}();r.isLegacyArguments=a,e.exports=s?r:a},qvwg:function(e,t,n){"use strict";var i=n("BP9p"),o=n("E7j9");e.exports=function(e,t){return e&&!i(t)?o(e,t):t}},qzA1:function(e,t,n){"use strict";n.r(t)},"r/K9":function(e,t,n){"use strict";function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,r){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var l=1e3;r&&"number"==typeof r.maxKeys&&(l=r.maxKeys);var u=e.length;l>0&&u>l&&(u=l);for(var c=0;c<u;++c){var d,f,p,h,m=e[c].replace(s,"%20"),b=m.indexOf(n);b>=0?(d=m.substr(0,b),f=m.substr(b+1)):(d=m,f=""),p=decodeURIComponent(d),h=decodeURIComponent(f),i(a,p)?o(a[p])?a[p].push(h):a[p]=[a[p],h]:a[p]=h}return a};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},rFSu:function(e,t,n){"use strict";var i=n("P0jV");e.exports=function(e,t){i.forEach(e,(function(n,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[i])}))}},rbFJ:function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.r(t);var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,n,i,l=s(c);function c(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),l.apply(this,arguments)}return t=c,i=[{key:"create",value:function(){return r(u(c),"create",this).call(this)}},{key:"formats",value:function(){return!0}}],(n=[{key:"optimize",value:function(e){r(u(c.prototype),"optimize",this).call(this,e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}])&&o(t.prototype,n),i&&o(t,i),c}(n("EROk").default);c.blotName="bold",c.tagName=["STRONG","B"],t.default=c},riqF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("ERkP")),r=i.__importDefault(n("aWzz")),a=i.__importDefault(n("O94r")),s=n("8unJ"),l=n("myse"),u=i.__importDefault(n("ii0J")),c=i.__importDefault(n("UrUg")),d=n("/Tr/"),f=i.__importStar(n("ZyyF"));n("I3/E");class p extends o.default.Component{constructor(e){if(super(e),this.onNavigatorChange=this.onNavigatorChange.bind(this),e.sharedNavigator){this.navigator=e.sharedNavigator;const t=e.children.filter(e=>!e.props.isHideable);this.navigator.updateToolbarButtons(t,this.props.useSharedNavigator),this.navigator.setOnAdditionalChange(this.onNavigatorChange)}else this.navigator=new f.default(e.children,e.addKeyDownHandler,e.toolbarActionComplete,this.onNavigatorChange,e.resetMenu),e.shareNavigator&&e.shareNavigator(this.navigator);this.state=this.navigator.getIndexes()}componentDidMount(){this.toolbarRoot.addEventListener("mousedown",d.stopEvent),this.props.isSubmenuToolbar&&this.props.hasKeyboardFocus&&this.navigator.selectFirstButton()}UNSAFE_componentWillReceiveProps(e){const{currentMenuIndex:t}=this.state,{hasKeyboardFocus:n,editorHasTableSelected:i}=e,{useSharedNavigator:o}=this.props;this.navigator.setSubmenuToolbar(this.props.isSubmenuToolbar),this.navigator.setSubToolbarOpen(this.props.isSubToolbarOpen),this.navigator.setAdditionalToolbar(o),this.navigator.setAdditionalToolbarVisible(i),this.props.hasKeyboardFocus!==n&&n&&!o?this.navigator.selectFirstButton():this.props.hasKeyboardFocus===n||n?!1===this.props.hasKeyboardFocus&&t!==f.NO_SELECTION_INDEX&&this.navigator.resetAllMenus():this.navigator.resetAllMenus()}componentWillUnmount(){this.toolbarRoot.removeEventListener("mousedown",d.stopEvent),this.props.useSharedNavigator||this.navigator.destroy()}onNavigatorChange(e){this.toolbarRoot&&this.setState(e)}render(){const e={toolbarActionComplete:this.navigator.resetAllMenus,openSubmenu:this.navigator.openSubmenu,forceOpenSubmenu:this.navigator.forceOpenSubmenu,closeAllMenus:this.navigator.closeAllMenus};let t=0,n=[];this.props.useSharedNavigator?(n=this.props.children.filter(e=>!e.props.isHideable),t=this.navigator.getMenuButtonCount()-n.length):n=this.props.children.filter(e=>!!e);const i=u.default(n,{...this.props,...this.state,...e},null,t);this.navigator.updateToolbarButtons(c.default(i),this.props.useSharedNavigator);const{toolbarId:r,editorId:s}=this.props,l=a.default({"bb-editor-toolbar no-select":!0,"is-disabled":this.props.isDisabled,"is-hidden":this.props.isHidden,"bb-editor-submenu-toolbar":this.props.isSubmenuToolbar});return o.default.createElement("div",{className:l,role:"toolbar","aria-label":r?this.props.localize.translate(`bbmlEditor.toolbar.${r}.axAriaText`):"Text Formatting","aria-controls":s,ref:e=>{this.toolbarRoot=e}},i)}}t.Toolbar=p,p.propTypes={children:r.default.array,addKeyDownHandler:r.default.func.isRequired,editorId:r.default.string,toolbarId:r.default.string,toolbarActionComplete:r.default.func.isRequired,hasKeyboardFocus:r.default.bool,isDisabled:r.default.bool,isRtl:r.default.bool,isSubmenuToolbar:r.default.bool,isSubToolbarOpen:r.default.bool,useSharedNavigator:r.default.bool},p.defaultProps={children:null,editorId:null,toolbarId:null,hasKeyboardFocus:!1,isDisabled:!1,isRtl:!1,isSubmenuToolbar:!1,isSubToolbarOpen:!1,useSharedNavigator:!1},t.default=s.localizedComponentWrapper(l.withAnalytics(p))},rjOT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("aWzz")),r=n("xybc"),a=i.__importDefault(n("iMjE")),s=i.__importDefault(n("jNaF")),l=i.__importDefault(n("8rpy")),u=n("8bV9");n("C2NB");const c="insertCloudStorageIntegrationFile";function d(e){return{id:c,cssClass:c,iconName:"upload-cloud",iconComponent:u.UploadCloud,isDialog:!0,isActive:()=>!1,onClick:({showModal:t,preventBlur:n,...i})=>{n(),l.default({applyChange:i.applyChange,multiple:!0,...e,...i,showModal:t},e.openCloudStorageIntegrationModal,"cloudStorageIntegration").then(n=>{let o=[];n.forEach(({href:s,bbfile:l})=>{n.length>1?o=o.concat(a.default(s,l,!0)):r.ShowEditFileAttachmentModal(l,t,e,i,s)}),o.length>0&&i.applyChange(o)})}}}t.pluginConfigPropType=o.default.shape({apiBasePath:o.default.string.isRequired,xsrfToken:o.default.string.isRequired,courseId:o.default.string,fileLocation:o.default.string,webLocation:o.default.string,openCloudStorageIntegrationModal:o.default.func.isRequired}),t.default=e=>[s.default(e),{pluginId:c,buttonConfig:d(e)}]},s1u4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("aiGC");t.default=i.SizeStyle;t.TEXT_SIZE_10="0.625rem";t.TEXT_SIZE_12="0.75rem";t.TEXT_SIZE_14="0.875rem";t.TEXT_SIZE_18="1.125rem";t.TEXT_SIZE_24="1.5rem";t.TEXT_SIZE_36="2.25rem";t.TEXT_SIZE_48="3rem",i.SizeStyle.whitelist=["0.625rem","0.75rem","0.875rem","1.125rem","1.5rem","2.25rem","3rem","0.714em","0.857em","1em","1.286em","1.714em","2.571em","3.429em"],i.SizeStyle.createChange=(e="0.875rem")=>({format:{size:e}})},s8Gx:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("ERkP")),r=n("8unJ"),a=i.__importDefault(n("aWzz")),s=i.__importStar(n("kY6K")),l=i.__importDefault(n("D2Qr")),u=i.__importDefault(n("vL4I"));class c extends o.default.Component{constructor(e){super(e),this.onDismiss=this.onDismiss.bind(this),this.receiveMessage=this.receiveMessage.bind(this),this.state={isOpen:!1}}UNSAFE_componentWillMount(){this.getRecordLinkPromise=l.default(this.props.service.getRecordLink()).then(e=>{window.addEventListener("message",this.receiveMessage,!1),this.iFrameURLOrigin=e.data.recordUrl,this.setState({isOpen:!0,src:e.data.recordUrl},s.setIframeHeight)})}componentWillUnmount(){this.getRecordLinkPromise.cancel(),window.removeEventListener("message",this.receiveMessage)}onDismiss(){this.setState({isOpen:!1})}receiveMessage(e){const{applyChange:t,localize:n,service:i}=this.props,o=e.data.messageType,r=e.origin,a=e.source;if(this.iFrameURLOrigin&&this.iFrameURLOrigin.startsWith(r))switch(o){case"capture_loaded":a.postMessage({messageType:"capture_loaded_ack"},r);break;case"capture_maximize":a.postMessage({messageType:"capture_maximize_ack"},r);break;case"capture_complete":{const o=n.translate("bbmlEditor.dialogs.collab_video.newRecordingLabel",{date:new Date});i.saveVideo(e.data.uid,o,o).then(i=>{const r=/src="([^"]*)"/.exec(i.data.videoEmbeddedLink)[1];t(u.default({src:r,title:o,alt:o,uuid:e.data.uid,availabilityMessage:n.translate("bbmlEditor.dialogs.collab_video.availabilityInfo")})),this.onDismiss()}).catch(()=>{this.onDismiss()});break}case"capture_close":a.postMessage({messageType:"capture_close_ack"},r)}}render(){const{destroy:e,localize:t,showCloseButton:n}=this.props;return o.default.createElement(s.default,{allowMedia:!0,destroy:e,isOpen:this.state.isOpen,showCloseButton:n,src:this.state.src,title:t.translate("bbmlEditor.dialogs.collab_video.recordingTitle")})}}t.BaseModalVideo=c,c.propTypes={applyChange:a.default.func.isRequired,destroy:a.default.func.isRequired,service:a.default.shape({getRecordLink:a.default.func.isRequired,saveVideo:a.default.func.isRequired}).isRequired,showCloseButton:a.default.bool},c.defaultProps={showCloseButton:!0},t.default=r.localizedComponentWrapper(c)},sMqO:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K").__importDefault(n("jgNF"));t.default=function(e,t,n){const o=[];let r=t;function a(e,t){return n(!0),i.default(e,t,r)}return{setLocaleProps:e=>{r=e},onFileDrop:t=>{if(t.preventDefault(),0===o.length)return;const n=[...t.dataTransfer.files];o.forEach(t=>{t(n,e,a,r.locale)}),function(e){e.dataTransfer.files?e.dataTransfer.files.clear():e.dataTransfer.clearData()}(t)},onFileDragOver:e=>{e.preventDefault()},registerDropHandler:e=>{"function"==typeof e&&o.findIndex(t=>t===e)<0&&o.push(e)},hasDropHandlers:()=>o.length>0}}},t3aq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importStar(n("aWzz")),r=i.__importStar(n("ERkP")),a=i.__importStar(n("7nmT")),s=i.__importStar(n("9ZLq"));t.AllyWidget=s.default,t.WidgetType=s.WidgetType;const l=i.__importDefault(n("ljjZ"));t.AllyContentId=l.default,function(e){e.InstructorFeedback="instructorfeedback"}(t.UpdateEvent||(t.UpdateEvent={})),t.allyServiceShape=o.shape({getXythosIdFromContentFileUrl:o.func,update:o.func,isAvailable:o.func,getIndexMapFromBbML:o.func,onUpdate:o.func,destroyListeners:o.func});const u={renderContentId:(e,t)=>{a.render(r.createElement(l.default,Object.assign({},t)),e)},renderWidget:(e,t)=>{a.render(r.createElement(s.default,Object.assign({},t)),e)},destroyComponent:e=>{a.unmountComponentAtNode(e)}};t.default=u},tB4T:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});t.isMessageTooLong=t=>e.byteLength(t)>196e3}).call(this,n("GmLw").Buffer)},toH1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("ERkP")),r=n("8unJ"),a=i.__importDefault(n("aWzz")),s=i.__importDefault(n("5XwT")),l=n("G0uU"),u=n("3/0u"),c=n("8h7I"),d=i.__importDefault(n("gCTi")),f=n("QjXM"),p=i.__importDefault(n("2B5A")),h=n("Ir8P");class m extends o.default.Component{constructor(e){super(e);let t="",n="";if(e.editorFormat.video){const i=JSON.parse(e.editorFormat.video.bbfile);t=i.alt,n=i.src}this.state={alt:t,src:n,isOpen:!1},this.isValid=this.isValid.bind(this),this.onSrcChange=this.onSrcChange.bind(this),this.onAltChange=this.onAltChange.bind(this),this.onCancel=this.onCancel.bind(this),this.onAnimationComplete=this.onAnimationComplete.bind(this),this.onSave=this.onSave.bind(this),this.getErrorMessage=this.getErrorMessage.bind(this),this.getSrcLabel=this.getSrcLabel.bind(this),this.getAltLabel=this.getAltLabel.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.onClick=this.onClick.bind(this)}UNSAFE_componentWillMount(){setTimeout(()=>this.setState({isOpen:!0}))}onCancel(){this.setState({isOpen:!1})}onAnimationComplete(){this.saveInitiated&&this.props.applyChange(d.default(this.state.src,this.state.alt,this.props.editorFormat.video)),this.props.destroy()}async onSave(){const e=await f.parseMediaUrl(this.state.src);this.isValid()&&!this.saveInitiated&&(this.saveInitiated=!0,this.setState({isOpen:!1,src:e}))}onKeyDown(e){e.keyCode===s.default.ENTER&&(e.preventDefault(),e.stopPropagation(),this.onSave())}onClick(e){e.preventDefault(),e.stopPropagation(),this.onSave()}onSrcChange(e){this.setState({src:e})}onAltChange(e){this.setState({alt:e})}getErrorCode(e){if(""===e.trim())return"bbmlEditor.dialogs.media.errorMessage";if(!h.isUrlWhitelisted(e)){return p.default.some(t=>e.toLowerCase().endsWith(t))?null:"bbmlEditor.dialogs.media.errorMessageOrigin"}return!e.toLowerCase().includes("youtube.com")&&e.toLowerCase().includes("feature=youtu.be")?"bbmlEditor.dialogs.media.errorMessageOrigin":null}getErrorMessage(e){const t=this.getErrorCode(e);return t?this.props.localize.translate(t):""}getSrcLabel(){return this.props.localize.translate("bbmlEditor.dialogs.media.srcLabel")}getAltLabel(){return this.props.localize.translate("bbmlEditor.dialogs.media.altLabel")}isValid(){return!this.getErrorCode(this.state.src)}render(){const{editorFormat:e,localize:t}=this.props,n=t.translate("bbmlEditor.buttons.cancel"),i=e.video?t.translate("bbmlEditor.buttons.save"):t.translate("bbmlEditor.buttons.insert");return o.default.createElement(u.Dialog,{hidden:!this.state.isOpen,dialogContentProps:{title:e.video?t.translate("bbmlEditor.dialogs.media.titleEdit"):t.translate("bbmlEditor.dialogs.media.titleInsert"),type:u.DialogType.fullHeaderFooter,showCloseButton:!1},modalProps:{onDismiss:this.onCancel,onDismissed:this.onAnimationComplete},firstFocusableSelector:"ms-Dialog-title",analyticsId:`editor.${e.video?"dialogs.video.titleEdit":"dialogs.video.titleInsert"}`},o.default.createElement(c.TextField,{className:"required",label:this.getSrcLabel(),value:this.state.src,onChanged:this.onSrcChange,onKeyDown:this.onKeyDown,onGetErrorMessage:this.getErrorMessage,errorAnchor:this.getErrorCode(this.state.src)&&0===this.getErrorCode(this.state.src).localeCompare("dialogs.media.errorMessageOrigin")?{anchorText:this.props.localize.translate("bbmlEditor.dialogs.media.supportedSites"),anchorHref:"http://help.blackboard.com/001_621en_US"}:{},validateOnLoad:!1,validateOnFocusOut:!0,analyticsId:"editor.dialogs.video.srcLabel.textField",required:!0}),o.default.createElement(c.TextField,{label:this.getAltLabel(),value:this.state.alt,onChanged:this.onAltChange,onKeyDown:this.onKeyDown,analyticsId:"editor.dialogs.video.altLabel.textField"}),o.default.createElement("br",null),o.default.createElement(u.DialogFooter,null,o.default.createElement(l.DefaultButton,{onClick:this.onCancel,analyticsId:`${e.video?"editor.dialogs.video.titleEdit":"editor.dialogs.video.titleInsert"}.cancel`},n),o.default.createElement(l.PrimaryButton,{onClick:this.onClick,disabled:!this.isValid(),analyticsId:`${e.video?"editor.dialogs.video.titleEdit":"editor.dialogs.video.titleInsert"}.save.button`},i)))}}t.BaseModalMedia=m,m.propTypes={destroy:a.default.func.isRequired,applyChange:a.default.func.isRequired,editorFormat:a.default.shape()},m.defaultProps={editorFormat:{}},t.default=r.localizedComponentWrapper(m)},tq6R:function(e,t){var n=document.createElement("div");if(n.classList.toggle("test-class",!1),n.classList.contains("test-class")){var i=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return arguments.length>1&&!this.contains(e)==!t?t:i.call(this,e)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var n=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>n.length)&&(t=n.length),t-=e.length;var i=n.indexOf(e,t);return-1!==i&&i===t}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),i=n.length>>>0,o=arguments[1],r=0;r<i;r++)if(t=n[r],e.call(o,t,r,n))return t}}),document.addEventListener("DOMContentLoaded",(function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)}))},"u+7u":function(e,t,n){"use strict";n.r(t)},uKq7:function(e,t){var n=-1,i=1,o=0;function r(e,t,u){if(e==t)return e?[[o,e]]:[];(u<0||e.length<u)&&(u=null);var d=s(e,t),f=e.substring(0,d);d=l(e=e.substring(d),t=t.substring(d));var p=e.substring(e.length-d),h=function(e,t){var u;if(!e)return[[i,t]];if(!t)return[[n,e]];var c=e.length>t.length?e:t,d=e.length>t.length?t:e,f=c.indexOf(d);if(-1!=f)return u=[[i,c.substring(0,f)],[o,d],[i,c.substring(f+d.length)]],e.length>t.length&&(u[0][0]=u[2][0]=n),u;if(1==d.length)return[[n,e],[i,t]];var p=function(e,t){var n=e.length>t.length?e:t,i=e.length>t.length?t:e;if(n.length<4||2*i.length<n.length)return null;function o(e,t,n){for(var i,o,r,a,u=e.substring(n,n+Math.floor(e.length/4)),c=-1,d="";-1!=(c=t.indexOf(u,c+1));){var f=s(e.substring(n),t.substring(c)),p=l(e.substring(0,n),t.substring(0,c));d.length<p+f&&(d=t.substring(c-p,c)+t.substring(c,c+f),i=e.substring(0,n-p),o=e.substring(n+f),r=t.substring(0,c-p),a=t.substring(c+f))}return 2*d.length>=e.length?[i,o,r,a,d]:null}var r,a,u,c,d,f=o(n,i,Math.ceil(n.length/4)),p=o(n,i,Math.ceil(n.length/2));if(!f&&!p)return null;r=p?f&&f[4].length>p[4].length?f:p:f;e.length>t.length?(a=r[0],u=r[1],c=r[2],d=r[3]):(c=r[0],d=r[1],a=r[2],u=r[3]);var h=r[4];return[a,u,c,d,h]}(e,t);if(p){var h=p[0],m=p[1],b=p[2],g=p[3],y=p[4],v=r(h,b),E=r(m,g);return v.concat([[o,y]],E)}return function(e,t){for(var o=e.length,r=t.length,s=Math.ceil((o+r)/2),l=s,u=2*s,c=new Array(u),d=new Array(u),f=0;f<u;f++)c[f]=-1,d[f]=-1;c[l+1]=0,d[l+1]=0;for(var p=o-r,h=p%2!=0,m=0,b=0,g=0,y=0,v=0;v<s;v++){for(var E=-v+m;E<=v-b;E+=2){for(var _=l+E,O=(w=E==-v||E!=v&&c[_-1]<c[_+1]?c[_+1]:c[_-1]+1)-E;w<o&&O<r&&e.charAt(w)==t.charAt(O);)w++,O++;if(c[_]=w,w>o)b+=2;else if(O>r)m+=2;else if(h){if((T=l+p-E)>=0&&T<u&&-1!=d[T]){var C=o-d[T];if(w>=C)return a(e,t,w,O)}}}for(var S=-v+g;S<=v-y;S+=2){for(var T=l+S,N=(C=S==-v||S!=v&&d[T-1]<d[T+1]?d[T+1]:d[T-1]+1)-S;C<o&&N<r&&e.charAt(o-C-1)==t.charAt(r-N-1);)C++,N++;if(d[T]=C,C>o)y+=2;else if(N>r)g+=2;else if(!h){if((_=l+p-S)>=0&&_<u&&-1!=c[_]){var w=c[_];O=l+w-_;if(w>=(C=o-C))return a(e,t,w,O)}}}}return[[n,e],[i,t]]}(e,t)}(e=e.substring(0,e.length-d),t=t.substring(0,t.length-d));return f&&h.unshift([o,f]),p&&h.push([o,p]),function e(t){t.push([o,""]);var r=0;var a=0;var u=0;var c="";var d="";var f;for(;r<t.length;)switch(t[r][0]){case i:u++,d+=t[r][1],r++;break;case n:a++,c+=t[r][1],r++;break;case o:a+u>1?(0!==a&&0!==u&&(0!==(f=s(d,c))&&(r-a-u>0&&t[r-a-u-1][0]==o?t[r-a-u-1][1]+=d.substring(0,f):(t.splice(0,0,[o,d.substring(0,f)]),r++),d=d.substring(f),c=c.substring(f)),0!==(f=l(d,c))&&(t[r][1]=d.substring(d.length-f)+t[r][1],d=d.substring(0,d.length-f),c=c.substring(0,c.length-f))),0===a?t.splice(r-u,a+u,[i,d]):0===u?t.splice(r-a,a+u,[n,c]):t.splice(r-a-u,a+u,[n,c],[i,d]),r=r-a-u+(a?1:0)+(u?1:0)+1):0!==r&&t[r-1][0]==o?(t[r-1][1]+=t[r][1],t.splice(r,1)):r++,u=0,a=0,c="",d=""}""===t[t.length-1][1]&&t.pop();var p=!1;r=1;for(;r<t.length-1;)t[r-1][0]==o&&t[r+1][0]==o&&(t[r][1].substring(t[r][1].length-t[r-1][1].length)==t[r-1][1]?(t[r][1]=t[r-1][1]+t[r][1].substring(0,t[r][1].length-t[r-1][1].length),t[r+1][1]=t[r-1][1]+t[r+1][1],t.splice(r-1,1),p=!0):t[r][1].substring(0,t[r+1][1].length)==t[r+1][1]&&(t[r-1][1]+=t[r+1][1],t[r][1]=t[r][1].substring(t[r+1][1].length)+t[r+1][1],t.splice(r+1,1),p=!0)),r++;p&&e(t)}(h),null!=u&&(h=function(e,t){var i=function(e,t){if(0===t)return[o,e];for(var i=0,r=0;r<e.length;r++){var a=e[r];if(a[0]===n||a[0]===o){var s=i+a[1].length;if(t===s)return[r+1,e];if(t<s){e=e.slice();var l=t-i,u=[a[0],a[1].slice(0,l)],c=[a[0],a[1].slice(l)];return e.splice(r,1,u,c),[r+1,e]}i=s}}throw new Error("cursor_pos is out of bounds!")}(e,t),r=i[1],a=i[0],s=r[a],l=r[a+1];if(null==s)return e;if(s[0]!==o)return e;if(null!=l&&s[1]+l[1]===l[1]+s[1])return r.splice(a,2,l,s),c(r,a,2);if(null!=l&&0===l[1].indexOf(s[1])){r.splice(a,2,[l[0],s[1]],[0,s[1]]);var u=l[1].slice(s[1].length);return u.length>0&&r.splice(a+2,0,[l[0],u]),c(r,a,3)}return e}(h,u)),h=function(e){for(var t=!1,r=function(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343},a=2;a<e.length;a+=1)e[a-2][0]===o&&((s=e[a-2][1]).charCodeAt(s.length-1)>=55296&&s.charCodeAt(s.length-1)<=56319)&&e[a-1][0]===n&&r(e[a-1][1])&&e[a][0]===i&&r(e[a][1])&&(t=!0,e[a-1][1]=e[a-2][1].slice(-1)+e[a-1][1],e[a][1]=e[a-2][1].slice(-1)+e[a][1],e[a-2][1]=e[a-2][1].slice(0,-1));var s;if(!t)return e;var l=[];for(a=0;a<e.length;a+=1)e[a][1].length>0&&l.push(e[a]);return l}(h)}function a(e,t,n,i){var o=e.substring(0,n),a=t.substring(0,i),s=e.substring(n),l=t.substring(i),u=r(o,a),c=r(s,l);return u.concat(c)}function s(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,i=Math.min(e.length,t.length),o=i,r=0;n<o;)e.substring(r,o)==t.substring(r,o)?r=n=o:i=o,o=Math.floor((i-n)/2+n);return o}function l(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,i=Math.min(e.length,t.length),o=i,r=0;n<o;)e.substring(e.length-o,e.length-r)==t.substring(t.length-o,t.length-r)?r=n=o:i=o,o=Math.floor((i-n)/2+n);return o}var u=r;function c(e,t,n){for(var i=t+n-1;i>=0&&i>=t-1;i--)if(i+1<e.length){var o=e[i],r=e[i+1];o[0]===r[1]&&e.splice(i,2,[o[0],o[1]+r[1]])}return e}u.INSERT=i,u.DELETE=n,u.EQUAL=o,e.exports=u},"uf++":function(e,t,n){"use strict";n.r(t)},"vE/+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K").__importDefault(n("EROk"));class o extends i.default{static create(){return document.createElement(o.tagName)}static formats(){return o.tagName}}o.createChange=(e=!0)=>({format:{superscript:!1,subscript:e}}),o.blotName="subscript",o.tagName="sub",t.default=o},vL4I:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({src:e,title:t,alt:n,uuid:i,availabilityMessage:o,bbfile:r}){return[{insert:"\n"},{insert:!0,format:{collab_video:{src:e,title:t,alt:n,bbfile:r||JSON.stringify({video_uuid:i}),info:null!=o?o:null}}},{insert:"\n"}]}},vdWu:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=(()=>{const e={};function t(t,n){let i=n||"";return Object.keys(t).forEach(n=>{e[n]&&e[n].toBbML&&(i=e[n].toBbML(i,t[n]))}),i}function n(e,t,n){let i="";const o=t+1;for(;o>e.length;)i+=`<${n}>`,e.push(n);for(;o<e.length;){i+=`</${e.pop()}>`}return 0!==e.length&&n!==e[e.length-1]&&(i+=`</${e.pop()}>`,i+=`<${n}>`,e.push(n)),i}function i(e,t,n,i){return`<${e}${t&&` dir="${t}"`}${n&&` style="${n}"`}>${i}</${e}>`}function o(e,t,o,r){if(o)return function(e,t,o,r){let a="p",s="",l="",u="";if(o.header){a=`h${Math.max(o.header,4)}`}if(o.list){s+=n(t,o.indent||0,a="ordered"===o.list?"ol":"ul"),a="li";const e=r?"padding-right":"padding-left";o["bullet-size"]&&o["custom-indent"]&&(l+=`font-size: ${o["bullet-size"]};\n          ${e}: ${o["custom-indent"]};`)}return o.align&&(l+=`text-align: ${o.align};`),o.lineheight&&(l+=`line-height: ${o.lineheight};`),o.direction&&(u+=o.direction),o.tag&&(a=o.tag),!o.list&&t.length>0&&(s+=n(t,-1,"")),"p"!==a||e?(null==o?void 0:o.tag)?s+=`<${a}>`:(""===a&&(a="p"),s+=i(a,u,l,e)):s+="<br>",s}(e,t,o,r);let a="";return t.length>0&&(a+=n(t,-1,"")),a+=e?i("p","","",e):"<br>"}function r(e){var t,n,i,o,r;return(null!==(n=null===(t=null==e?void 0:e.attributes)||void 0===t?void 0:t.td)&&void 0!==n?n:null===(i=null==e?void 0:e.attributes)||void 0===i?void 0:i.th)&&(null===(o=null==e?void 0:e.attributes)||void 0===o?void 0:o.tr)&&(null===(r=null==e?void 0:e.attributes)||void 0===r?void 0:r.table)}return{registerConverter:(t,n)=>{"function"==typeof n&&(e[t]=n)},toBbML:(e,i)=>{const a=e[0];if(!(1!==e.length||"\n"!==a.insert||a.attributes&&a.attributes.list))return"";let s="",l="",u=function(e){const t=[];return e.forEach((e,n,i)=>{var o;if("string"!=typeof e.insert||!e.insert.includes("\n")||"string"==typeof e.insert&&n+1<i.length&&r(i[n+1]))((null===(o=e.attributes)||void 0===o?void 0:o.tablebr)||r(e)||0===n||r(i[n-1])||"\n"!==e.insert||n+1>=i.length||!r(i[n+1]))&&("string"==typeof e.insert&&e.insert.trim().length>0&&e.insert.includes("\n")&&(e.insert=e.insert.trim()),t.push(e));else if(e.insert.includes("\n")){e.insert.split("\n").forEach(n=>{""!==n&&t.push({insert:n}),t.push({insert:"\n",attributes:e.attributes})}),t.pop()}}),t}(e);(u=function(e){var t,n,i;if(!e.some(e=>{var t,n,i,o;return(null===(t=null==e?void 0:e.attributes)||void 0===t?void 0:t.td)||(null===(n=null==e?void 0:e.attributes)||void 0===n?void 0:n.th)||(null===(i=null==e?void 0:e.attributes)||void 0===i?void 0:i.tr)||(null===(o=null==e?void 0:e.attributes)||void 0===o?void 0:o.table)}))return e;let o,a,s=[],l=[],u="td";for(let c=e.length-1;c>=0;c--){const d=e[c];r(d)&&(l.includes(d.attributes.table)||(s.push({simpleTag:!0,insert:"\n",attributes:{tag:"/table"}}),l.push(d.attributes.table),o=null),o!==d.attributes.tr&&(o&&(s.push({simpleTag:!0,insert:"\n",attributes:{tag:u}}),s.push({simpleTag:!0,insert:"\n",attributes:{tag:"tr"}}),a=null,u="td"),o=d.attributes.tr,s.push({simpleTag:!0,insert:"\n",attributes:{tag:"/tr"}})),a!==(null!==(t=d.attributes.td)&&void 0!==t?t:d.attributes.th)&&(a&&s.push({simpleTag:!0,insert:"\n",attributes:{tag:u}}),a=null!==(n=d.attributes.td)&&void 0!==n?n:d.attributes.th,u=d.attributes.th?"th":"td",s.push({simpleTag:!0,insert:"\n",attributes:{tag:`/${u}`}}))),(null===(i=d.attributes)||void 0===i?void 0:i.tablebr)&&(s.push({simpleTag:!0,insert:"\n",attributes:{tag:u}}),s.push({simpleTag:!0,insert:"\n",attributes:{tag:"tr"}}),s.push({simpleTag:!0,insert:"\n",attributes:{tag:"table"}}),l=[],a=null,o=null,u="td"),s.push(d)}return s=s.reverse().filter(e=>{var t;return!(null===(t=e.attributes)||void 0===t?void 0:t.tablebr)})}(u))[u.length-1]&&"\n"!==u[u.length-1].insert&&u.push({insert:"\n"});const c=[];let d=!1;return u.forEach((e,n,r)=>{var a,u,f,p,h,m;"\n"===e.insert?("table"===(null===(a=e.attributes)||void 0===a?void 0:a.tag)&&(d=!0,""!==l&&(s+=l,l=""),s.endsWith("<br>")||(s+="<br>")),(!d||d&&e.attributes)&&(s+=o(l,c,e.attributes)),(null==e?void 0:e.simpleTag)||(l=""),"/table"===(null===(u=e.attributes)||void 0===u?void 0:u.tag)&&(d=!1,(null===(f=r[n+1])||void 0===f?void 0:f.insert.endsWith("\n"))||"\b\b\b"===(null===(p=r[n+1])||void 0===p?void 0:p.insert)||(s+="<br>"))):"object"==typeof e.insert?(l+=t(e.insert),((null===(h=e.attributes)||void 0===h?void 0:h.align)||(null===(m=e.attributes)||void 0===m?void 0:m.direction))&&(s+=o(l,c,e.attributes,i),l="")):l+=function(e,n){let i=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return n?(n.subscript&&(i=`<sub>${i}</sub>`),n.superscript&&(i=`<sup>${i}</sup>`),n.underline&&(i=`<span style="text-decoration:underline;">${i}</span>`),n.strike&&(i=`<del>${i}</del>`),n.italic&&(i=`<em>${i}</em>`),n.bold&&(i=`<strong>${i}</strong>`),n.size&&(i=`<span style="font-size: ${n.size};">${i}</span>`),n.font&&(i=`<span style="font-family: ${n.font};">${i}</span>`),n.color&&(i=`<span style="color: ${n.color}">${i}</span>`),i=t(n,i)):i}(e.insert||"",e.attributes)}),s+=n(c,-1,"")}}})()},vfGT:function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return e.apply(t,n)}}},wG2N:function(e,t,n){"use strict";e.exports=function(e,t,n,i,o){return e.config=t,n&&(e.code=n),e.request=i,e.response=o,e}},wL96:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="collab_video"},wWmn:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i={id:"editAttachment",type:"attachment"};t.EDITABLE_ATTACHMENT_CONFIG=i;const o={id:"editYoutubeVideo",type:"embedded-app"};t.EDITABLE_TPC_CONFIG=o;const r=[i,o];t.EDIT_BUTTONS=r},wbTV:function(e,t,n){"use strict";n.r(t);var i=n("oB8T");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}(n,e);var t=a(n);function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t.apply(this,arguments)}return n}(n.n(i).a.Text);t.default=u},wto5:function(e,t,n){"use strict";n.r(t),n.d(t,"ColorAttributor",(function(){return f})),n.d(t,"ColorClass",(function(){return p})),n.d(t,"ColorStyle",(function(){return h}));var i=n("oB8T"),o=n.n(i);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(r,e);var t,n,i,o=u(r);function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),o.apply(this,arguments)}return t=r,(n=[{key:"value",value:function(e){var t=s(d(r.prototype),"value",this).call(this,e);return t.startsWith("rgb(")?(t=t.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+t.split(",").map((function(e){return("00"+parseInt(e).toString(16)).slice(-2)})).join("")):t}}])&&a(t.prototype,n),i&&a(t,i),r}(o.a.Attributor.Style),p=new o.a.Attributor.Class("color","ql-color",{scope:o.a.Scope.INLINE}),h=new f("color","color",{scope:o.a.Scope.INLINE})},"xg/7":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K").__importDefault(n("EROk"));class o extends i.default{static create(){return document.createElement(o.tagName)}static formats(){return o.tagName}}o.createChange=(e=!0)=>({format:{subscript:!1,superscript:e}}),o.blotName="superscript",o.tagName="sup",t.default=o},xybc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("aWzz")),r=i.__importDefault(n("jdLX")),a=i.__importDefault(n("iMjE")),s=i.__importDefault(n("jNaF")),l=i.__importDefault(n("Mt08")),u=i.__importDefault(n("8rpy")),c=n("ehue");n("C2NB");const d="insertLocalFile";function f(e,t,n,i,o){t(r.default,{file:e,...n,...i,href:o})}function p(e,t,n,i){let o=[];e.length>1?(e.forEach(({href:e,bbfile:t})=>{o=o.concat(a.default(e,t,!0))}),i.applyChange(o)):f(e[0].bbfile,t,n,i,e[0].href)}function h(e){return{id:e&&e.buttonId||d,cssClass:d,iconName:"attachment",iconComponent:c.Attachment,isDialog:!0,isActive:()=>!1,onClick:({showModal:t,...n})=>{u.default({...e,...n,multiple:!0,showModal:t}).then(i=>{p(i,t,e,n)})}}}function m(e){return(t,n,i)=>{u.default({applyChange:n,multiple:!0,...e,showModal:i},()=>Promise.resolve(t)).then(t=>{p(t,i,e,{applyChange:n})})}}t.ShowEditFileAttachmentModal=f,t.pluginConfigPropType=o.default.shape({apiBasePath:o.default.string,xsrfToken:o.default.string,courseId:o.default.string,fileLocation:o.default.string,webLocation:o.default.string,onUploadSuccess:o.default.func}),t.default=e=>[s.default(e),{pluginId:d,buttonConfig:h(e),fileDropHandler:m(e)},l.default(e)]},y1Do:function(e,t,n){"use strict";var i=n("yYc7");function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){i.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},y7Jh:function(e,t,n){"use strict";n.r(t);var i=n("oB8T"),o=n.n(i),r=n("wbTV");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p="\ufeff",h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(d,e);var t,n,i,a=c(d);function d(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(t=a.call(this,e)).contentNode=document.createElement("span"),t.contentNode.setAttribute("contenteditable",!1),[].slice.call(t.domNode.childNodes).forEach((function(e){t.contentNode.appendChild(e)})),t.leftGuard=document.createTextNode(p),t.rightGuard=document.createTextNode(p),t.domNode.appendChild(t.leftGuard),t.domNode.appendChild(t.contentNode),t.domNode.appendChild(t.rightGuard),t}return t=d,(n=[{key:"index",value:function(e,t){return e===this.leftGuard?0:e===this.rightGuard?1:l(f(d.prototype),"index",this).call(this,e,t)}},{key:"restore",value:function(e){var t,n,i=e.data.split(p).join("");if(e===this.leftGuard)if(this.prev instanceof r.default){var a=this.prev.length();this.prev.insertAt(a,i),t={startNode:this.prev.domNode,startOffset:a+i.length}}else n=document.createTextNode(i),this.parent.insertBefore(o.a.create(n),this),t={startNode:n,startOffset:i.length};else e===this.rightGuard&&(this.next instanceof r.default?(this.next.insertAt(0,i),t={startNode:this.next.domNode,startOffset:i.length}):(n=document.createTextNode(i),this.parent.insertBefore(o.a.create(n),this.next),t={startNode:n,startOffset:i.length}));return e.data=p,t}},{key:"update",value:function(e,t){var n=this;e.forEach((function(e){if("characterData"===e.type&&(e.target===n.leftGuard||e.target===n.rightGuard)){var i=n.restore(e.target);i&&(t.range=i)}}))}}])&&s(t.prototype,n),i&&s(t,i),d}(o.a.Embed);t.default=h},yNLD:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K").__importDefault(n("ERkP"));t.Separator=()=>i.default.createElement("div",{className:"bb-editor-toolbar-button-separator"})},yYc7:function(e,t,n){"use strict";var i=n("niB6"),o=n("lfu7"),r=Object.prototype.toString;function a(e){return"[object Array]"===r.call(e)}function s(e){return null!==e&&"object"==typeof e}function l(e){return"[object Function]"===r.call(e)}function u(e,t){if(null!=e)if("object"==typeof e||a(e)||(e=[e]),a(e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===r.call(e)},isBuffer:o,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===r.call(e)},isFile:function(e){return"[object File]"===r.call(e)},isBlob:function(e){return"[object Blob]"===r.call(e)},isFunction:l,isStream:function(e){return s(e)&&l(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:u,merge:function e(){var t={};function n(n,i){"object"==typeof t[i]&&"object"==typeof n?t[i]=e(t[i],n):t[i]=n}for(var i=0,o=arguments.length;i<o;i++)u(arguments[i],n);return t},extend:function(e,t,n){return u(t,(function(t,o){e[o]=n&&"function"==typeof t?i(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},"yf/r":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={outgoing:{initContent:"init_content"},incoming:{pageLoaded:"page_loaded",canceled:"content_canceled",contentReady:"content_ready"}}},ym5Q:function(e,t,n){"use strict";var i=n("P0jV");e.exports=i.isStandardBrowserEnv()?{write:function(e,t,n,o,r,a){var s=[];s.push(e+"="+encodeURIComponent(t)),i.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),i.isString(o)&&s.push("path="+o),i.isString(r)&&s.push("domain="+r),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},ys2T:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K").__importDefault(n("HrSV"));i.default.createChange=(e=!0)=>({format:{italic:e}}),t.default=i.default},ytDJ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K"),o=i.__importDefault(n("ERkP")),r=i.__importDefault(n("aWzz")),a=i.__importDefault(n("O94r"));function s(e){const t=a.default({"table-creator-cell":!0,selected:e.isSelected});return o.default.createElement("div",{className:"table-cell",role:"cell"},o.default.createElement("button",{index:e.index,tabIndex:"-1",className:t,"aria-labelledby":"tableGridCreator",onClick:()=>e.handleClick(e.rowIndex,e.columnIndex),onMouseEnter:()=>e.handleHover(e.rowIndex,e.columnIndex)}))}s.propTypes={isSelected:r.default.bool.isRequired,rowIndex:r.default.number.isRequired,columnIndex:r.default.number.isRequired,index:r.default.number.isRequired,handleHover:r.default.func.isRequired,handleClick:r.default.func.isRequired},t.default=s},zGrB:function(e,t,n){"use strict";n.r(t);var i=n("oB8T"),o=n.n(i),r=n("UOZ7"),a=n("RSpw"),s=n("2oOw"),l=n("iH9P"),u=n("6spW");function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var i,o,r=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function p(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function h(e,t,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e){return e instanceof a.default||e instanceof a.BlockEmbed}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(c,e);var t,n,i,u=b(c);function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(n=u.call(this,e)).emitter=t.emitter,Array.isArray(t.whitelist)&&(n.whitelist=t.whitelist.reduce((function(e,t){return e[t]=!0,e}),{})),n.domNode.addEventListener("DOMNodeInserted",(function(){})),n.optimize(),n.enable(),n}return t=c,(n=[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(e,t){var n=d(this.line(e),2),i=n[0],o=n[1],r=d(this.line(e+t),1)[0];if(h(y(c.prototype),"deleteAt",this).call(this,e,t),null!=r&&i!==r&&o>0){if(i instanceof a.BlockEmbed||r instanceof a.BlockEmbed)return void this.optimize();if(i instanceof l.a){var u=i.newlineIndex(i.length(),!0);if(u>-1&&(i=i.split(u+1))===r)return void this.optimize()}else if(r instanceof l.a){var f=r.newlineIndex(0);f>-1&&r.split(f+1)}var p=r.children.head instanceof s.default?null:r.children.head;i.moveChildren(r,p),i.remove()}this.optimize()}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e)}},{key:"formatAt",value:function(e,t,n,i){(null==this.whitelist||this.whitelist[n])&&(h(y(c.prototype),"formatAt",this).call(this,e,t,n,i),this.optimize())}},{key:"insertAt",value:function(e,t,n){if(null==n||null==this.whitelist||this.whitelist[t]){if(e>=this.length())if(null==n||null==o.a.query(t,o.a.Scope.BLOCK)){var i=o.a.create(this.statics.defaultChild);this.appendChild(i),null==n&&t.endsWith("\n")&&(t=t.slice(0,-1)),i.insertAt(0,t,n)}else{var r=o.a.create(t,n);this.appendChild(r)}else h(y(c.prototype),"insertAt",this).call(this,e,t,n);this.optimize()}}},{key:"insertBefore",value:function(e,t){if(e.statics.scope===o.a.Scope.INLINE_BLOT){var n=o.a.create(this.statics.defaultChild);n.appendChild(e),e=n}h(y(c.prototype),"insertBefore",this).call(this,e,t)}},{key:"leaf",value:function(e){return this.path(e).pop()||[null,-1]}},{key:"line",value:function(e){return e===this.length()?this.line(e-1):this.descendant(v,e)}},{key:"lines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,n=function e(t,n,i){var r=[],a=i;return t.children.forEachAt(n,i,(function(t,n,i){v(t)?r.push(t):t instanceof o.a.Container&&(r=r.concat(e(t,n,a))),a-=i})),r};return n(this,e,t)}},{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(h(y(c.prototype),"optimize",this).call(this,e,t),e.length>0&&this.emitter.emit(r.a.events.SCROLL_OPTIMIZE,e,t))}},{key:"path",value:function(e){return h(y(c.prototype),"path",this).call(this,e).slice(1)}},{key:"update",value:function(e){if(!0!==this.batch){var t=r.a.sources.USER;"string"==typeof e&&(t=e),Array.isArray(e)||(e=this.observer.takeRecords()),e.length>0&&this.emitter.emit(r.a.events.SCROLL_BEFORE_UPDATE,t,e),h(y(c.prototype),"update",this).call(this,e.concat([])),e.length>0&&this.emitter.emit(r.a.events.SCROLL_UPDATE,t,e)}}}])&&p(t.prototype,n),i&&p(t,i),c}(o.a.Scroll);E.blotName="scroll",E.className="ql-editor",E.tagName="DIV",E.defaultChild="block",E.allowedChildren=[a.default,a.BlockEmbed,u.default],t.default=E},zHZo:function(e,t,n){"use strict";var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?r(a(e),(function(a){var s=encodeURIComponent(i(a))+n;return o(e[a])?r(e[a],(function(e){return s+encodeURIComponent(i(e))})).join(t):s+encodeURIComponent(i(e[a]))})).join(t):s?encodeURIComponent(i(s))+n+encodeURIComponent(i(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function r(e,t){if(e.map)return e.map(t);for(var n=[],i=0;i<e.length;i++)n.push(t(e[i],i));return n}var a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},zkKN:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("D57K").__importDefault(n("ggb3")),o=n("bVcq"),r=n("QjXM"),a=new Map;let s;t.default=({courseId:e,xsrfToken:t,apiBasePath:n},l)=>{return((e,t)=>{if(a.has(e))return a.get(e);const n=i.default({method:"get",url:e,headers:{"X-Blackboard-XSRF":t}});return a.set(e,n),n})(e?r.convertToAbsoluteUrl(`${n}/v1/courses/${e}/mashups`):r.convertToAbsoluteUrl(`${n}/v1/mashups`),t).then(e=>{if(e.data.results=e.data.results||[],l&&l()){s&&window.URL.revokeObjectURL(s);const t={id:"demoMashup",label:"demoMashup",srcURL:s=o.makeDemoMashupDomString()};return{...e,data:{...e.data,results:[...e.data.results,t]}}}return e})},t.clearCache=()=>a.clear()},zkjf:function(e,t,n){"use strict";n.r(t),n.d(t,"DirectionAttribute",(function(){return a})),n.d(t,"DirectionClass",(function(){return s})),n.d(t,"DirectionStyle",(function(){return l}));var i=n("oB8T"),o=n.n(i),r={scope:o.a.Scope.BLOCK,whitelist:["rtl"]},a=new o.a.Attributor.Attribute("direction","dir",r),s=new o.a.Attributor.Class("direction","ql-direction",r),l=new o.a.Attributor.Style("direction","direction",r)}}]);