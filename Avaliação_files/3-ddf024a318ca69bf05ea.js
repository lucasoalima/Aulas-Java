(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"1aqa":function(e,t,r){"use strict";r.r(t)},"6rNA":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("wgY5");function n(e){return e.signUpSheet.enrollmentEndDate}function a(e){if(!e.isSelfEnrolledAllowed||!function(e){return e&&e.signUpSheet}(e))return!1;const t=n(e);return void 0===t||o(t).isSameOrAfter(o())}function s(e,t){return e.isSameOrAfter(function(e){return e.signUpSheet.enrollmentStartDate}(t))}function l(e,t){if(a(e)&&a(t)){const r=n(e),a=n(t);return r&&!a?-1:a&&!r?1:function(e,t){return o(n(e)).diff(o(n(t)))}(e,t)}return 0}t.isActionableSelfEnrollmentGroup=a;const i=/^_([0-9]+)_([0-9]+)$/;function u(e){const[,t,r]=e.match(i);return[parseInt(t,10),parseInt(r,10)]}t.sortGroupSetList=function(e){return Array.from(e).sort((e,t)=>(function(e,t){const r=a(e),o=a(t);return r&&!o?-1:o&&!r?1:0})(e,t)||function(e,t){if(a(e)&&a(t)){const r=o(),n=s(r,e),a=s(r,t);return n&&!a?-1:a&&!n?1:0}return 0}(e,t)||l(e,t)||function(e,t){const[r]=u(e.id),[o]=u(t.id);return o-r}(e,t))}},"7J6X":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("D57K"),n=o.__importStar(r("ERkP")),a=o.__importStar(r("nsO7")),s=r("uDfI"),l=o.__importDefault(r("x6OE")),i=r("8unJ"),u=r("myse"),c=r("MC1S"),p=r("8jBL"),d=o.__importDefault(r("QEmD")),m=o.__importDefault(r("bUTP")),g=o.__importDefault(r("xxSO")),h=o.__importDefault(r("Ef58")),f=r("jYX2"),E=r("0x+l"),S=r("tN4z");r("sFl4");const b=r("JfV0"),y=r("zGdY"),v=r("9OUN");class C extends n.PureComponent{constructor(e){super(e),this.offset=0,this.onCreateGroupSet=()=>{const{courseId:e,openGroupSetDetailPanel:t}=this.props;t(e,void 0,d.default.CREATE)},this.shouldStartInfiniteScroll=()=>{const{groupSets:e,totalSetCount:t,isLoading:r}=this.props,[,o]=this.list.getVisibleRange();return!r&&o>=e.length-1&&e.length<t},this.loadMore=e=>{const{onLoadGroupSets:t,groupSets:r}=this.props,{sortCriteria:o}=this.state;this.offset=Math.min(this.offset+b.GROUP_SETS_LIMIT,r&&r.length||0),t(e,{offset:this.offset,sort:o},!0)},this.onScroll=()=>{this.list&&this.shouldStartInfiniteScroll()&&this.loadMore(this.props.courseId)},this.reduceOffset=()=>{this.offset>-b.GROUP_SETS_LIMIT&&this.props.groupSets.length<this.props.totalSetCount&&(this.offset-=1)},this.onSwitchSortCriteria=e=>{this.setState({sortCriteria:e})},this.renderGroupSetListItem=e=>{var t;const{courseId:r,localize:o,featuresConfig:a,groupSets:s,courseMemberCount:l,openGroupSetDetailPanel:i,analyticsId:u}=this.props,c=s[e],p=null===(t=s[e-1])||void 0===t?void 0:t.id,d=this.state.expandedGroupSetIds.has(p);return c?n.createElement(m.default,{index:e,key:c.id,courseId:r,localize:o,groupSet:c,courseMemberCount:l,openGroupSetDetailPanel:i,onChangeOffset:this.reduceOffset,featuresConfig:a,sortCriteria:this.state.sortCriteria,analyticsId:`${u}.groupItem`,expand:this.state.expandedGroupSetIds.has(c.id),raised:d,onExpand:e=>{this.setState(t=>{const r=new Set(t.expandedGroupSetIds);return e?r.add(c.id):r.delete(c.id),{expandedGroupSetIds:r}})}}):null},this.renderGroupSetListView=e=>{const{courseId:t,isLoading:r,localize:o,totalSetCount:a,analyticsId:s}=this.props,{sortCriteria:i}=this.state;return e>0?n.createElement("div",{className:"tabular-list-container"},n.createElement("div",{className:"tabular-list"},n.createElement("table",{id:"expandGrid",className:"table-content sortable-table",role:"grid","aria-readonly":!0,"aria-labelledby":"group-set-table-caption",tabIndex:-1,onKeyDown:f.shiftFocus},n.createElement("caption",{id:"group-set-table-caption",className:"sr-only"},o.translate("course.groupWorkspace.pageTitle")),n.createElement("thead",{className:"list-item-columns group-set-sort-header"},n.createElement("tr",{className:"list-item-row group-set-sort-row",role:"row",id:"table-header-row"},n.createElement("th",{className:"column-title sort",role:"columnheader",id:"col-name",tabIndex:0},n.createElement(g.default,{courseId:t,currentSort:i,isLoading:r,localize:o,onSwitchSortCriteria:this.onSwitchSortCriteria,sortCriteria:[y.SortByEnum.TITLE_ASC,y.SortByEnum.TITLE_DESC],viewText:"title",analyticsId:`${s}.sortControl.group`})),n.createElement("th",{className:"column-student-count sort count",role:"columnheader",id:"col-count",tabIndex:-1},n.createElement(g.default,{courseId:t,currentSort:i,isLoading:r,localize:o,onSwitchSortCriteria:this.onSwitchSortCriteria,sortCriteria:[y.SortByEnum.STUDENT_COUNT_ASC,y.SortByEnum.STUDENT_COUNT_DESC],viewText:"studentCount",analyticsId:`${s}.sortControl.count`})),n.createElement("th",{className:"column-group-set-controls"}))),n.createElement(l.default,{itemsRenderer:(e,t)=>n.createElement("tbody",{ref:t},e),length:e,itemRenderer:this.renderGroupSetListItem,ref:e=>this.list=e})))):0===a?n.createElement(h.default,{imageSrc:"./static/images/ftue/empty-course-group.svg",title:o.translate("course.groupWorkspace.emptyState.title"),caption:o.translate("course.groupWorkspace.emptyState.caption.part1")},n.createElement("p",{className:"group-empty-state-caption"},o.translate("course.groupWorkspace.emptyState.caption.part2"))):""},this.state={sortCriteria:y.SortByEnum.TITLE_ASC,expandedGroupSetIds:new Set}}componentDidMount(){const{courseId:e,onLoadGroupSets:t,root:r,onGetCourseContext:o}=this.props,{sortCriteria:n}=this.state;t(e,{sort:n}),o(e),(r&&r.querySelector(".panel-wrap")||window).addEventListener("scroll",a.throttle(this.onScroll,100),{capture:!0}),(r&&r.querySelector(".panel-wrap")||window).addEventListener("touchmove",a.throttle(this.onScroll,100),{capture:!0,passive:!0})}componentDidUpdate(e,t){if(t.sortCriteria!==this.state.sortCriteria){const e=this.props.groupSets&&this.props.groupSets.length||0,t=Math.max(e,b.GROUP_SETS_LIMIT);this.props.onLoadGroupSets(this.props.courseId,{sort:this.state.sortCriteria,limit:t})}e.totalSetCount>this.props.totalSetCount&&this.list&&this.shouldStartInfiniteScroll()&&this.loadMore(this.props.courseId)}componentWillUnmount(){const{root:e}=this.props;(e&&e.querySelector(".panel-wrap")||window).removeEventListener("scroll",this.onScroll),(e&&e.querySelector(".panel-wrap")||window).removeEventListener("touchmove",this.onScroll)}render(){const{canCreate:e,groupSets:t,totalGroupCount:r,totalSetCount:o,localize:a,analyticsEventAugmentor:s,analyticsId:l}=this.props,i=t&&t.length||0,d=this.props.isOrganization?"organization.":"course.";return n.createElement(S.AnalyticsSnackbarProvider,null,n.createElement("div",{className:"page-group-set course-group-set-layer"},n.createElement("div",{className:"panel-wrap"},n.createElement("header",{className:"panel-header simple-header"},n.createElement("div",{className:"panel-titles-container"},n.createElement("span",{className:"panel-sub-title"},a.translate("course.groupWorkspace.subTitle")),n.createElement("div",{className:"editable-title-container black-header-contents"},n.createElement(c.IconButton,{ariaLabel:a.translate("base.menu"),className:"left-off-canvas-toggle menu-toggle  standard-button dark-background",icon:n.createElement(E.MainMenu,null),title:a.translate("base.menu"),analyticsId:`${l}.menuToggle.button`}),n.createElement("h1",{className:"panel-title",tabIndex:-1},a.translate(`${d}groupWorkspace.pageTitle`))))),n.createElement("div",{className:"guidance-wrapper"},n.createElement("span",{className:"set-group-count"},a.translate("course.groupWorkspace.guidance.groupSetCount.plural",{groupSetCount:o||0})+a.translate("course.groupWorkspace.guidance.groupCount.plural",{groupCount:r||0})),e&&n.createElement("button",{className:"create-group-set",onClick:s(u.AnalyticsEventTypes.CLICK_EVENT,this.onCreateGroupSet,`${l}.createNewSet.button`),"data-analytics-id":`${l}.createNewSet.button`},n.createElement("span",{className:"create-button"},a.translate("course.groupWorkspace.guidance.createNewSet")),n.createElement(p.AddCircle,null))),n.createElement("div",{className:"panel-content"},n.createElement("div",{className:"row collapse"},this.renderGroupSetListView(i),this.props.isLoading?n.createElement("div",{className:"spinner bb-secondary-color-2"}):"")))))}}t.GroupSetListPanel=C,t.default=u.withAnalytics(s.connect((e,t)=>({groupSets:b.xelect.groupSet.getRenderedGroupSets(e,t.courseId),isLoading:b.select.groupWorkspace.isLoading(e),totalSetCount:b.select.groupWorkspace.getTotalGroupSetCount(e),totalGroupCount:b.select.groupWorkspace.getTotalGroupCount(e),canCreate:b.select.groupWorkspace.canCreate(e),courseMemberCount:b.select.course.getCourseStudentCount(e,t.courseId)}),e=>v.bindActionCreators({onLoadGroupSets:b.actions.groupWorkspace.loadGroupSets,onGetCourseContext:b.actions.course.fetchCourseStudentCount},e))(i.localizedComponentWrapper(C)))},"9ONk":function(e,t,r){"use strict";r.r(t)},B7tI:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("D57K"),n=o.__importStar(r("ERkP")),a=r("ERkP"),s=r("tN4z"),l=r("8unJ"),i=r("GuFu"),u=r("0x+l"),c=r("Tw22"),p=r("0x+l"),d=o.__importDefault(r("O94r"));var m;!function(e){e.HAS_ASSOCIATED_CONTENT="hasAssociatedContent",e.SELF_ENROLLMENT_ALLOWED="selfEnrollmentAllowed"}(m=t.DisabledReasons||(t.DisabledReasons={}));t.GroupSetVisibility=l.localizedComponentWrapper(e=>{var t;const{localize:r,groupSetVisibility:o,onVisibilityChanged:l,analyticsId:g,variant:h="large",disabled:f=!1,disabledReason:E,inListItem:S=!1}=e,b=i.useCourseOrgTokenResolver("course.groupWorkspace","organization.groupWorkspace"),y=a.useCallback(e=>{l("visible"===e.target.value)},[l]),v=c.useLargeVariantStyles(),C=c.useSmallVariantStyles(),I="small"===h?C:v,G=["visible","hidden"],D={visible:r.translate(b("course.groupWorkspace.groupVisibility.visible")),hidden:r.translate(b("course.groupWorkspace.groupVisibility.hidden"))},k={[m.HAS_ASSOCIATED_CONTENT]:r.translate(b("course.groupWorkspace.groupVisibility.disabledMessage.hasAssociatedContent")),[m.SELF_ENROLLMENT_ALLOWED]:r.translate(b("course.groupWorkspace.groupVisibility.disabledMessage.selfEnrollmentAllowed"))},w=G.map(e=>n.createElement(s.AnalyticsMenuItem,{button:!0,analyticsId:`${g}.${e}`,value:e,key:e},n.createElement("span",{className:I.icon},"visible"===e?n.createElement(u.Visible,null):n.createElement(u.Invisible,null)),n.createElement("span",null,D[e])));return n.createElement("div",null,n.createElement("div",{className:d.default(I.overallContainer,{[`${I.alignDropdown}`]:S})},n.createElement(s.AnalyticsTextField,{analyticsId:g,select:!0,fullWidth:!0,disabled:f,value:o?G[0]:G[1],onChange:y,InputProps:{classes:{root:I.textField,disabled:I.inputDisabled}},SelectProps:{renderValue:function(e){return n.createElement(n.Fragment,null,n.createElement("span",{className:I.icon},"visible"===e?n.createElement(u.Visible,null):n.createElement(u.Invisible,null)),n.createElement("span",{className:I.selectedLabel},D[e]))},classes:{icon:d.default({[`${I.selectDisabled}`]:f},{[`${I.customIcon}`]:!f})}}},w)),f&&n.createElement(s.AnalyticsTooltip,{analyticsId:`${g}.tooltip`,title:null!==(t=k[E])&&void 0!==t?t:""},n.createElement(s.AnalyticsIconButton,{analyticsId:`${g}.informationButton`,"aria-label":r.translate("course.groupWorkspace.groupVisibility.disabledMessage.informationButtonAriaLabel"),className:I.disabledInformationButton},n.createElement(p.Information,null))))})},BJY0:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("D57K").__importStar(r("ERkP")),n=r("B7tI"),a=r("uDfI"),s=r("JfV0"),l=r("ERkP"),i=r("FsEB"),u=r("tN4z"),c=r("8unJ"),p=r("GuFu");t.BaseConnectedGroupSetVisibility=e=>{var t;const{groupSetId:r,analyticsId:c,localize:d}=e,[m,g]=o.useState(!1),[h,f]=o.useState(void 0),E=a.useDispatch(),S=p.useCourseOrgTokenResolver("course.groupWorkspace","organization.groupWorkspace"),b=a.useSelector(e=>s.select.app.getRoute(e).params.courseId),y=a.useSelector(e=>s.select.groupWorkspace.getGroupSetById(e,r)),{closeSnackbar:v}=u.useSnackbar(),C=l.useCallback(()=>{const e={...y,isAvailable:!1};E(s.actions.groupWorkspace.saveGroupSet(b,e)),v(r)},[E,y,v,r]),I={snackbarMessage:d.translate(S("course.groupWorkspace.groupVisibility.snackbar.message"))},G={closeButtonAriaLabel:d.translate("course.groupWorkspace.groupVisibility.snackbar.closeButtonAriaLabel"),actionMessage:d.translate("course.groupWorkspace.groupVisibility.snackbar.actionMessage"),onActionClick:C},D=i.useEnqueueBbSnackbar(I,G,r);o.useEffect(()=>{const e=(null==y?void 0:y.hasAssociatedContent)||(null==y?void 0:y.isSelfEnrolledAllowed);g(e),(null==y?void 0:y.hasAssociatedContent)?f(n.DisabledReasons.HAS_ASSOCIATED_CONTENT):(null==y?void 0:y.isSelfEnrolledAllowed)&&f(n.DisabledReasons.SELF_ENROLLMENT_ALLOWED)},[y]);const k=l.useCallback(e=>{var t;if(y.isAvailable===e||(null===(t=y.api)||void 0===t?void 0:t.isUpdating))return;const o={...y,isAvailable:e};E(s.actions.groupWorkspace.saveGroupSet(b,o)),e?D():v(r)},[E,r,b,null==y?void 0:y.isAvailable,null===(t=null==y?void 0:y.api)||void 0===t?void 0:t.isUpdating]);return o.createElement(n.GroupSetVisibility,{groupSetVisibility:null==y?void 0:y.isAvailable,analyticsId:`${c}.groupSetVisibility`,onVisibilityChanged:k,variant:"small",disabled:m,disabledReason:h,inListItem:!0})},t.ConnectedGroupSetVisibility=c.localizedComponentWrapper(t.BaseConnectedGroupSetVisibility)},Czjl:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("D57K").__importStar(r("ERkP")),n=r("kBJj"),a=r("JfV0"),s=r("G0uU"),l=r("3/0u"),i=r("uxze"),u=r("myse"),c=r("0x+l"),p=r("8jBL"),d=r("caKH"),m=r("OI4n"),g=r("qdia"),h=r("8unJ"),f=r("uDfI"),E=r("F2PK");r("pNp/");const S=r("9OUN");class b extends o.PureComponent{constructor(e){super(e),this.getMaxEnrollment=()=>{const{group:e,courseMemberCount:t}=this.props;return e&&e.maximumEnrollment&&e.maximumEnrollment>0?e.maximumEnrollment:t},this.isUserEnrolledInGroup=()=>{const{group:e,userId:t}=this.props;return!!(e&&e.memberships||[]).find(e=>e.userId===t)},this.getFlexboxActionCell=()=>{const{group:e,canCreateGroups:t,localize:r,isAnyGroupMember:n,analyticsId:a,userHasGrade:l,userHasSubmission:p}=this.props,d=this.getSelfEnrollmentDateStateInfo(),m="After"===d.enrollmentDateState,g="Before"===d.enrollmentDateState,h=this.isUserEnrolledInGroup(),f=this.getMaxEnrollment();return e.isSelfEnrolledAllowed?m?o.createElement("div",{className:"join-column read-only enrollment-closed"},r.translate("course.groupWorkspace.selfEnroll.closed")):g?o.createElement("div",{className:"join-column read-only enrollment-pending"},r.translate("course.groupWorkspace.selfEnroll.pending")):h&&!t?o.createElement("div",{className:"join-column read-only enrollment-joined"},o.createElement("div",{className:"join-success-container"},o.createElement(c.Complete,{className:"join-icon"}),o.createElement("span",{className:"join-icon-text"},r.translate("course.groupWorkspace.selfEnroll.joined")))):e&&e.studentCount>=f&&!h&&!m?o.createElement("div",{className:"join-column read-only enrollment-full"},r.translate("course.groupWorkspace.selfEnroll.groupFull")):p||e&&e.hasSubmittedGroupAttempt?o.createElement("div",{className:"join-column read-only attempt-submitted"},r.translate("course.groupWorkspace.selfEnroll.attemptSubmitted")):l||e&&e.hasGrades?o.createElement("div",{className:"join-column read-only enrollment-grade"},r.translate("course.groupWorkspace.selfEnroll.gradeAssigned")):n||t?!n||h||t?void 0:o.createElement("div",{className:"join-column enrollment-move"},o.createElement("div",null,o.createElement(i.Link,{onClick:()=>this.moveToThisGroup(),analyticsId:u.getNewAnalyticsId(a,`group.${e.id}.move.link`)},r.translate("course.groupWorkspace.selfEnroll.moveToGroup")),this.renderDialog())):o.createElement("div",{className:"join-column enrollment-join"},o.createElement(s.PrimaryButton,{type:"button",className:"join-button",onClick:this.onJoinClick,analyticsId:`${a}group.${e.id}.join.button`,text:r.translate("course.groupWorkspace.selfEnroll.join")})):o.createElement("div",{className:"join-column read-only enrollment-disabled"})},this.getTableActionCell=()=>{const{group:e,canCreateGroups:t,localize:r,isAnyGroupMember:n,analyticsId:a,userHasGrade:l,userHasSubmission:p}=this.props,d=this.getSelfEnrollmentDateStateInfo(),m="After"===d.enrollmentDateState,g="Before"===d.enrollmentDateState,h=this.isUserEnrolledInGroup(),f=this.getMaxEnrollment();return e.isSelfEnrolledAllowed?m?o.createElement("div",{className:"join-column read-only enrollment-closed"},r.translate("course.groupWorkspace.selfEnroll.closed")):g?o.createElement("div",{className:"join-column read-only enrollment-pending"},r.translate("course.groupWorkspace.selfEnroll.pending")):h&&!t?o.createElement("div",{className:"join-column read-only enrollment-joined"},o.createElement(c.Complete,{className:"joined-icon"}),o.createElement("span",{className:"join-icon-text"},r.translate("course.groupWorkspace.selfEnroll.joined"))):e&&e.studentCount>=f&&!h&&!m?o.createElement("div",{className:"join-column read-only enrollment-full"},r.translate("course.groupWorkspace.selfEnroll.groupFull")):p||e&&e.hasSubmittedGroupAttempt?o.createElement("div",{className:"join-column read-only attempt-submitted"},r.translate("course.groupWorkspace.selfEnroll.attemptSubmitted")):l||e&&e.hasGrades?o.createElement("div",{className:"join-column read-only enrollment-grade"},r.translate("course.groupWorkspace.selfEnroll.gradeAssigned")):n||t?!n||h||t?void 0:o.createElement("div",{className:"join-column enrollment-move"},o.createElement(i.Link,{onClick:()=>this.moveToThisGroup(),analyticsId:u.getNewAnalyticsId(a,`group.${e.id}.move.link`)},r.translate("course.groupWorkspace.selfEnroll.moveToGroup")),this.renderDialog()):o.createElement("div",{className:"join-column enrollment-join"},o.createElement(s.PrimaryButton,{type:"button",className:"join-button",onClick:this.onJoinClick,analyticsId:`${a}group.${e.id}.join.button`,text:r.translate("course.groupWorkspace.selfEnroll.join")})):o.createElement("div",{className:"join-column read-only enrollment-disabled"})},this.onJoinClick=async()=>{const{group:e,userId:t,courseId:r,enrolledGroupId:o,onJoinGroup:n,onGroupJoined:s}=this.props,l=e.id;try{await n({courseId:r,groupId:l,userId:t,enrolledGroupId:o}),this.dismissDialog(),s&&s()}catch(e){e instanceof a.GroupFullError&&this.loadGroupsAndDisplayWarning(g.WarningCodes.GroupIsFullErrorCode),e instanceof a.GroupEnrollmentExpiredError&&this.loadGroupsAndDisplayWarning(g.WarningCodes.GroupEnrollmentExpiredErrorCode),e instanceof a.TargetGroupSubmittedAttemptError&&this.loadGroupsAndDisplayWarning(g.WarningCodes.TargetGroupSubmittedAttemptErrorCode),e instanceof a.SourceGroupSubmittedAttemptError&&this.loadGroupsAndDisplayWarning(g.WarningCodes.SourceGroupSubmittedAttemptErrorCode),e instanceof a.SourceGroupGradesError&&this.loadGroupsAndDisplayWarning(g.WarningCodes.SourceGroupGradeErrorCode),e instanceof a.TargetGroupGradesError&&this.loadGroupsAndDisplayWarning(g.WarningCodes.TargetGroupGradeErrorCode)}},this.loadGroupsAndDisplayWarning=e=>{const{group:t,courseId:r,onLoadGroups:o,hideOrDisplayWarning:n}=this.props,a=t.contentId;a?o({courseId:r,contentId:a,expand:m.GET_CONTENT_BY_ID_EXPAND},!0).then(()=>{this.dismissDialog(),n(e,!1)}):(this.dismissDialog(),n(e,!1))},this.isShowGroupMembers=()=>{const e=this.getSignUpSheet();return!(!e||!e.isShowGroupMembers)},this.renderHasMembers=()=>{const{localize:e}=this.props;if(this.isNonSelfEnrollmentGroupOrInstructorHidMembers())return o.createElement("div",{className:"group-members-disabled"},e.translate("course.groupWorkspace.membersHidden"))},this.renderMemberList=()=>{const{group:e,groupUsers:t,analyticsId:r,localize:n}=this.props;return o.createElement("div",{className:"group-members"},o.createElement(E.UserListCallout,{localize:n,id:e.id,memberships:e.memberships,groupUsers:t,analyticsId:`${r}.group`}))},this.moveToThisGroup=()=>{this.setState({hideDialog:!1})},this.dismissDialog=()=>{this.setState({hideDialog:!0})},this.onMoveToGroup=()=>{this.onJoinClick()},this.renderDialog=()=>{const{localize:e,analyticsId:t}=this.props;return o.createElement(d.UltraModalDialog,{onDismiss:this.dismissDialog,analyticsId:u.getNewAnalyticsId(t,"dialog.enroll"),hidden:this.state.hideDialog,modalProps:{isAlert:!0,className:"self-enroll-dialog"},dialogContentProps:{type:l.DialogType.close,title:e.translate("course.groupWorkspace.selfEnroll.dialog.titleCanMove"),subText:e.translate("course.groupWorkspace.selfEnroll.dialog.canMove"),showCloseButton:!0}},o.createElement(l.DialogFooter,null,o.createElement(s.DefaultButton,{onClick:this.dismissDialog,analyticsId:u.getNewAnalyticsId(t,"dialog.enroll.defaultButton"),text:e.translate("course.groupWorkspace.button.cancel")}),o.createElement(s.PrimaryButton,{onClick:this.onMoveToGroup,analyticsId:u.getNewAnalyticsId(t,"dialog.enroll.primaryButton"),text:e.translate("course.groupWorkspace.button.move"),className:"moveConfirmBtn"})))},this.state={hideDialog:!0}}getSelfEnrollmentDateStateInfo(){const{groupSet:e,group:t}=this.props;return e?m.getSelfEnrollmentDateStateInfo([e]):m.getSelfEnrollmentDateStateInfo([t])}isNonSelfEnrollmentGroupOrInstructorHidMembers(){const e=this.getSignUpSheet();return!e||!e.isShowGroupMembers}getSignUpSheet(){const{groupSet:e}=this.props;return e&&e.signUpSheet?e.signUpSheet:this.props.group.signUpSheet}shouldShowGroupMemberships(){const{group:e}=this.props,t=this.getSignUpSheet();return e.memberships&&e.memberships.length>0&&t&&t.isShowGroupMembers}renderFlexboxContents(){const{group:e,ariaLabelledBy:t,className:r}=this.props;return o.createElement("li",{id:m.generateSubRowElementId(e.id),key:e.id,className:`flexbox-group-row ${r||""}`},o.createElement("div",{className:"description-column"},o.createElement("div",{className:"groups-icon"},o.createElement(p.Groups,{className:"element-image"})),o.createElement("div",{className:"description-data"},o.createElement("div",{id:`span-cell-${e.id}`,className:"group-title","aria-describedby":`${t} student-groups-group-sets`},e.title),this.shouldShowGroupMemberships()?this.renderMemberList():this.renderHasMembers(),e.description&&""!==e.description.displayText?o.createElement("div",{className:"group-description"},o.createElement(n.BbEditor,{isToolbarHidden:!0,isDisabled:!0,isReadOnly:!0,bbml:e.description.rawText,ariaRequired:!1})):"",this.getFlexboxActionCell())))}renderTableContents(){var e;const{rowId:t,className:r,group:a,ariaLabelledBy:s,localize:l}=this.props;return o.createElement("tr",{id:t||m.generateSubRowElementId(a.id),key:a.id,className:`self-enroll-group-row table-group-row ${r||""}`},o.createElement("td",{className:"groups-icon-column","aria-labelledby":`${s} col-name`,tabIndex:-1},o.createElement("div",{className:"title-column-data-wrapper"},o.createElement("div",{className:"icon-wrapper"},o.createElement("div",{className:"icon groups-icon"},o.createElement(p.Groups,{className:"element-image"}))),o.createElement("div",{className:"title-description-wrapper"},o.createElement("div",{id:`span-cell-${a.id}`,className:"group-title","aria-describedby":`${s} col-name`},a.title),this.shouldShowGroupMemberships()?this.renderMemberList():this.renderHasMembers(),a.description&&""!==a.description.displayText?o.createElement("div",{className:"group-description"},o.createElement(n.BbEditor,{isToolbarHidden:!0,isDisabled:!0,isReadOnly:!0,bbml:a.description.displayText,ariaRequired:!1})):""))),o.createElement("td",{className:"count-column",tabIndex:-1,"aria-labelledby":"col-count"},o.createElement("div",{className:"count-column-data-wrapper"},o.createElement("div",{className:"member-count-and-menu"},o.createElement("span",{className:"list-item-member-count"},l.translate("course.groupWorkspace.selfEnroll.max",{groupCount:null!==(e=a.studentCount)&&void 0!==e?e:0,groupTotal:this.getMaxEnrollment()}))),this.getTableActionCell())))}render(){const{useFlexbox:e}=this.props;return e?this.renderFlexboxContents():this.renderTableContents()}}t.SelfEnrollRowContent=b;t.default=f.connect((e,t)=>{const r=t.group.memberships?t.group.memberships.map(e=>e.userId):[],o=a.select.user.getUsersByIds(e,r);return{group:t.group,groupUsers:o,canCreateGroups:!!a.select.groupWorkspace.canCreate(e)&&a.select.groupWorkspace.canCreate(e),isAnyGroupMember:a.select.group.hasJoined(e,{contentId:t.group.contentId,groupSetId:t.group.groupSetId,userId:t.userId})}},e=>S.bindActionCreators({onLoadGroups:a.actions.group.loadByContentId,onJoinGroup:a.actions.group.addGroupMembership},e))(h.localizedComponentWrapper(b))},E0IX:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("D57K"),n=r("uDfI"),a=r("8unJ"),s=r("JfV0"),l=o.__importDefault(r("oTa5"));t.default=n.connect((e,t)=>({debounceTime:2e3,userId:t.userId,courseId:t.courseId,userHasGrade:t.userHasGrade,userHasSubmission:t.userHasSubmission,group:t.group,isLoading:s.select.groupWorkspace.isLoading(e,t.group.id),courseMemberCount:t.courseMemberCount,hideOrDisplayWarning:t.hideOrDisplayWarning,groupSet:t.groupSet,useFlexbox:t.useFlexbox}))(a.localizedComponentWrapper(l.default))},Ef58:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("D57K").__importStar(r("ERkP"));r("Hrzd");t.default=e=>{const{imageSrc:t,title:r,caption:n,children:a}=e;return o.createElement("div",{className:"group-empty-state"},o.createElement("img",{src:t,role:"presentation"}),o.createElement("p",{className:"group-empty-state-main"},r),o.createElement("p",{className:"group-empty-state-caption"},n),a)}},F2PK:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("D57K").__importStar(r("ERkP")),n=r("ERkP"),a=r("uxze"),s=r("PoQW");r("1aqa");const l=r("sThx");t.UserListCallout=e=>{const{id:t,localize:r,memberships:i,groupUsers:u,analyticsId:c}=e,p=n.useRef(null),[d,m]=n.useState(!1),g="group-user-list-callout"+t;return o.createElement(o.Fragment,null,o.createElement("div",{ref:p},o.createElement(a.Link,{onClick:()=>{m(!0),setTimeout(()=>{document.getElementById(g).focus()},0)},analyticsId:`${c}.showMembers.link`},r.translate("course.groupWorkspace.selfEnroll.showMembers"))),d&&o.createElement(s.Callout,{className:"user-list-callout",gapSpace:5,directionalHint:4,isBeakVisible:!1,onDismiss:()=>{m(!1),p.current.childNodes[0].focus()},target:p.current,setInitialFocus:!1,calloutId:g,role:"region"},o.createElement("ul",null,i.map(e=>{const t=e.user||u[e.userId];return o.createElement(l.UserListItem,{key:e.userId,localize:r,user:t})}))))}},Hrzd:function(e,t,r){"use strict";r.r(t)},Mui3:function(e,t,r){"use strict";r.r(t)},OI4n:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("D57K").__importStar(r("nsO7"));t.GET_CONTENT_BY_ID_EXPAND="memberships.user,studentCount,signUpSheet,hasSubmittedGroupAttempt,hasGrades",t.getDate=()=>new Date;const n=document.createElement("textarea");var a;function s(e){const r=!!e&&o.some(e,["isSelfEnrolledAllowed",!0]),n=t.getDate();if(r){const t=l(e),r=i(e);let o=a.OPEN;return t&&n<t?o=a.BEFORE:r&&n>r&&(o=a.AFTER),{now:n,firstStartDate:t,lastEndDate:r,enrollmentDateState:o,isSelfEnrollment:!0}}return{now:n,isSelfEnrollment:!1}}function l(e){return e.map(e=>o.get(e,"signUpSheet.enrollmentStartDate",null)).reduce((e,t)=>{const r=e?new Date(e):null,o=t?new Date(t):null;return o&&(!r||r>o)?o:r},null)}function i(e){return e.map(e=>o.get(e,"signUpSheet.enrollmentEndDate",null)).reduce((e,t)=>{const r=e?new Date(e):null,o=t?new Date(t):null;return o&&(!r||r<o)?o:r},null)}t.decodeHtmlEntities=function(e){return n.innerHTML=e,n.value},t.decodeOnlyAngleBracketHtmlEntities=function(e){return null==e?e:e.replace(/&gt;/g,">").replace(/&lt;/g,"<")},t.encodeHtmlEntities=function(e){return null==e?e:e.replace(/[\u00A0-\u9999<>\&]/gim,(function(e){return"&#"+e.charCodeAt(0)+";"}))},t.generateSubRowElementId=function(e){return"item-sub-row-"+e},t.navigateToElement=function(e){if(e){document.activeElement.blur(),e.focus()}},function(e){e.OPEN="Open",e.BEFORE="Before",e.AFTER="After"}(a=t.EnrollmentDateState||(t.EnrollmentDateState={})),t.getSelfEnrollmentDateStateInfo=s,t.getSelfEnrollmentGroupInfo=async function(e,t,r){const o=s(e);if(o.isSelfEnrollment){let e=null;return"Before"===o.enrollmentDateState?e=await r.datetime.formatRelativeTimestamp(o.firstStartDate,t):"Open"===o.enrollmentDateState&&o.lastEndDate&&(e=await r.datetime.formatRelativeTimestamp(o.lastEndDate,t)),{relativeDate:e,isEnrollmentDateImportant:!!(o.lastEndDate&&"Open"===o.enrollmentDateState&&o.lastEndDate.getTime()-o.now.getTime()<2592e5),enrollmentDateState:o.enrollmentDateState,isSelfEnrollment:!0}}return{isSelfEnrollment:!1}},t.getFirstEnrollmentStartDate=l,t.getLastEnrollmentEndDate=i,t.sortByTitle=function(e){return o.sortBy(e,"title")},t.getGroupSetIdFromGroups=function(e){return e&&e[0]&&e[0].groupSetId?e[0].groupSetId:null}},"P/xz":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("Agfx");t.useStyles=o.makeStyles(e=>o.createStyles({banner:{padding:"12px 30px"}}))},PGZv:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("D57K"),n=o.__importStar(r("ERkP")),a=o.__importStar(r("7nmT")),s=r("uDfI"),l=r("8unJ"),i=o.__importDefault(r("QEmD"));t.PanelModeEnum=i.default;const u=o.__importDefault(r("7J6X")),c=o.__importDefault(r("zv+s")),p=o.__importDefault(r("VRYg")),d=r("tN4z");var m=r("B7tI");t.GroupSetVisibility=m.GroupSetVisibility,t.DisabledReasons=m.DisabledReasons;var g=r("a1SW");t.MovingMemberBanner=g.default;const h=(e,t,r,o,s,i)=>{let u=r;null==r&&"undefined"!=typeof window&&window.location.search.match("setLang=")&&(u=window.location.search.match(/setLang=([^$&]+)/)[1]),a.render(n.createElement(d.AnalyticsJssThemeProvider,{isRtl:i},n.createElement(l.Locale,{locale:u,babelfishInstance:o,babelfishFormatInstance:s,bundlesToLoad:["group-workspace/locales/[locale]/group-workspace.json"],isRtl:i},n.createElement("div",null,e))),t)};t.renderGroupSetListPanelComponent=(e,t,r,o,a,l,i,c,p,d)=>{h(n.createElement(s.Provider,{store:t},n.createElement(u.default,{courseId:i,root:e,openGroupSetDetailPanel:p,featuresConfig:c,isOrganization:d,analyticsId:"groupSetList"})),e,r,o,a,l)},t.renderContentGroupSelfEnrollmentPanelComponent=(e,t,r)=>{h(n.createElement(s.Provider,{store:t},n.createElement(c.default,{courseId:r.courseId,contentId:r.contentId,contentName:r.contentName,userId:r.userId,root:e,onGroupJoined:r.onGroupJoined,babelfishFormatInstance:r.babelfishFormatInstance,locale:r.locale,analyticsId:"selfEnrollList"})),e,r.locale,r.babelfishInstance,r.babelfishFormatInstance,r.isRtl)},t.renderCourseGroupSelfEnrollmentPanelComponent=(e,t,r)=>{h(n.createElement(s.Provider,{store:t},n.createElement(p.default,{courseId:r.courseId,contentName:r.contentName,userId:r.userId,root:e,onGroupJoined:r.onGroupJoined,babelfishFormatInstance:r.babelfishFormatInstance,locale:r.locale,analyticsId:"selfEnrollList"})),e,r.locale,r.babelfishInstance,r.babelfishFormatInstance,r.isRtl)},t.destroyComponent=e=>{a.unmountComponentAtNode(e)};const f={renderGroupSetListPanelComponent:t.renderGroupSetListPanelComponent,renderContentGroupSelfEnrollmentPanelComponent:t.renderContentGroupSelfEnrollmentPanelComponent,renderCourseGroupSelfEnrollmentPanelComponent:t.renderCourseGroupSelfEnrollmentPanelComponent,destroyComponent:t.destroyComponent};t.default=f},PUaX:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("D57K"),n=o.__importStar(r("ERkP")),a=r("8unJ"),s=r("8jBL"),l=r("OI4n"),i=o.__importDefault(r("O94r"));r("aoOe");t.default=a.localizedComponentWrapper(e=>{const{data:t,ariaLabelledBy:r,expand:o,courseMemberCount:a,isNew:u,localize:c}=e;if(!t.length)return null;const p=t.map((e,p)=>{var d,m;const g=null!==(d=e.studentCount)&&void 0!==d?d:0,h=null!==(m=e.maximumEnrollment||a)&&void 0!==m?m:0,f=i.default("item-row","sub-row",{expand:o},{"last-group":p===t.length-1},{"first-group":0===p},{isNew:u});return n.createElement("tr",{id:l.generateSubRowElementId(e.id),role:"row",key:e.id,className:f},n.createElement("td",{role:"gridcell",className:"sub-column first-column header-column group-cell","aria-labelledby":`${r} col-name`,tabIndex:-1},n.createElement("div",{className:"group-workspace-sub-header group-workspace-header group-cell-content"},n.createElement("div",{className:"icon"},n.createElement(s.Groups,{className:"element-image"})),n.createElement("div",{className:"sub-name click-message-detail"},n.createElement("div",{className:"title-detail-row"},n.createElement("span",{id:`span-cell-${e.id}`,className:"list-item-title","aria-describedby":`${r} col-name`},e.title))))),n.createElement("td",{role:"gridcell",className:"sub-column other-column count-column group-cell",tabIndex:-1,"aria-labelledby":"col-count",colSpan:2},n.createElement("div",{className:"group-member-count group-cell-content"},n.createElement("span",{className:"list-item-member-count"},c.translate("course.groupWorkspace.courseGroup.max",{groupCount:g,groupTotal:h})))),n.createElement("td",{role:"gridcell",className:"sub-column other-column controls-column group-cell"}))});return n.createElement(n.Fragment,null,p)})},QEmD:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("D57K").__importDefault(r("nbDY"));class n extends o.default{}t.default=n,n.VIEW=new n("view"),n.CREATE=new n("create"),n.EDIT=new n("edit"),n.DELETE=new n("delete")},SrrH:function(e,t,r){"use strict";r.r(t)},Tw22:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("Agfx");t.useLargeVariantStyles=o.makeStyles(e=>o.createStyles({textField:{[e.breakpoints.up("sm")]:{width:250},[e.breakpoints.down("xs")]:{border:"none"}},selectedLabel:{[e.breakpoints.down("xs")]:{display:"none"}},icon:{display:"inline-flex",verticalAlign:"middle",marginRight:10},customIcon:{},overallContainer:{display:"inline-flex",width:"auto",[e.breakpoints.up("sm")]:{width:250}},inputDisabled:{backgroundColor:e.palette.background.default,color:e.palette.text.hint},selectDisabled:{visibility:"hidden"},disabledInformationButton:{marginTop:"-5px !important",[e.breakpoints.down("xs")]:{marginLeft:"-20px !important"}},alignDropdown:{marginLeft:"-10px"}})),t.useSmallVariantStyles=o.makeStyles(e=>o.createStyles({textField:{border:"none","&:hover $customIcon":{color:e.palette.action.hover}},selectedLabel:{display:"inline",fontSize:e.typography.fontSizeDefault},icon:{display:"inline-flex",verticalAlign:"middle",marginRight:9,width:14},customIcon:{color:e.palette.background.default},overallContainer:{display:"inline-flex"},disabledInformationButton:{marginLeft:"-20px",marginTop:"-5px"},inputDisabled:{backgroundColor:e.palette.background.default,color:e.palette.text.hint},selectDisabled:{visibility:"hidden"},alignDropdown:{marginLeft:"-10px"}}))},VRYg:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("D57K"),n=o.__importStar(r("ERkP")),a=r("uDfI"),s=r("8unJ"),l=o.__importDefault(r("d+ko")),i=o.__importDefault(r("c3pG")),u=o.__importDefault(r("Ef58")),c=r("MC1S"),p=r("JfV0");r("bRD6");const d=r("9OUN"),m=r("qdia"),g=r("6rNA"),h=r("0x+l");class f extends n.PureComponent{constructor(e){super(e),this.renderContentTitle=()=>{const{contentName:e}=this.props;return n.createElement("span",{className:"panel-sub-title"},e)},this.renderContentGroupTitle=()=>{const{localize:e,contentName:t,analyticsId:r}=this.props;return n.createElement("div",{className:"black-header-contents"},n.createElement(c.IconButton,{ariaLabel:e.translate("base.menu"),className:"left-off-canvas-toggle menu-toggle  standard-button dark-background",icon:n.createElement(h.MainMenu,null),analyticsId:`${r}.toggle.menu.button`}),n.createElement("h1",{className:"panel-title"},e.translate("course.groupWorkspace.selfEnroll.groupTitle",{contentName:t})))},this.hideOrDisplayWarning=(e,t)=>{let r={};switch(e){case m.WarningCodes.GroupIsFullErrorCode:r={groupFull:t};break;case m.WarningCodes.GroupEnrollmentExpiredErrorCode:r={enrollmentExpired:t};break;case m.WarningCodes.TargetGroupSubmittedAttemptErrorCode:r={hasSubmittedGroupAttempt:t};break;case m.WarningCodes.SourceGroupSubmittedAttemptErrorCode:r={hasEnrolledGroupSubmittedAttempt:t};break;case m.WarningCodes.SourceGroupGradeErrorCode:r={hasSourceEnrollmentGroupGrades:t};break;case m.WarningCodes.TargetGroupGradeErrorCode:r={hasTargetEnrollmentGroupGrades:t}}this.setState(r)},this.renderWarning=e=>{const{localize:t,analyticsId:r}=this.props;return n.createElement("div",{key:e.code},!e.state&&n.createElement(c.Notification,{type:c.NotificationType.Failure,message:t.translate(`course.groupWorkspace.selfEnroll.${e.code}`),analyticsId:`${r}.${e.code}.warning.close.button`,onClose:()=>this.hideOrDisplayWarning(e.code,!0),disableAutoDismiss:!0}))},this.renderWarnings=()=>{return[{code:m.WarningCodes.GroupEnrollmentExpiredErrorCode,state:this.state.enrollmentExpired},{code:m.WarningCodes.GroupIsFullErrorCode,state:this.state.groupFull},{code:m.WarningCodes.SourceGroupSubmittedAttemptErrorCode,state:this.state.hasEnrolledGroupSubmittedAttempt},{code:m.WarningCodes.TargetGroupSubmittedAttemptErrorCode,state:this.state.hasSubmittedGroupAttempt},{code:m.WarningCodes.SourceGroupGradeErrorCode,state:this.state.hasSourceEnrollmentGroupGrades},{code:m.WarningCodes.TargetGroupGradeErrorCode,state:this.state.hasTargetEnrollmentGroupGrades}].map(e=>this.renderWarning(e))},this.state={groupFull:!0,enrollmentExpired:!0,hasSubmittedGroupAttempt:!0,hasEnrolledGroupSubmittedAttempt:!0,hasSourceEnrollmentGroupGrades:!0,hasTargetEnrollmentGroupGrades:!0}}componentDidMount(){const{courseId:e,onLoadGroupSets:t,onLoadGroups:r,onGetCourseContext:o}=this.props;t(e),r(e),o(e)}getGroupSetCount(){return this.getGroupSetsToRender().length}getGroupsCount(){return(this.props.groupSets||[]).reduce((e,{assignedGroups:t=[]})=>e+t.length,0)}renderLoadingIndicator(){return n.createElement("div",{className:"spinner-container"},n.createElement(c.Spinner,{size:c.SpinnerSize.xLarge}))}renderGroupSets(){const{analyticsId:e,userId:t,locale:r,localize:o,onGroupJoined:a,courseId:s,UltraWindowSize:c}=this.props;return 0===this.getGroupSetCount()?n.createElement(u.default,{imageSrc:"./static/images/ftue/empty-course-group.svg",title:o.translate("course.groupWorkspace.selfEnroll.emptyState.title"),caption:o.translate("course.groupWorkspace.selfEnroll.emptyState.caption")}):c.isSmallBreakpoint()?n.createElement(l.default,{groupSetList:this.getGroupSetsToRender(),analyticsId:e,userId:t,courseId:s,locale:r,onGroupJoined:a,hideOrDisplayWarning:this.hideOrDisplayWarning}):n.createElement(i.default,{groupSetList:this.getGroupSetsToRender(),analyticsId:e,userId:t,courseId:s,locale:r,onGroupJoined:a,hideOrDisplayWarning:this.hideOrDisplayWarning})}getNonEmptyGroupSets(){return(this.props.groupSets||[]).filter(({groupCount:e,assignedGroups:t})=>e&&t&&t.length)}getGroupSetsToRender(){return g.sortGroupSetList(this.getNonEmptyGroupSets())}render(){const{localize:e,isLoading:t}=this.props;return n.createElement("div",{className:"page-group-set course-group-self-enroll-layer"},n.createElement("div",{className:"panel-wrap"},n.createElement("header",{className:"panel-header simple-header"},n.createElement("div",{className:"panel-titles-container"},this.renderContentTitle(),this.renderContentGroupTitle())),n.createElement("div",{className:"guidance-wrapper"},n.createElement("span",{className:"set-group-count"},e.translate("course.groupWorkspace.guidance.groupAndGroupSetCount.plural",{groupSetCount:this.getGroupSetCount(),groupCount:this.getGroupsCount()}))),n.createElement("div",{className:"panel-content"},n.createElement("div",{className:"row collapse"},this.renderWarnings(),t?this.renderLoadingIndicator():this.renderGroupSets()))))}}t.CourseGroupSelfEnrollPanel=f,t.default=a.connect((e,t)=>{return{groupSets:p.xelect.groupSet.getRenderedGroupSets(e,t.courseId),isLoading:p.select.groupWorkspace.isLoading(e)||p.select.group.isLoading(e),courseMemberCount:p.select.course.getCourseStudentCount(e,t.courseId)}},e=>d.bindActionCreators({onLoadGroupSets:p.actions.groupWorkspace.loadGroupSets,onLoadGroups:p.actions.group.loadGroupsByCourse,onGetCourseContext:p.actions.course.fetchCourseStudentCount},e))(c.windowResizingResponsiveComponentWrapper(s.localizedComponentWrapper(f)))},XIlm:function(e,t,r){"use strict";r.r(t)},a1SW:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("D57K").__importStar(r("ERkP")),n=r("8unJ"),a=r("zTL+"),s=r("IVC4"),l=r("P/xz");t.MovingMemberBanner=n.localizedComponentWrapper(({localize:e})=>{const[t,r]=o.useState(!0),n=l.useStyles();return t?(()=>{const t=o.createElement(s.Attention,null),l=e.translate("course.groupWorkspace.movingMembersBanner.closeText"),i=e.translate("course.groupWorkspace.movingMembersBanner.bannerMessage");return o.createElement(a.AnalyticsBanner,{severity:"warning",icon:t,onClose:()=>r(!1),closeText:l,className:n.banner},o.createElement("span",{className:"js-banner-contents"},i))})():null}),t.default=t.MovingMemberBanner},aoOe:function(e,t,r){"use strict";r.r(t)},bRD6:function(e,t,r){"use strict";r.r(t)},bUTP:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("D57K"),n=r("uDfI"),a=r("9OUN"),s=r("8unJ"),l=r("JfV0"),i=r("myse"),u=o.__importDefault(r("uSaF"));t.default=i.withAnalytics(n.connect((e,t)=>({index:t.index,courseId:t.courseId,debounceTime:2e3,localize:t.localize,rowData:t.groupSet,isLoading:l.select.groupWorkspace.isLoading(e,t.groupSet.id),isNew:l.select.groupWorkspace.isNew(e,t.groupSet.id),subRowsData:l.select.group.getGroupsByGroupSetId(e,t.groupSet.id),subRowsCount:l.select.groupWorkspace.getGroupsCountByGroupSetId(e,t.groupSet.id),sortCriteria:t.sortCriteria,courseMemberCount:t.courseMemberCount,featuresConfig:t.featuresConfig}),e=>a.bindActionCreators({onLoadSubRowsData:l.actions.group.loadByGroupSetId,onDelete:l.actions.groupWorkspace.removeGroupSet,onExpire:l.actions.groupWorkspace.markAsOld},e))(s.localizedComponentWrapper(u.default)))},c3pG:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("D57K"),n=o.__importStar(r("ERkP")),a=o.__importDefault(r("x6OE")),s=r("8unJ");r("lFpE");const l=o.__importDefault(r("tDgr"));class i extends n.PureComponent{constructor(){super(...arguments),this.renderGroupSetListItem=(e,t)=>{const{localize:r,locale:o,groupSetList:a,userId:s,courseId:i,analyticsId:u,babelfishFormatInstance:c,onGroupJoined:p}=this.props,d=a[e];return n.createElement(l.default,{courseId:i,groupSet:d,userId:s,localize:r,onGroupJoined:p,babelfishFormatInstance:c,hideOrDisplayWarning:this.props.hideOrDisplayWarning,locale:o,analyticsId:`${u}.groupItem`,key:t})}}getGroupSetCount(){return(this.props.groupSetList||[]).length}render(){const{localize:e}=this.props;return n.createElement("div",{className:"tabular-list-container"},n.createElement("div",{className:"tabular-list"},n.createElement("table",{className:"course-group-set-table","aria-label":e.translate("course.groupWorkspace.pageTitle"),tabIndex:-1},n.createElement("thead",{className:"group-set-sort-header"},n.createElement("tr",{className:"group-set-sort-row",id:"table-header-row"},n.createElement("th",{className:"column-title",id:"col-name"},e.translate("course.groupWorkspace.selfEnroll.groupSets")),n.createElement("th",{className:"column-student-count count",id:"col-count",tabIndex:-1},e.translate("course.groupWorkspace.selfEnroll.numberOfStudents")))),n.createElement(a.default,{itemsRenderer:(e,t)=>n.createElement("tbody",{ref:t},e),length:this.getGroupSetCount(),itemRenderer:this.renderGroupSetListItem,ref:e=>this.list=e}))))}}t.CourseGroupSetTable=i,t.default=s.localizedComponentWrapper(i)},cbpr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("D57K"),n=o.__importStar(r("ERkP")),a=r("uDfI"),s=r("8unJ"),l=r("OI4n"),i=r("6rNA"),u=r("MC1S"),c=r("JfV0");r("krnS");const p=r("9OUN"),d=r("kBJj"),m=o.__importStar(r("nsO7")),g=o.__importDefault(r("Czjl")),h=r("D7Uk"),f=r("0x+l");class E extends n.PureComponent{constructor(e){super(e),this.toggleRow=()=>{this.setState(e=>({expand:!e.expand}))},this.renderEnrollmentWarning=()=>{const{localize:e}=this.props,{isEnrollmentDateImportant:t,relativeDate:r,enrollmentDateState:o}=this.state;let a=null;switch(o){case"Before":a=n.createElement("div",null,e.translate("course.groupWorkspace.selfEnroll.enrollment-starts",{time:r}));break;case"Open":r&&(a=n.createElement("div",{className:t?"enrollment-warning":null},e.translate("course.groupWorkspace.selfEnroll.enrollment-closes",{time:r})));break;case"After":a=n.createElement("div",null,e.translate("course.groupWorkspace.selfEnroll.enrollment-closed"))}return a},this.state={expand:i.isActionableSelfEnrollmentGroup(e.groupSet)}}componentDidUpdate(e,t){this.onLoadSelfEnrollmentGroupInfo(t)}componentDidMount(){this.onLoadSelfEnrollmentGroupInfo(this.state)}onLoadSelfEnrollmentGroupInfo(e){const{groupSet:t,locale:r,babelfishFormatInstance:o}=this.props;t.isSelfEnrolledAllowed&&l.getSelfEnrollmentGroupInfo([t],r,o).then(t=>{const{relativeDate:r,isEnrollmentDateImportant:o,enrollmentDateState:n}=t;e.relativeDate===r&&e.isEnrollmentDateImportant===o&&e.enrollmentDateState===n||this.updateSelfEnrollmentGroupInfo(t)})}getEnrolledGroup(){const{groups:e,userId:t}=this.props;return m.find(e,e=>m.some(e.memberships,e=>e.userId===t))}getEnrolledGroupId(){const{groups:e,userId:t}=this.props,r=m.find(e,e=>m.some(e.memberships,e=>e.userId===t));return r?r.id:void 0}isUserInGroupWithSubmission(){const e=this.getEnrolledGroup();return e&&e.hasSubmittedGroupAttempt}isUserInGroupWithGrade(){const e=this.getEnrolledGroup();return e&&e.hasGrades}updateSelfEnrollmentGroupInfo(e){const{relativeDate:t,isEnrollmentDateImportant:r,enrollmentDateState:o}=e;this.setState({relativeDate:t,isEnrollmentDateImportant:r,enrollmentDateState:o})}renderSubItems(){const{analyticsId:e,courseId:t,courseMemberCount:r,groups:o,groupSet:a,hideOrDisplayWarning:s,localize:i,userId:u}=this.props,{expand:c}=this.state;return o?o.map((p,d)=>{const m=`${c?"expand":""} ${d===o.length-1?"last-child":""}`,h=l.generateSubRowElementId(p.id);return n.createElement(g.default,{rowId:h,className:m,key:p.id,group:p,groupSet:a,enrolledGroupId:this.getEnrolledGroupId(),userId:u,courseId:t,ariaLabelledBy:`title-${p.id}`,userHasGrade:this.isUserInGroupWithGrade(),userHasSubmission:this.isUserInGroupWithSubmission(),localize:i,useFlexbox:!0,courseMemberCount:r,hideOrDisplayWarning:s,onGroupJoined:this.props.onGroupJoined,analyticsId:`${e}.groupItem`})}):null}renderIcon(){return n.createElement("div",{className:"group-set-icon-container"},n.createElement("div",{className:"group-set-icon"},n.createElement(h.Groups,{color:"primary",className:"element-image"})))}render(){const{groups:e,groupSet:t,isLoading:r,analyticsId:o}=this.props,{expand:a}=this.state,s=!(!t.description||!t.description.rawText),i=`${e&&e.map(e=>l.generateSubRowElementId(e.id)).join(" ")}`;return n.createElement(n.Fragment,null,n.createElement("li",{key:t.id,id:`row-${t.id}`,className:`group-set-row expandable ${a?"expand":""}`,"aria-expanded":a},this.renderIcon(),n.createElement("div",{className:"group-set-row-data"},n.createElement("div",{className:"group-set-header description-column"},n.createElement("div",{className:"group-set-title"},t.title),this.renderEnrollmentWarning(),s&&n.createElement("div",{className:"group-set-description-text"},n.createElement(d.BbEditor,{isToolbarHidden:!0,isDisabled:!0,isReadOnly:!0,bbml:t.description.rawText,ariaRequired:!1})))),n.createElement("div",{className:"item-expand"},n.createElement(u.IconButton,{icon:a?n.createElement(f.ArrowUp,null):n.createElement(f.ArrowDown,null),analyticsId:o,onClick:this.toggleRow,"aria-controls":i}))),r?n.createElement("li",{className:"isLoading"},n.createElement(u.Spinner,{size:u.SpinnerSize.large})):this.renderSubItems())}}t.CourseGroupSetItem=E,t.default=a.connect((e,t)=>({groups:l.sortByTitle(c.select.group.getGroupsByGroupSetId(e,t.groupSet.id)),isLoading:c.select.group.isLoading(e)||c.select.groupWorkspace.isLoading(e,t.groupSet.id),courseMemberCount:c.select.course.getCourseStudentCount(e,t.courseId)}),e=>p.bindActionCreators({},e))(s.localizedComponentWrapper(E))},"d+ko":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("D57K"),n=o.__importStar(r("ERkP")),a=o.__importDefault(r("x6OE")),s=r("8unJ"),l=o.__importDefault(r("cbpr"));r("Mui3");const i="student-groups-group-sets";class u extends n.PureComponent{constructor(){super(...arguments),this.renderGroupSetList=(e,t)=>{const{localize:r}=this.props;return n.createElement("div",{className:"group-set-list-container",ref:t},n.createElement("div",{className:"list-header"},n.createElement("div",{className:"description-header column-title",id:i},r.translate("course.groupWorkspace.selfEnroll.groupSets"))),n.createElement("ul",{className:"group-set-list"},e))},this.renderGroupSetListItem=(e,t)=>{const{localize:r,locale:o,groupSetList:a,userId:s,courseId:i,analyticsId:u,babelfishFormatInstance:c,onGroupJoined:p}=this.props,d=a[e];return n.createElement(l.default,{courseId:i,groupSet:d,userId:s,localize:r,onGroupJoined:p,babelfishFormatInstance:c,hideOrDisplayWarning:this.props.hideOrDisplayWarning,locale:o,analyticsId:`${u}.groupItem`,key:t})}}getGroupSetCount(){return(this.props.groupSetList||[]).length}render(){return n.createElement(a.default,{itemsRenderer:this.renderGroupSetList,length:this.getGroupSetCount(),itemRenderer:this.renderGroupSetListItem,ref:e=>this.list=e})}}t.CourseGroupSetList=u,t.default=s.localizedComponentWrapper(u)},jYX2:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("D57K").__importStar(r("nsO7")),n=r("OI4n");t.shiftFocus=e=>{const t=document.activeElement;if("TH"!==t.tagName&&"TD"!==t.tagName)return!0;{const r=document.getElementById("expandGrid").querySelectorAll(".list-item-row.group-set-sort-row, .item-row.expandable, .item-row.sub-row.expand"),a=e.key,s=t.parentElement,l=o.indexOf(r,s),i=o.indexOf(s.cells,t);switch(a){case"ArrowRight":return e.preventDefault(),n.navigateToElement(s.cells[i+1]),!1;case"ArrowLeft":return e.preventDefault(),n.navigateToElement(s.cells[i-1]),!1;case"ArrowUp":{e.preventDefault();const t=r[l-1];return n.navigateToElement(t&&t.cells[i]),!1}case"ArrowDown":{e.preventDefault();const t=r[l+1];return n.navigateToElement(t&&t.cells[i]),!1}default:return!0}}}},krnS:function(e,t,r){"use strict";r.r(t)},lFpE:function(e,t,r){"use strict";r.r(t)},oTa5:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("D57K"),n=o.__importStar(r("ERkP")),a=o.__importDefault(r("Czjl")),s=r("MC1S");class l extends n.PureComponent{componentDidUpdate(e){e.group&&this.props.group&&(e.group.title===this.props.group.title&&e.group.studentCount===this.props.group.studentCount||this.props.onChangeOffset())}render(){const{group:e,userId:t,courseId:r,enrolledGroupId:o,isLoading:l,localize:i,courseMemberCount:u,hideOrDisplayWarning:c,analyticsId:p,groupSet:d,userHasGrade:m,userHasSubmission:g,useFlexbox:h}=this.props;return l?n.createElement("tr",null,n.createElement("td",{colSpan:2,className:"isLoading"},n.createElement(s.Spinner,{size:s.SpinnerSize.large}))):n.createElement(a.default,{group:e,userId:t,enrolledGroupId:o,courseId:r,userHasGrade:m,userHasSubmission:g,ariaLabelledBy:`title-${e.id}`,courseMemberCount:u,localize:i,hideOrDisplayWarning:c,onGroupJoined:this.props.onGroupJoined,analyticsId:`${p}.groupContent`,groupSet:d,useFlexbox:h})}}t.default=l},"pNp/":function(e,t,r){"use strict";r.r(t)},qdia:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.GroupEnrollmentExpiredErrorCode="enrollmentExpiredError",e.GroupIsFullErrorCode="groupIsFullError",e.SourceGroupSubmittedAttemptErrorCode="hasEnrolledGroupSubmittedAttemptError",e.TargetGroupSubmittedAttemptErrorCode="hasSubmittedGroupAttemptError",e.SourceGroupGradeErrorCode="hasSourceEnrollmentGroupGradesError",e.TargetGroupGradeErrorCode="hasTargetEnrollmentGroupGradesError"}(t.WarningCodes||(t.WarningCodes={}))},sFl4:function(e,t,r){"use strict";r.r(t)},sThx:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("D57K").__importStar(r("ERkP")),n=r("p55U"),a=r("n7/H");r("XIlm"),t.UserListItem=e=>{const{localize:t,user:r}=e,s=r?t.formatUsername(r,a.ILocaleUsernameFormat.Short):t.translate("course.groupWorkspace.selfEnroll.userUnavailable");return r?o.createElement("li",null,r.avatar&&r.avatar.permanentUrl?o.createElement(n.Avatar,{image:r.avatar.permanentUrl}):"",o.createElement("div",{className:"short-name"},s)):o.createElement("li",null,o.createElement("div",{className:"short-name"},s))}},tDgr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("D57K"),n=o.__importStar(r("ERkP")),a=r("uDfI"),s=r("8unJ"),l=r("OI4n"),i=r("6rNA"),u=r("MC1S"),c=r("JfV0"),p=r("0x+l");r("SrrH");const d=r("9OUN"),m=r("kBJj"),g=o.__importStar(r("nsO7")),h=o.__importDefault(r("Czjl")),f=r("D7Uk"),E=o.__importDefault(r("O94r"));class S extends n.PureComponent{constructor(e){super(e),this.toggleRow=()=>{this.setState(e=>({expand:!e.expand}))},this.renderEnrollmentWarning=()=>{const{localize:e}=this.props,{isEnrollmentDateImportant:t,relativeDate:r,enrollmentDateState:o}=this.state;let a=null;switch(o){case l.EnrollmentDateState.BEFORE:a=n.createElement("div",null,e.translate("course.groupWorkspace.selfEnroll.enrollment-starts",{time:r}));break;case l.EnrollmentDateState.OPEN:r&&(a=n.createElement("div",{className:t?"enrollment-warning":null},e.translate("course.groupWorkspace.selfEnroll.enrollment-closes",{time:r})));break;case l.EnrollmentDateState.AFTER:a=n.createElement("div",null,e.translate("course.groupWorkspace.selfEnroll.enrollment-closed"))}return a},this.state={expand:i.isActionableSelfEnrollmentGroup(e.groupSet)}}componentDidUpdate(e,t){this.onLoadSelfEnrollmentGroupInfo(t)}componentDidMount(){this.onLoadSelfEnrollmentGroupInfo(this.state)}onLoadSelfEnrollmentGroupInfo(e){const{groupSet:t,locale:r,babelfishFormatInstance:o}=this.props;t.isSelfEnrolledAllowed&&l.getSelfEnrollmentGroupInfo([t],r,o).then(t=>{const{relativeDate:r,isEnrollmentDateImportant:o,enrollmentDateState:n}=t;e.relativeDate===r&&e.isEnrollmentDateImportant===o&&e.enrollmentDateState===n||this.updateSelfEnrollmentGroupInfo(t)})}getEnrolledGroupId(){const{groups:e,userId:t}=this.props,r=g.find(e,e=>g.some(e.memberships,e=>e.userId===t));return r?r.id:void 0}getEnrolledGroup(){const{groups:e,userId:t}=this.props;return g.find(e,e=>g.some(e.memberships,e=>e.userId===t))}isUserInGroupWithSubmission(){const e=this.getEnrolledGroup();return e&&e.hasSubmittedGroupAttempt}isUserInGroupWithGrade(){const e=this.getEnrolledGroup();return e&&e.hasGrades}updateSelfEnrollmentGroupInfo(e){const{relativeDate:t,isEnrollmentDateImportant:r,enrollmentDateState:o}=e;this.setState({relativeDate:t,isEnrollmentDateImportant:r,enrollmentDateState:o})}renderSubItems(){const{analyticsId:e,courseId:t,courseMemberCount:r,groups:o,groupSet:a,hideOrDisplayWarning:s,localize:i,userId:u}=this.props,{expand:c}=this.state;return o?o.map((p,d)=>{const m=E.default({expand:c},{"last-group":d===o.length-1},{"first-group":0===d}),g=l.generateSubRowElementId(p.id);return n.createElement(h.default,{key:p.id,rowId:g,className:m,group:p,userId:u,enrolledGroupId:this.getEnrolledGroupId(),courseId:t,ariaLabelledBy:`title-${p.id}`,courseMemberCount:r,userHasGrade:this.isUserInGroupWithGrade(),userHasSubmission:this.isUserInGroupWithSubmission(),localize:i,hideOrDisplayWarning:s,onGroupJoined:this.props.onGroupJoined,analyticsId:`${e}.groupContent`,groupSet:a,useFlexbox:!1})}):null}render(){const{groups:e,groupSet:t,isLoading:r,courseMemberCount:o,analyticsId:a}=this.props,{expand:s}=this.state,i=!(!t.description||!t.description.rawText),c=`${e&&e.map(e=>l.generateSubRowElementId(e.id)).join(" ")}`;return n.createElement(n.Fragment,null,n.createElement("tr",{key:t.id,id:`row-${t.id}`,className:`group-set-item item-row expandable ${s?"expand":""}`,"aria-expanded":s},n.createElement("td",{className:"header-column",tabIndex:-1},n.createElement("div",{className:"group-workspace-header"},n.createElement("div",{className:"icon"},n.createElement(f.Groups,{color:"primary",className:"element-image"})),n.createElement("div",{className:"group-set-header description-column"},n.createElement("div",{className:"group-set-title"},t.title),this.renderEnrollmentWarning(),i&&n.createElement("div",{className:"group-set-description-text"},n.createElement(m.BbEditor,{isToolbarHidden:!0,isReadOnly:!0,bbml:t.description.rawText,ariaRequired:!1}))))),n.createElement("td",{className:"count-column",tabIndex:-1,"aria-labelledby":"col-count"},n.createElement("div",{className:"count-column-data-wrapper"},n.createElement("div",{className:"member-count"},n.createElement("span",{className:"list-item-member-count"},n.createElement("span",{className:"list-item-member-count-current"},`${t.studentCount||0}`),` / ${o||0}`)),n.createElement("div",{className:"item-expand"},n.createElement(u.IconButton,{icon:s?n.createElement(p.ArrowUp,null):n.createElement(p.ArrowDown,null),analyticsId:a,onClick:this.toggleRow,"aria-controls":c}))))),r?n.createElement("tr",null,n.createElement("td",{colSpan:2,className:"isLoading"},n.createElement(u.Spinner,{size:u.SpinnerSize.large}))):this.renderSubItems())}}t.CourseGroupSetTableItem=S,t.default=a.connect((e,t)=>({groups:l.sortByTitle(c.select.group.getGroupsByGroupSetId(e,t.groupSet.id)),isLoading:c.select.group.isLoading(e)||c.select.groupWorkspace.isLoading(e,t.groupSet.id),courseMemberCount:c.select.course.getCourseStudentCount(e,t.courseId)}),e=>d.bindActionCreators({},e))(s.localizedComponentWrapper(S))},teUV:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("D57K").__importStar(r("ERkP")),n=r("TUnR"),a=r("GuFu"),s=r("8unJ");t.GroupSetVisibilityFtue=s.localizedComponentWrapper(e=>{const{localize:t}=e,r=a.useCourseOrgTokenResolver("course.groupWorkspace","organization.groupWorkspace");return o.createElement(n.GuidanceFeatureAnnouncement,{componentKey:"course.groupWorkspace.groupVisibility",announcementTitle:t.translate("course.groupWorkspace.groupVisibility.ftue.title"),content:t.translate(r("course.groupWorkspace.groupVisibility.ftue.content")),buttonAriaLabel:t.translate("course.groupWorkspace.groupVisibility.ftue.buttonAriaLabel"),doneButtonText:t.translate("course.groupWorkspace.groupVisibility.ftue.doneButtonText"),linkHref:t.translate("course.groupWorkspace.groupVisibility.ftue.moreInfoLinkUrl"),linkText:t.translate("course.groupWorkspace.groupVisibility.ftue.moreInfoLinkText"),closeLabel:t.translate("global.close")})})},uSaF:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("D57K"),n=o.__importStar(r("ERkP")),a=r("MC1S"),s=r("myse"),l=r("caKH"),i=o.__importDefault(r("PUaX")),u=o.__importDefault(r("QEmD")),c=r("D7Uk"),p=r("0x+l");r("aoOe");const d=r("BJY0"),m=r("tN4z"),g=o.__importDefault(r("O94r")),h=r("teUV");class f extends n.PureComponent{constructor(e){super(e),this.timerHandler=null,this.getActionOptions=(e,t,r)=>{const o={items:[]};return e&&e.viewGroupMembers&&o.items.push({key:u.default.EDIT,name:t.translate(e.modify?"course.groupWorkspace.button.edit":"course.groupWorkspace.button.view"),icon:e.modify?n.createElement(p.Edit,null):n.createElement(p.Visible,null),onClick:this.onEditGroupSet}),e&&e.delete&&o.items.push({key:u.default.DELETE,name:t.translate("course.groupWorkspace.button.delete"),icon:n.createElement(p.Trash,null),onClick:this.onOpenDeleteConfirmDialog}),o},this.toggleRow=()=>{this.props.onExpand(!this.props.expand)},this.dismissDialog=()=>{const{isMounted:e}=this.state;e&&this.setState({hideDialog:!0})},this.onOpenDeleteConfirmDialog=()=>{this.setState({hideDialog:!1})},this.clickGroupSetTitle=e=>{this.onEditGroupSet(),e.stopPropagation()},this.onEditGroupSet=()=>{const{openGroupSetDetailPanel:e,courseId:t,rowData:r}=this.props;this.actionMenu.focus(),e(t,r.id,u.default.EDIT)},this.onDeleteGroupSet=()=>{const{onDelete:e,courseId:t,rowData:r}=this.props;e(t,r.id).then(()=>{this.dismissDialog()})},this.renderDialog=e=>{const{localize:t,analyticsId:r}=this.props;return n.createElement(l.UltraModalDialog,{analyticsId:`${r}.dialog`,onDismiss:this.dismissDialog,hidden:this.state.hideDialog,modalProps:{isAlert:!0},dialogContentProps:{type:a.DialogType.close,title:t.translate("course.groupWorkspace.dialogText.deleteGroupSet"),subText:t.translate(e?"course.groupWorkspace.dialogText.confirmDeleteEmptyGroupSet":"course.groupWorkspace.dialogText.confirmDeleteGroupSet"),showCloseButton:!1}},n.createElement(a.DialogFooter,null,n.createElement(a.DefaultButton,{analyticsId:`${r}.dialog.cancel.button`,onClick:this.dismissDialog,text:t.translate("course.groupWorkspace.button.cancel")}),n.createElement(a.PrimaryButton,{analyticsId:`${r}.dialog.delete.confirm.button`,onClick:this.onDeleteGroupSet,text:t.translate("course.groupWorkspace.button.delete"),className:"deleteConfirmBtn"})))},this.registerTimeoutEvent=()=>{const{debounceTime:e,onExpire:t,rowData:r}=this.props;this.timerHandler=setTimeout(()=>{t(r.id)},e)},this.state={hideDialog:!0,isMounted:!1}}componentDidMount(){this.setState({isMounted:!0}),this.props.isNew&&this.registerTimeoutEvent()}componentDidUpdate(e){this.props.expand&&!this.props.isLoading&&this.props.subRowsCount&&0===this.props.subRowsData.length&&this.props.onLoadSubRowsData(this.props.courseId,this.props.rowData.id,{sort:this.props.sortCriteria}),!e.isNew&&this.props.isNew&&this.registerTimeoutEvent(),e.rowData&&this.props.rowData&&(e.rowData.title===this.props.rowData.title&&e.rowData.studentCount===this.props.rowData.studentCount||this.props.onChangeOffset())}componentWillUnmount(){this.setState({isMounted:!1}),this.setState({hideDialog:!1}),this.timerHandler&&clearTimeout(this.timerHandler)}render(){var e;const{raised:t,expand:r,featuresConfig:o,subRowsData:l,rowData:u,isLoading:f,localize:E,subRowsCount:S,courseMemberCount:b,isNew:y,analyticsEventAugmentor:v,analyticsId:C}=this.props,I=null===(e=u.permissions)||void 0===e?void 0:e.viewGroupMembers,G=r?"hide":"show",D=`${this.props.analyticsId}.list.toggleRow.${G}.button`,k=E.translate(`course.groupWorkspace.groupList.${G}`,{groupSet:u.title}),w=g.default("item-row","expandable",{expand:r},{isNew:y},{raised:t});return n.createElement(n.Fragment,null,n.createElement("tr",{id:`row-${u.id}`,className:w,role:"row"},n.createElement("td",{className:"header-column group-set-cell group-set-first-column",role:"gridcell",tabIndex:-1,"aria-labelledby":"col-name"},n.createElement("div",{className:"group-workspace-header"},n.createElement("div",{className:"icon"},n.createElement(c.Groups,{color:"primary",className:"element-image"})),n.createElement("div",{className:"click-message-detail"},n.createElement("div",{className:"title-detail"},n.createElement("a",{className:"list-item-title",href:"#",onClick:v(s.AnalyticsEventTypes.CLICK_EVENT,this.clickGroupSetTitle,`${C}.list.itemTitle.link`),"data-analytics-id":`${C}.list.itemTitle.link`,id:`title-${u.id}`},u.title),n.createElement("span",{className:"title-count-separator"},"|"),n.createElement("span",{className:"group-count"},E.translate("course.groupWorkspace.guidance.groupCount.plural",{groupCount:S||0}))),n.createElement("div",{className:"group-set-visibility"},n.createElement(d.ConnectedGroupSetVisibility,{analyticsId:`${C}.itemVisibility`,groupSetId:this.props.groupSet.id}),0===this.props.index&&n.createElement(h.GroupSetVisibilityFtue,null))))),n.createElement("td",{className:"count-column group-set-cell group-set-other-column",role:"gridcell",tabIndex:-1,"aria-labelledby":"col-count"},n.createElement("div",{className:"member-count"},n.createElement("span",{className:"list-item-student-count"},n.createElement("span",{className:"list-item-member-count"},E.translate("course.groupWorkspace.courseGroup.memberAndStudentCount",{memberCount:b||0,studentCount:u.studentCount||0}))))),n.createElement("td",{className:"controls-column group-set-cell group-set-other-column",role:"grid-cell",tabIndex:-1},n.createElement("div",{className:"menu-and-chevron"},n.createElement(a.ActionMenu,{analyticsId:`${C}.actionMenu`,className:"action-menu",componentRef:e=>{this.actionMenu=e},disabled:!this.state.hideDialog||!I,menuProps:this.getActionOptions(u.permissions,E,o),maintainExpandedProperties:!this.state.hideDialog,ariaLabel:E.translate("course.groupWorkspace.button.title.moreOptions")}),this.renderDialog(!S),n.createElement(m.AnalyticsIconButton,{analyticsId:D,"aria-label":k,"aria-expanded":this.props.expand,onClick:this.toggleRow,className:"chevron"},this.props.expand?n.createElement(p.ArrowUp,null):n.createElement(p.ArrowDown,null))))),f?n.createElement("tr",null,n.createElement("td",{colSpan:2,className:"isLoading"},n.createElement(a.Spinner,{size:a.SpinnerSize.large}))):n.createElement(i.default,{data:l,ariaLabelledBy:`title-${u.id}`,expand:this.props.expand,courseMemberCount:b,isNew:y}))}}t.default=f},x5ha:function(e,t,r){"use strict";r.r(t)},x6OE:function(e,t,r){var o,n,a;n=[r("ERkP"),r("aWzz")],void 0===(a="function"==typeof(o=function(t,r){"use strict";var o,n,a;function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),e}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t=function(e){if(e&&e.__esModule)return e;var t=s();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=o?Object.getOwnPropertyDescriptor(e,n):null;a&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n]}}return r.default=e,t&&t.set(e,r),r}(t),r=(a=r)&&a.__esModule?a:{default:a};var h={x:"clientWidth",y:"clientHeight"},f={x:"clientTop",y:"clientLeft"},E={x:"innerWidth",y:"innerHeight"},S={x:"offsetWidth",y:"offsetHeight"},b={x:"offsetLeft",y:"offsetTop"},y={x:"overflowX",y:"overflowY"},v={x:"scrollWidth",y:"scrollHeight"},C={x:"scrollLeft",y:"scrollTop"},I={x:"width",y:"height"},G=function(){},D=!!function(){if("undefined"==typeof window)return!1;var e=!1;try{document.createElement("div").addEventListener("test",G,{get passive(){return e=!0,!1}})}catch(e){}return e}()&&{passive:!0},k=function(e,t){var r=e.length,o=e.minSize,n=e.type,a=t.from,s=t.size,l=t.itemsPerRow,i=(s=Math.max(s,o))%l;return i&&(s+=l-i),s>r&&(s=r),(i=(a="simple"!==n&&a?Math.max(Math.min(a,r-s),0):0)%l)&&(a-=i,s+=i),a===t.from&&s==t.size?t:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(r,!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{from:a,size:s})};e.exports=(n=o=function(e){function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=i(this,u(r).call(this,e))).state=k(e,{itemsPerRow:1,from:e.initialIndex,size:0}),t.cache={},t.cachedScrollPosition=null,t.prevPrevState={},t.unstable=!1,t.updateCounter=0,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(r,e),p(r,null,[{key:"getDerivedStateFromProps",value:function(e,t){var r=k(e,t);return r===t?null:r}}]),p(r,[{key:"componentDidMount",value:function(){this.updateFrameAndClearCache=this.updateFrameAndClearCache.bind(this),window.addEventListener("resize",this.updateFrameAndClearCache),this.updateFrame(this.scrollTo.bind(this,this.props.initialIndex))}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.axis!==e.axis&&this.clearSizeCache(),!this.unstable){if(++this.updateCounter>50)return this.unstable=!0,console.error("ReactList failed to reach a stable state.");this.updateCounterTimeoutId||(this.updateCounterTimeoutId=setTimeout((function(){t.updateCounter=0,delete t.updateCounterTimeoutId}),0)),this.updateFrame()}}},{key:"maybeSetState",value:function(e,t){if(function(e,t){for(var r in t)if(e[r]!==t[r])return!1;return!0}(this.state,e))return t();this.setState(e,t)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateFrameAndClearCache),this.scrollParent.removeEventListener("scroll",this.updateFrameAndClearCache,D),this.scrollParent.removeEventListener("mousewheel",G,D)}},{key:"getOffset",value:function(e){var t=this.props.axis,r=e[f[t]]||0,o=b[t];do{r+=e[o]||0}while(e=e.offsetParent);return r}},{key:"getEl",value:function(){return this.el||this.items}},{key:"getScrollPosition",value:function(){if("number"==typeof this.cachedScrollPosition)return this.cachedScrollPosition;var e=this.scrollParent,t=this.props.axis,r=C[t],o=e===window?document.body[r]||document.documentElement[r]:e[r],n=this.getScrollSize()-this.props.scrollParentViewportSizeGetter(this),a=Math.max(0,Math.min(o,n)),s=this.getEl();return this.cachedScrollPosition=this.getOffset(e)+a-this.getOffset(s),this.cachedScrollPosition}},{key:"setScroll",value:function(e){var t=this.scrollParent,r=this.props.axis;if(e+=this.getOffset(this.getEl()),t===window)return window.scrollTo(0,e);e-=this.getOffset(this.scrollParent),t[C[r]]=e}},{key:"getScrollSize",value:function(){var e=this.scrollParent,t=document,r=t.body,o=t.documentElement,n=v[this.props.axis];return e===window?Math.max(r[n],o[n]):e[n]}},{key:"hasDeterminateSize",value:function(){var e=this.props,t=e.itemSizeGetter;return"uniform"===e.type||t}},{key:"getStartAndEnd",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.threshold,t=this.getScrollPosition(),r=Math.max(0,t-e),o=t+this.props.scrollParentViewportSizeGetter(this)+e;return this.hasDeterminateSize()&&(o=Math.min(o,this.getSpaceBefore(this.props.length))),{start:r,end:o}}},{key:"getItemSizeAndItemsPerRow",value:function(){var e=this.props,t=e.axis,r=e.useStaticSize,o=this.state,n=o.itemSize,a=o.itemsPerRow;if(r&&n&&a)return{itemSize:n,itemsPerRow:a};var s=this.items.children;if(!s.length)return{};var l=s[0],i=l[S[t]],u=Math.abs(i-n);if((isNaN(u)||u>=1)&&(n=i),!n)return{};for(var c=b[t],p=l[c],d=s[a=1];d&&d[c]===p;d=s[a])++a;return{itemSize:n,itemsPerRow:a}}},{key:"clearSizeCache",value:function(){this.cachedScrollPosition=null}},{key:"updateFrameAndClearCache",value:function(e){return this.clearSizeCache(),this.updateFrame(e)}},{key:"updateFrame",value:function(e){switch(this.updateScrollParent(),"function"!=typeof e&&(e=G),this.props.type){case"simple":return this.updateSimpleFrame(e);case"variable":return this.updateVariableFrame(e);case"uniform":return this.updateUniformFrame(e)}}},{key:"updateScrollParent",value:function(){var e=this.scrollParent;this.scrollParent=this.props.scrollParentGetter(this),e!==this.scrollParent&&(e&&(e.removeEventListener("scroll",this.updateFrameAndClearCache),e.removeEventListener("mousewheel",G)),this.clearSizeCache(),this.scrollParent.addEventListener("scroll",this.updateFrameAndClearCache,D),this.scrollParent.addEventListener("mousewheel",G,D))}},{key:"updateSimpleFrame",value:function(e){var t=this.getStartAndEnd().end,r=this.items.children,o=0;if(r.length){var n=this.props.axis,a=r[0],s=r[r.length-1];o=this.getOffset(s)+s[S[n]]-this.getOffset(a)}if(o>t)return e();var l=this.props,i=l.pageSize,u=l.length,c=Math.min(this.state.size+i,u);this.maybeSetState({size:c},e)}},{key:"updateVariableFrame",value:function(e){this.props.itemSizeGetter||this.cacheSizes();for(var t=this.getStartAndEnd(),r=t.start,o=t.end,n=this.props,a=n.length,s=n.pageSize,l=0,i=0,u=0,c=a-1;i<c;){var p=this.getSizeOfItem(i);if(null==p||l+p>r)break;l+=p,++i}for(var d=a-i;u<d&&l<o;){var m=this.getSizeOfItem(i+u);if(null==m){u=Math.min(u+s,d);break}l+=m,++u}this.maybeSetState({from:i,size:u},e)}},{key:"updateUniformFrame",value:function(e){var t=this.getItemSizeAndItemsPerRow(),r=t.itemSize,o=t.itemsPerRow;if(!r||!o)return e();var n=this.getStartAndEnd(),a=n.start,s=n.end,l=k(this.props,{from:Math.floor(a/r)*o,size:(Math.ceil((s-a)/r)+1)*o,itemsPerRow:o}),i=l.from,u=l.size;return this.maybeSetState({itemsPerRow:o,from:i,itemSize:r,size:u},e)}},{key:"getSpaceBefore",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null!=t[e])return t[e];var r=this.state,o=r.itemSize,n=r.itemsPerRow;if(o)return t[e]=Math.floor(e/n)*o;for(var a=e;a>0&&null==t[--a];);for(var s=t[a]||0,l=a;l<e;++l){t[l]=s;var i=this.getSizeOfItem(l);if(null==i)break;s+=i}return t[e]=s}},{key:"cacheSizes",value:function(){for(var e=this.cache,t=this.state.from,r=this.items.children,o=S[this.props.axis],n=0,a=r.length;n<a;++n)e[t+n]=r[n][o]}},{key:"getSizeOfItem",value:function(e){var t=this.cache,r=this.items,o=this.props,n=o.axis,a=o.itemSizeGetter,s=o.itemSizeEstimator,l=o.type,i=this.state,u=i.from,c=i.itemSize,p=i.size;if(c)return c;if(a)return a(e);if(e in t)return t[e];if("simple"===l&&e>=u&&e<u+p&&r){var d=r.children[e-u];if(d)return d[S[n]]}return s?s(e,t):void 0}},{key:"scrollTo",value:function(e){null!=e&&this.setScroll(this.getSpaceBefore(e))}},{key:"scrollAround",value:function(e){var t=this.getScrollPosition(),r=this.getSpaceBefore(e),o=r-this.props.scrollParentViewportSizeGetter(this)+this.getSizeOfItem(e),n=Math.min(o,r),a=Math.max(o,r);return t<=n?this.setScroll(n):t>a?this.setScroll(a):void 0}},{key:"getVisibleRange",value:function(){for(var e,t,r=this.state,o=r.from,n=r.size,a=this.getStartAndEnd(0),s=a.start,l=a.end,i={},u=o;u<o+n;++u){var c=this.getSpaceBefore(u,i),p=c+this.getSizeOfItem(u);null==e&&p>s&&(e=u),null!=e&&c<l&&(t=u)}return[e,t]}},{key:"renderItems",value:function(){for(var e=this,t=this.props,r=t.itemRenderer,o=t.itemsRenderer,n=this.state,a=n.from,s=n.size,l=[],i=0;i<s;++i)l.push(r(a+i,i));return o(l,(function(t){return e.items=t}))}},{key:"render",value:function(){var e=this,r=this.props,o=r.axis,n=r.length,a=r.type,s=r.useTranslate3d,l=this.state,i=l.from,u=l.itemsPerRow,c=this.renderItems();if("simple"===a)return c;var p={position:"relative"},d={},m=Math.ceil(n/u)*u,g=this.getSpaceBefore(m,d);g&&(p[I[o]]=g,"x"===o&&(p.overflowX="hidden"));var h=this.getSpaceBefore(i,d),f="x"===o?h:0,E="y"===o?h:0,S=s?"translate3d(".concat(f,"px, ").concat(E,"px, 0)"):"translate(".concat(f,"px, ").concat(E,"px)"),b={msTransform:S,WebkitTransform:S,transform:S};return t.default.createElement("div",{style:p,ref:function(t){return e.el=t}},t.default.createElement("div",{style:b},c))}}]),r}(t.Component),g(o,"displayName","ReactList"),g(o,"propTypes",{axis:r.default.oneOf(["x","y"]),initialIndex:r.default.number,itemRenderer:r.default.func,itemSizeEstimator:r.default.func,itemSizeGetter:r.default.func,itemsRenderer:r.default.func,length:r.default.number,minSize:r.default.number,pageSize:r.default.number,scrollParentGetter:r.default.func,scrollParentViewportSizeGetter:r.default.func,threshold:r.default.number,type:r.default.oneOf(["simple","variable","uniform"]),useStaticSize:r.default.bool,useTranslate3d:r.default.bool}),g(o,"defaultProps",{axis:"y",itemRenderer:function(e,r){return t.default.createElement("div",{key:r},e)},itemsRenderer:function(e,r){return t.default.createElement("div",{ref:r},e)},length:0,minSize:1,pageSize:10,scrollParentGetter:function(e){for(var t=e.props.axis,r=e.getEl(),o=y[t];r=r.parentElement;)switch(window.getComputedStyle(r)[o]){case"auto":case"scroll":case"overlay":return r}return window},scrollParentViewportSizeGetter:function(e){var t=e.props.axis,r=e.scrollParent;return r===window?window[E[t]]:r[h[t]]},threshold:100,type:"simple",useStaticSize:!1,useTranslate3d:!1}),n)})?o.apply(t,n):o)||(e.exports=a)},xxSO:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("D57K").__importStar(r("ERkP")),n=r("zGdY"),a=r("myse");r("9ONk"),t.ICON_ARROW_UP="arrow-up",t.ICON_ARROW_DOWN="arrow-down";class s extends o.PureComponent{constructor(){super(...arguments),this.getArrowDirection=()=>{const{currentSort:e,sortCriteria:r}=this.props;return r&&r.includes(e)?(this.localSort=e,this.isDescendingSort(e)?t.ICON_ARROW_DOWN:t.ICON_ARROW_UP):""},this.updateSortCriteria=()=>{if(!this.props.isLoading){const{sortCriteria:e,onSwitchSortCriteria:t}=this.props;this.localSort?this.localSort=e[0===e.indexOf(this.localSort)?e.length-1:0]:this.localSort=e[0],t(this.localSort)}},this.isDescendingSort=e=>e===n.SortByEnum.STUDENT_COUNT_DESC||e===n.SortByEnum.MODIFIED_DATE_DESC||e===n.SortByEnum.TITLE_DESC}render(){const{localize:e,sortCriteria:r,viewText:n,analyticsEventAugmentor:s,analyticsId:l}=this.props,i=`${l}.sortBy.button`;let u="";if(this.getArrowDirection()){const r=this.getArrowDirection()===t.ICON_ARROW_UP?"asc":"desc";u=e.translate(`course.groupWorkspace.sort.${n}.${r}`)}return o.createElement(o.Fragment,null,o.createElement("button",{id:`sort-by-${n}-button`,className:"active clear ellipse","aria-describedby":`sort-by-${n}`,onClick:s(a.AnalyticsEventTypes.CLICK_EVENT,this.updateSortCriteria,i),"data-analytics-id":i},e.translate(`course.groupWorkspace.sort.${n}.description`),o.createElement("div",{className:"sort-list-arrows "+this.getArrowDirection(),role:"presentation"},r&&r.length>0&&r.map((e,t)=>o.createElement("div",{className:this.isDescendingSort(e)?"sort-list-arrow-down":"sort-list-arrow-up",key:t})))),o.createElement("span",{id:`sort-by-${n}`,className:"sr-only","aria-live":"assertive"},u))}}t.BaseSortControl=s,t.default=a.withAnalytics(s)},"zTL+":function(e,t,r){"use strict";r.r(t);var o,n,a=r("O94r"),s=r.n(a),l=r("ERkP"),i=r("HbGN"),u=r("cxan"),c=(r("aWzz"),r("7O4Y")),p=r("N79G"),d=r("dJc8"),m=r("TuTm"),g=r("E7qy"),h=Object(g.a)(l.createElement("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),f=Object(g.a)(l.createElement("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),E=Object(g.a)(l.createElement("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),S=Object(g.a)(l.createElement("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),b=Object(g.a)(l.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),y=r("HCes"),v=r("xOTp"),C={success:l.createElement(h,{fontSize:"inherit"}),warning:l.createElement(f,{fontSize:"inherit"}),error:l.createElement(E,{fontSize:"inherit"}),info:l.createElement(S,{fontSize:"inherit"})},I=l.createElement(b,{fontSize:"small"}),G=l.forwardRef((function(e,t){var r=e.action,o=e.children,n=e.classes,a=e.className,s=e.closeText,p=void 0===s?"Close":s,d=e.color,g=e.icon,h=e.iconMapping,f=void 0===h?C:h,E=e.onClose,S=e.role,b=void 0===S?"alert":S,G=e.severity,D=void 0===G?"success":G,k=e.variant,w=void 0===k?"standard":k,N=Object(i.a)(e,["action","children","classes","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"]);return(l.createElement(m.a,Object(u.a)({role:b,square:!0,elevation:0,className:Object(c.a)(n.root,n["".concat(w).concat(Object(v.a)(d||D))],a),ref:t},N),!1!==g?l.createElement("div",{className:n.icon},g||f[D]||C[D]):null,l.createElement("div",{className:n.message},o),null!=r?l.createElement("div",{className:n.action},r):null,null==r&&E?l.createElement("div",{className:n.action},l.createElement(y.a,{size:"small","aria-label":p,title:p,color:"inherit",onClick:E},I)):null))})),D=Object(d.a)((function(e){var t="light"===e.palette.type?p.a:p.i,r="light"===e.palette.type?p.i:p.a;return{root:Object(u.a)({},e.typography.body2,{borderRadius:e.shape.borderRadius,backgroundColor:"transparent",display:"flex",padding:"6px 16px"}),standardSuccess:{color:t(e.palette.success.main,.6),backgroundColor:r(e.palette.success.main,.9),"& $icon":{color:e.palette.success.main}},standardInfo:{color:t(e.palette.info.main,.6),backgroundColor:r(e.palette.info.main,.9),"& $icon":{color:e.palette.info.main}},standardWarning:{color:t(e.palette.warning.main,.6),backgroundColor:r(e.palette.warning.main,.9),"& $icon":{color:e.palette.warning.main}},standardError:{color:t(e.palette.error.main,.6),backgroundColor:r(e.palette.error.main,.9),"& $icon":{color:e.palette.error.main}},outlinedSuccess:{color:t(e.palette.success.main,.6),border:"1px solid ".concat(e.palette.success.main),"& $icon":{color:e.palette.success.main}},outlinedInfo:{color:t(e.palette.info.main,.6),border:"1px solid ".concat(e.palette.info.main),"& $icon":{color:e.palette.info.main}},outlinedWarning:{color:t(e.palette.warning.main,.6),border:"1px solid ".concat(e.palette.warning.main),"& $icon":{color:e.palette.warning.main}},outlinedError:{color:t(e.palette.error.main,.6),border:"1px solid ".concat(e.palette.error.main),"& $icon":{color:e.palette.error.main}},filledSuccess:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.success.main},filledInfo:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.info.main},filledWarning:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.warning.main},filledError:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.error.main},icon:{marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9},message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}}),{name:"MuiAlert"})(G),k=r("mo7f"),w=r("12Zt"),N=(Object(w.b)(((o={})[w.a.LeftToRight]=l.createElement(l.Fragment,null,l.createElement("circle",{cx:"12",cy:"12",r:"11",stroke:"currentColor",strokeWidth:"2"}),l.createElement("path",{fill:"currentColor",stroke:"transparent",d:"M13 7c0-.5523-.4477-1-1-1s-1 .4477-1 1h2zm-2 10c0 .5523.4477 1 1 1s1-.4477 1-1h-2zm0-10v10h2V7h-2z"}),l.createElement("path",{fill:"currentColor",stroke:"transparent",d:"M17 13c.5523 0 1-.4477 1-1s-.4477-1-1-1v2zM7 11c-.5523 0-1 .4477-1 1s.4477 1 1 1v-2zm10 0H7v2h10v-2z"})),o)),r("MQql")),x=(Object(w.b)(((n={})[w.a.LeftToRight]=l.createElement(l.Fragment,null,l.createElement("path",{fill:"currentColor",stroke:"transparent",d:"M.0308 22.7538c-.136.5353.1878 1.0795.723 1.2154.5353.136 1.0795-.1878 1.2154-.723l-1.9384-.4924zm18 .4924c.1359.5352.6801.859 1.2154.723.5352-.1359.859-.6801.723-1.2154l-1.9384.4924zm-16.0616 0C2.858 19.747 5.5218 17 10 17v-2c-5.5218 0-8.8887 3.4991-9.9692 7.7538l1.9384.4924zM10 17c4.4782 0 7.1421 2.747 8.0308 6.2462l1.9384-.4924C18.8887 18.4991 15.5218 15 10 15v2z"}),l.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 16c2.7614 0 5-2.2386 5-5s-2.2386-5-5-5-5 2.2386-5 5 2.2386 5 5 5zM18.5 8C20.433 8 22 6.433 22 4.5S20.433 1 18.5 1 15 2.567 15 4.5 16.567 8 18.5 8zM23 12c-.2345-1.9862-2.5-4-4.5-4"})),n)),r("DgiY")),W=r("chh/"),O=Object(x.a)((function(e){var t,r;return Object(W.a)({root:{outline:0},message:{outline:0},action:(t={},t[e.breakpoints.up("sm")]={marginTop:0},t.marginTop=10,t.marginLeft=12,t),dismissAction:(r={},r[e.breakpoints.up("sm")]={marginTop:0,marginRight:0},r.marginLeft=0,r.marginTop=-8,r.marginRight=-8,r)})})),_=function(){return(_=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},T=function(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(r[o[n]]=e[o[n]])}return r},A=function(e){var t=e.children,r=e.className,o=e.icon,n=e.severity,a=T(e,["children","className","icon","severity"]),i=O(e),u="error"===n;return l.createElement(D,_({},a,{className:s()(r,i.root),role:"presentation",action:"actions"in e?l.createElement(l.Fragment,null,e.actions.map((function(e){return l.cloneElement(e,{className:s()(e.props&&e.props.className,i.action)})}))):"onClose"in e&&"closeText"in e?l.createElement(k.a,{className:i.dismissAction,"aria-label":e.closeText,title:e.closeText,onClick:e.onClose},l.createElement(N.a,null)):null,icon:o||!1,severity:n||"info"}),l.createElement("div",{className:i.message,tabIndex:-1,role:u?"alert":"status","aria-live":u?"assertive":"polite"},t))};r.d(t,"AnalyticsBanner",(function(){return A}))},"zv+s":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r("D57K"),n=o.__importStar(r("ERkP")),a=o.__importDefault(r("x6OE")),s=o.__importStar(r("nsO7")),l=r("uDfI"),i=r("8unJ"),u=r("OI4n"),c=r("qdia"),p=r("MC1S"),d=o.__importDefault(r("E0IX")),m=r("JfV0"),g=r("E1pj"),h=o.__importDefault(r("Czjl")),f=r("0x+l");r("x5ha");const E=r("9OUN");class S extends n.PureComponent{constructor(e){super(e),this.hideOrDisplayWarning=(e,t)=>{let r={};switch(e){case c.WarningCodes.GroupIsFullErrorCode:r={groupFull:t};break;case c.WarningCodes.GroupEnrollmentExpiredErrorCode:r={enrollmentExpired:t};break;case c.WarningCodes.TargetGroupSubmittedAttemptErrorCode:r={hasSubmittedGroupAttempt:t};break;case c.WarningCodes.SourceGroupSubmittedAttemptErrorCode:r={hasEnrolledGroupSubmittedAttempt:t};break;case c.WarningCodes.SourceGroupGradeErrorCode:r={hasSourceEnrollmentGroupGrades:t};break;case c.WarningCodes.TargetGroupGradeErrorCode:r={hasTargetEnrollmentGroupGrades:t}}this.setState(r)},this.renderGroupSelfEnrollItem=(e,t)=>{const{groups:r,userId:o,courseId:a,analyticsId:s,isLoading:l,groupSetById:i}=this.props,c=r[e],p=u.getGroupSetIdFromGroups(r),m=l?null:i(p);return n.createElement(d.default,{debounceTime:2e3,isLoading:this.props.isLoading,key:c.id,group:c,groupSet:m,enrolledGroupId:this.getEnrolledGroupId(),userId:o,courseId:a,userHasGrade:this.isUserInGroupWithGrade(),userHasSubmission:this.isUserInGroupWithSubmission(),onChangeOffset:()=>{},courseMemberCount:this.props.courseMemberCount,hideOrDisplayWarning:this.hideOrDisplayWarning,onGroupJoined:this.props.onGroupJoined,analyticsId:`${s}.groupItem`,useFlexbox:t})},this.renderWarnings=()=>{return[{code:c.WarningCodes.GroupEnrollmentExpiredErrorCode,state:this.state.enrollmentExpired},{code:c.WarningCodes.GroupIsFullErrorCode,state:this.state.groupFull},{code:c.WarningCodes.SourceGroupSubmittedAttemptErrorCode,state:this.state.hasEnrolledGroupSubmittedAttempt},{code:c.WarningCodes.TargetGroupSubmittedAttemptErrorCode,state:this.state.hasSubmittedGroupAttempt},{code:c.WarningCodes.SourceGroupGradeErrorCode,state:this.state.hasSourceEnrollmentGroupGrades},{code:c.WarningCodes.TargetGroupGradeErrorCode,state:this.state.hasTargetEnrollmentGroupGrades}].map(e=>this.renderWarning(e))},this.renderWarning=e=>{const{localize:t,analyticsId:r}=this.props;return n.createElement("div",{key:e.code},!e.state&&n.createElement(p.Notification,{type:p.NotificationType.Failure,message:t.translate(`course.groupWorkspace.selfEnroll.${e.code}`),analyticsId:`${r}.${e.code}.warning.close.button`,onClose:()=>this.hideOrDisplayWarning(e.code,!0),disableAutoDismiss:!0}))},this.renderGroupSelfEnrollListView=e=>{const{UltraWindowSize:t}=this.props;return t.isSmallBreakpoint()?this.renderFlexboxGroupSelfEnrollListView(e):this.renderTableGroupSelfEnrollListView(e)},this.renderFlexboxGroupSelfEnrollListView=e=>{const{localize:t}=this.props;return n.createElement("ul",{id:"expandGrid",className:"flex-content",tabIndex:-1},n.createElement("li",{id:"table-header-row"},n.createElement("div",{className:"description-header column-title"},t.translate("course.groupWorkspace.selfEnroll.groups"))),this.renderSubItems())},this.renderTableGroupSelfEnrollListView=e=>{const{localize:t}=this.props;return n.createElement("div",{className:"tabular-list-container"},n.createElement("div",{className:"tabular-list"},n.createElement("table",{id:"expandGrid",className:"table-content","aria-label":t.translate("course.groupWorkspace.pageTitle"),tabIndex:-1},n.createElement("thead",{className:"list-item-column-header"},n.createElement("tr",{id:"table-header-row"},n.createElement("th",{className:"column-title",id:"col-name"},t.translate("course.groupWorkspace.selfEnroll.groups")),n.createElement("th",{className:"column-student-count count",id:"col-count",tabIndex:-1},t.translate("course.groupWorkspace.selfEnroll.numberOfStudents")))),n.createElement(a.default,{itemsRenderer:(e,t)=>n.createElement("tbody",{ref:t},e),length:e,itemRenderer:e=>this.renderGroupSelfEnrollItem(e,!1),ref:e=>this.list=e}))))},this.renderContentTitle=()=>{const{contentName:e}=this.props;return n.createElement("span",{className:"panel-sub-title"},e)},this.renderContentGroupTitle=()=>{const{localize:e,contentName:t,analyticsId:r}=this.props;return n.createElement("div",{className:"black-header-contents"},n.createElement(p.IconButton,{ariaLabel:e.translate("base.menu"),className:"left-off-canvas-toggle menu-toggle  standard-button dark-background",icon:n.createElement(f.MainMenu,null),title:e.translate("base.menu"),analyticsId:`${r}.toggle.menu.button`}),n.createElement("h1",{className:"panel-title"},e.translate("course.groupWorkspace.selfEnroll.groupTitle",{contentName:t})))},this.renderEnrollmentWarning=()=>{const{localize:e}=this.props,{isEnrollmentDateImportant:t,relativeDate:r,enrollmentDateState:o}=this.state;let a=null;switch(o){case"Before":a=n.createElement("div",null,e.translate("course.groupWorkspace.selfEnroll.enrollment-starts",{time:r}));break;case"Open":r&&(a=n.createElement("div",{className:t?"enrollment-warning":null},e.translate("course.groupWorkspace.selfEnroll.enrollment-closes",{time:r})));break;case"After":a=n.createElement("div",null,e.translate("course.groupWorkspace.selfEnroll.enrollment-closed"))}return a},this.state={groupFull:!0,enrollmentExpired:!0,hasSubmittedGroupAttempt:!0,hasEnrolledGroupSubmittedAttempt:!0,hasSourceEnrollmentGroupGrades:!0,hasTargetEnrollmentGroupGrades:!0}}componentDidMount(){const{courseId:e,contentId:t,onLoadGroups:r,onGetCourseContext:o}=this.props;r({courseId:e,contentId:t,expand:u.GET_CONTENT_BY_ID_EXPAND},!0),o(e)}componentDidUpdate(e,t){this.onLoadSelfEnrollmentGroupInfo(t)}onLoadSelfEnrollmentGroupInfo(e){const{groups:t,locale:r,babelfishFormatInstance:o}=this.props;u.getSelfEnrollmentGroupInfo(t,r,o).then(t=>{const{relativeDate:r,isEnrollmentDateImportant:o,enrollmentDateState:n}=t;e.relativeDate===r&&e.isEnrollmentDateImportant===o&&e.enrollmentDateState===n||this.updateSelfEnrollmentGroupInfo(t)})}getEnrolledGroup(){const{groups:e,userId:t}=this.props;return s.find(e,e=>s.some(e.memberships,e=>e.userId===t))}getEnrolledGroupId(){const{groups:e,userId:t}=this.props,r=s.find(e,e=>s.some(e.memberships,e=>e.userId===t));return r?r.id:void 0}isUserInGroupWithSubmission(){const e=this.getEnrolledGroup();return e&&e.hasSubmittedGroupAttempt}isUserInGroupWithGrade(){const e=this.getEnrolledGroup();return e&&e.hasGrades}updateSelfEnrollmentGroupInfo(e){const{relativeDate:t,isEnrollmentDateImportant:r,enrollmentDateState:o}=e;this.setState({relativeDate:t,isEnrollmentDateImportant:r,enrollmentDateState:o})}renderSubItems(){const{analyticsId:e,courseId:t,courseMemberCount:r,groups:o,localize:a,userId:s}=this.props;return o?o.map(o=>n.createElement(h.default,{key:o.id,group:o,userId:s,enrolledGroupId:this.getEnrolledGroupId(),courseId:t,hideOrDisplayWarning:this.hideOrDisplayWarning,ariaLabelledBy:`title-${o.id}`,courseMemberCount:r,userHasGrade:this.isUserInGroupWithGrade(),userHasSubmission:this.isUserInGroupWithSubmission(),localize:a,onGroupJoined:this.props.onGroupJoined,analyticsId:`${e}.groupContent`,useFlexbox:!0})):null}render(){const{groups:e,localize:t}=this.props,r=e&&e.length||0,o=this.renderEnrollmentWarning();return n.createElement("div",{className:"page-group-set content-group-self-enroll-layer"},n.createElement("div",{className:"panel-wrap"},n.createElement("header",{className:"panel-header simple-header"},n.createElement("div",{className:"panel-titles-container"},this.renderContentTitle(),this.renderContentGroupTitle())),n.createElement("div",{className:"guidance-wrapper"},n.createElement("div",{className:"guidance-title"},t.translate("course.groupWorkspace.selfEnroll.groupDetails")),o),n.createElement("div",{className:null!==o?"panel-content enrollment-expires":"panel-content"},n.createElement("div",{className:"row collapse"},this.renderWarnings(),this.renderGroupSelfEnrollListView(r),this.props.isLoading?n.createElement("div",{className:"spinner bb-secondary-color-2"}):""))))}}t.ContentGroupSelfEnrollPanel=S,t.default=l.connect((e,t)=>({groups:u.sortByTitle(m.select.group.getGroupsByContentId(e,t.contentId)),isLoading:m.select.group.isLoading(e)||m.select.groupWorkspace.isLoading(e),courseMemberCount:m.select.course.getCourseStudentCount(e,t.courseId),groupSetById:t=>m.select.groupWorkspace.getGroupSetById(e,t)}),e=>E.bindActionCreators({onLoadGroups:m.actions.group.loadByContentId,onGetCourseContext:m.actions.course.fetchCourseStudentCount},e))(g.windowResizingResponsiveComponentWrapper(i.localizedComponentWrapper(S)))}}]);